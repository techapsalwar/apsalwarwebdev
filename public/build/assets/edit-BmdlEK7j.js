import{c as pt,u as dt,r as S,j as s,a as ht,H as _t,L as xt}from"./app-lLew-mq0.js";import{A as ft}from"./app-layout-KzQEyLiQ.js";import{B as N}from"./button-DTZ67Z4b.js";import{c as C,C as P,a as k,b as at,d as w}from"./card-DWcOyhKP.js";import{I as p}from"./input-C9VfnsW_.js";import{L as i}from"./label-BTNSqOD-.js";import{b as Cs,c as ws,d as Ts,S as Ps,a as b}from"./select-QGsFE1Nt.js";import{S as vt}from"./switch-CGXN52OW.js";import{S as ut}from"./separator-CX_6Iv6y.js";import{T as ks,G as lt,U as gt,X as Zs}from"./x-CV1yhBJZ.js";import{P as Fs}from"./plus-e9gYXact.js";import{A as jt}from"./arrow-left-Bw3DDjFc.js";import{S as bt}from"./save-D77rFDZ-.js";import{U as rt}from"./upload-BrYG0zcL.js";import{S as yt}from"./star-TBfeczUZ.js";/* empty css            */import"./index-BiNrCjIr.js";import"./index-CMRMG5Mo.js";import"./index-B9jue-Th.js";import"./index-CZQ422QV.js";import"./Combination-BEW_kzWa.js";import"./index-BzAksq8r.js";import"./index-BOY9t191.js";import"./index-CxACbU5U.js";import"./index-C7YjzNVQ.js";import"./index-DI1PiJH0.js";import"./index-CbiHmYlh.js";import"./index-DTTikWjI.js";import"./avatar-DYrdvPax.js";import"./index-BTFUtR64.js";import"./index-DHA2i0B2.js";import"./image-CHvhAmHJ.js";import"./link-D-JBfegL.js";import"./quote-DLUiA_F1.js";import"./newspaper-D3mdqZcT.js";import"./megaphone-BG2hP5oS.js";import"./indian-rupee-Bj1qYK0P.js";import"./file-check-UDYRRxCK.js";import"./folder-l-97kfum.js";import"./handshake-V1wEucA7.js";import"./school-BjNRgEiN.js";import"./index-t_bT_gQV.js";import"./chevron-up-Bv-H0xE7.js";import"./check-DGLhpy4l.js";function ga(o){const e=pt.c(237),{boardResult:a}=o;let n,h;e[0]===Symbol.for("react.memo_cache_sentinel")?(n={title:"Dashboard",href:"/dashboard"},h={title:"Board Results",href:"/admin/board-results"},e[0]=n,e[1]=h):(n=e[0],h=e[1]);const m=`/admin/board-results/${a.id}/edit`;let _;e[2]!==m?(_=[n,h,{title:"Edit Result",href:m}],e[2]=m,e[3]=_):_=e[3];const y=_,ct=a.academic_year,ot=a.board,it=a.class,Rs=a.stream||"",Is=String(a.appeared),Us=String(a.passed),Ls=String(a.pass_percentage),$s=a.school_average?String(a.school_average):"",As=a.highest_marks?String(a.highest_marks):"",Bs=a.above_90_percent?String(a.above_90_percent):"",Xs=a.above_80_percent?String(a.above_80_percent):"",Ds=a.above_70_percent?String(a.above_70_percent):"",Es=a.above_60_percent?String(a.above_60_percent):"",Hs=a.api_score?String(a.api_score):"",Os=a.overall_topper_name||"",zs=a.overall_topper_percentage?String(a.overall_topper_percentage):"",Vs=a.overall_topper_stream||"";let Re;e[4]!==a.academic_year||e[5]!==a.board||e[6]!==a.class||e[7]!==a.is_published||e[8]!==Us||e[9]!==Ls||e[10]!==$s||e[11]!==As||e[12]!==Bs||e[13]!==Xs||e[14]!==Ds||e[15]!==Es||e[16]!==Hs||e[17]!==Os||e[18]!==zs||e[19]!==Vs||e[20]!==Rs||e[21]!==Is?(Re={academic_year:ct,board:ot,class:it,stream:Rs,appeared:Is,passed:Us,pass_percentage:Ls,school_average:$s,highest_marks:As,above_90_percent:Bs,above_80_percent:Xs,above_70_percent:Ds,above_60_percent:Es,api_score:Hs,overall_topper_name:Os,overall_topper_percentage:zs,overall_topper_stream:Vs,is_published:a.is_published},e[4]=a.academic_year,e[5]=a.board,e[6]=a.class,e[7]=a.is_published,e[8]=Us,e[9]=Ls,e[10]=$s,e[11]=As,e[12]=Bs,e[13]=Xs,e[14]=Ds,e[15]=Es,e[16]=Hs,e[17]=Os,e[18]=zs,e[19]=Vs,e[20]=Rs,e[21]=Is,e[22]=Re):Re=e[22];const{data:t,setData:l,processing:Gs,errors:Ie}=dt(Re),[Ue,et]=S.useState(null),[Le,st]=S.useState(a.overall_topper_photo_url),[Ms,tt]=S.useState(!1),Ys=S.useRef(null),$e=Tt;let Ae;e[23]!==a.class_x_toppers?(Ae=()=>$e(a.class_x_toppers),e[23]=a.class_x_toppers,e[24]=Ae):Ae=e[24];const[x,qs]=S.useState(Ae);let Be;e[25]!==a.science_toppers?(Be=()=>$e(a.science_toppers),e[25]=a.science_toppers,e[26]=Be):Be=e[26];const[f,Js]=S.useState(Be);let Xe;e[27]!==a.commerce_toppers?(Xe=()=>$e(a.commerce_toppers),e[27]=a.commerce_toppers,e[28]=Xe):Xe=e[28];const[v,Ks]=S.useState(Xe);let De;e[29]!==a.humanities_toppers?(De=()=>$e(a.humanities_toppers),e[29]=a.humanities_toppers,e[30]=De):De=e[30];const[u,Qs]=S.useState(De);let Ee;e[31]!==a.id||e[32]!==x||e[33]!==v||e[34]!==t||e[35]!==u||e[36]!==Ue||e[37]!==Ms||e[38]!==f?(Ee=r=>{r.preventDefault();const c=new FormData;c.append("_method","PUT"),Object.entries(t).forEach(g=>{const[T,j]=g;j!==null&&j!==""&&(typeof j=="boolean"?c.append(T,j?"1":"0"):c.append(T,String(j)))}),Ms?c.append("remove_overall_topper_photo","1"):Ue&&c.append("overall_topper_photo",Ue);const d=(g,T)=>{g.forEach((j,Ss)=>{c.append(`${T}[${Ss}][name]`,j.name),c.append(`${T}[${Ss}][percentage]`,String(j.percentage||"")),j.photo&&c.append(`${T}[${Ss}][photo]`,j.photo),j.removePhoto&&c.append(`${T}[${Ss}][remove_photo]`,"1")})};d(x,"class_x_toppers"),d(f,"science_toppers"),d(v,"commerce_toppers"),d(u,"humanities_toppers"),ht.post(`/admin/board-results/${a.id}`,c,{forceFormData:!0})},e[31]=a.id,e[32]=x,e[33]=v,e[34]=t,e[35]=u,e[36]=Ue,e[37]=Ms,e[38]=f,e[39]=Ee):Ee=e[39];const Ws=Ee;let He;e[40]===Symbol.for("react.memo_cache_sentinel")?(He=r=>{const c=r.target.files?.[0];c&&(et(c),st(URL.createObjectURL(c)),tt(!1))},e[40]=He):He=e[40];const nt=He;let Oe;e[41]===Symbol.for("react.memo_cache_sentinel")?(Oe=()=>{et(null),st(null),tt(!0),Ys.current&&(Ys.current.value="")},e[41]=Oe):Oe=e[41];const mt=Oe,ze=wt,Ve=Ct,Ge=St;let Me;e[42]!==t.appeared||e[43]!==t.passed||e[44]!==l?(Me=()=>{const r=parseInt(t.appeared)||0,c=parseInt(t.passed)||0;if(r>0){const d=(c/r*100).toFixed(2);l("pass_percentage",d)}},e[42]=t.appeared,e[43]=t.passed,e[44]=l,e[45]=Me):Me=e[45];const F=Me,Ye=Nt;let qe;e[46]===Symbol.for("react.memo_cache_sentinel")?(qe=s.jsx(_t,{title:"Edit Board Result"}),e[46]=qe):qe=e[46];let Je;e[47]===Symbol.for("react.memo_cache_sentinel")?(Je=s.jsx(N,{variant:"ghost",size:"icon",asChild:!0,children:s.jsx(xt,{href:"/admin/board-results",children:s.jsx(jt,{className:"h-5 w-5"})})}),e[47]=Je):Je=e[47];let Ke;e[48]===Symbol.for("react.memo_cache_sentinel")?(Ke=s.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[s.jsx(ks,{className:"h-6 w-6 text-amber-500"}),"Edit Board Result"]}),e[48]=Ke):Ke=e[48];let R;e[49]!==a.academic_year||e[50]!==a.class?(R=s.jsxs("div",{className:"flex items-center gap-4",children:[Je,s.jsxs("div",{children:[Ke,s.jsxs("p",{className:"text-gray-500",children:[a.academic_year," - Class ",a.class]})]})]}),e[49]=a.academic_year,e[50]=a.class,e[51]=R):R=e[51];let I;e[52]!==l?(I=r=>l("is_published",r),e[52]=l,e[53]=I):I=e[53];let U;e[54]!==t.is_published||e[55]!==I?(U=s.jsx(vt,{id:"is_published",checked:t.is_published,onCheckedChange:I}),e[54]=t.is_published,e[55]=I,e[56]=U):U=e[56];let Qe;e[57]===Symbol.for("react.memo_cache_sentinel")?(Qe=s.jsx(i,{htmlFor:"is_published",children:"Published"}),e[57]=Qe):Qe=e[57];let L;e[58]!==U?(L=s.jsxs("div",{className:"flex items-center gap-2",children:[U,Qe]}),e[58]=U,e[59]=L):L=e[59];let We;e[60]===Symbol.for("react.memo_cache_sentinel")?(We=s.jsx(bt,{className:"h-4 w-4 mr-2"}),e[60]=We):We=e[60];let $;e[61]!==Gs?($=s.jsxs(N,{type:"submit",disabled:Gs,children:[We,"Update Result"]}),e[61]=Gs,e[62]=$):$=e[62];let A;e[63]!==L||e[64]!==$?(A=s.jsxs("div",{className:"flex items-center gap-4",children:[L,$]}),e[63]=L,e[64]=$,e[65]=A):A=e[65];let B;e[66]!==R||e[67]!==A?(B=s.jsxs("div",{className:"flex items-center justify-between",children:[R,A]}),e[66]=R,e[67]=A,e[68]=B):B=e[68];let Ze;e[69]===Symbol.for("react.memo_cache_sentinel")?(Ze=s.jsx(P,{children:s.jsxs(k,{className:"flex items-center gap-2",children:[s.jsx(lt,{className:"h-5 w-5"}),"Basic Information"]})}),e[69]=Ze):Ze=e[69];let es;e[70]===Symbol.for("react.memo_cache_sentinel")?(es=s.jsx(i,{htmlFor:"academic_year",children:"Academic Year *"}),e[70]=es):es=e[70];let X;e[71]!==l?(X=r=>l("academic_year",r.target.value),e[71]=l,e[72]=X):X=e[72];let D;e[73]!==t.academic_year||e[74]!==X?(D=s.jsx(p,{id:"academic_year",value:t.academic_year,onChange:X,maxLength:4}),e[73]=t.academic_year,e[74]=X,e[75]=D):D=e[75];let E;e[76]!==Ie.academic_year?(E=Ie.academic_year&&s.jsx("p",{className:"text-sm text-red-500",children:Ie.academic_year}),e[76]=Ie.academic_year,e[77]=E):E=e[77];let H;e[78]!==D||e[79]!==E?(H=s.jsxs("div",{className:"space-y-2",children:[es,D,E]}),e[78]=D,e[79]=E,e[80]=H):H=e[80];let ss;e[81]===Symbol.for("react.memo_cache_sentinel")?(ss=s.jsx(i,{htmlFor:"board",children:"Board *"}),e[81]=ss):ss=e[81];let O;e[82]!==l?(O=r=>l("board",r),e[82]=l,e[83]=O):O=e[83];let ts;e[84]===Symbol.for("react.memo_cache_sentinel")?(ts=s.jsx(ws,{children:s.jsx(Ts,{})}),e[84]=ts):ts=e[84];let as;e[85]===Symbol.for("react.memo_cache_sentinel")?(as=s.jsxs(Ps,{children:[s.jsx(b,{value:"cbse",children:"CBSE"}),s.jsx(b,{value:"icse",children:"ICSE"}),s.jsx(b,{value:"state",children:"State Board"})]}),e[85]=as):as=e[85];let z;e[86]!==t.board||e[87]!==O?(z=s.jsxs("div",{className:"space-y-2",children:[ss,s.jsxs(Cs,{value:t.board,onValueChange:O,children:[ts,as]})]}),e[86]=t.board,e[87]=O,e[88]=z):z=e[88];let ls;e[89]===Symbol.for("react.memo_cache_sentinel")?(ls=s.jsx(i,{htmlFor:"class",children:"Class *"}),e[89]=ls):ls=e[89];let V;e[90]!==l?(V=r=>l("class",r),e[90]=l,e[91]=V):V=e[91];let rs;e[92]===Symbol.for("react.memo_cache_sentinel")?(rs=s.jsx(ws,{children:s.jsx(Ts,{})}),e[92]=rs):rs=e[92];let cs;e[93]===Symbol.for("react.memo_cache_sentinel")?(cs=s.jsxs(Ps,{children:[s.jsx(b,{value:"X",children:"Class X"}),s.jsx(b,{value:"XII",children:"Class XII"})]}),e[93]=cs):cs=e[93];let G;e[94]!==t.class||e[95]!==V?(G=s.jsxs("div",{className:"space-y-2",children:[ls,s.jsxs(Cs,{value:t.class,onValueChange:V,children:[rs,cs]})]}),e[94]=t.class,e[95]=V,e[96]=G):G=e[96];let M;e[97]!==t.class||e[98]!==t.stream||e[99]!==l?(M=t.class==="XII"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(i,{htmlFor:"stream",children:"Stream"}),s.jsxs(Cs,{value:t.stream,onValueChange:r=>l("stream",r),children:[s.jsx(ws,{children:s.jsx(Ts,{placeholder:"Select stream"})}),s.jsxs(Ps,{children:[s.jsx(b,{value:"Science",children:"Science"}),s.jsx(b,{value:"Commerce",children:"Commerce"}),s.jsx(b,{value:"Humanities",children:"Humanities"})]})]})]}),e[97]=t.class,e[98]=t.stream,e[99]=l,e[100]=M):M=e[100];let Y;e[101]!==H||e[102]!==z||e[103]!==G||e[104]!==M?(Y=s.jsxs(C,{children:[Ze,s.jsx(w,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[H,z,G,M]})})]}),e[101]=H,e[102]=z,e[103]=G,e[104]=M,e[105]=Y):Y=e[105];let os;e[106]===Symbol.for("react.memo_cache_sentinel")?(os=s.jsx(P,{children:s.jsxs(k,{className:"flex items-center gap-2",children:[s.jsx(gt,{className:"h-5 w-5"}),"Statistics"]})}),e[106]=os):os=e[106];let is;e[107]===Symbol.for("react.memo_cache_sentinel")?(is=s.jsx(i,{htmlFor:"appeared",children:"Students Appeared *"}),e[107]=is):is=e[107];let q;e[108]!==l?(q=r=>l("appeared",r.target.value),e[108]=l,e[109]=q):q=e[109];let J;e[110]!==F||e[111]!==t.appeared||e[112]!==q?(J=s.jsxs("div",{className:"space-y-2",children:[is,s.jsx(p,{id:"appeared",type:"number",value:t.appeared,onChange:q,onBlur:F,min:"0"})]}),e[110]=F,e[111]=t.appeared,e[112]=q,e[113]=J):J=e[113];let ns;e[114]===Symbol.for("react.memo_cache_sentinel")?(ns=s.jsx(i,{htmlFor:"passed",children:"Students Passed *"}),e[114]=ns):ns=e[114];let K;e[115]!==l?(K=r=>l("passed",r.target.value),e[115]=l,e[116]=K):K=e[116];let Q;e[117]!==F||e[118]!==t.passed||e[119]!==K?(Q=s.jsxs("div",{className:"space-y-2",children:[ns,s.jsx(p,{id:"passed",type:"number",value:t.passed,onChange:K,onBlur:F,min:"0"})]}),e[117]=F,e[118]=t.passed,e[119]=K,e[120]=Q):Q=e[120];let ms;e[121]===Symbol.for("react.memo_cache_sentinel")?(ms=s.jsx(i,{htmlFor:"pass_percentage",children:"Pass Percentage *"}),e[121]=ms):ms=e[121];let W;e[122]!==l?(W=r=>l("pass_percentage",r.target.value),e[122]=l,e[123]=W):W=e[123];let Z;e[124]!==t.pass_percentage||e[125]!==W?(Z=s.jsxs("div",{className:"space-y-2",children:[ms,s.jsx(p,{id:"pass_percentage",type:"number",step:"0.01",value:t.pass_percentage,onChange:W,min:"0",max:"100"})]}),e[124]=t.pass_percentage,e[125]=W,e[126]=Z):Z=e[126];let ee;e[127]!==J||e[128]!==Q||e[129]!==Z?(ee=s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[J,Q,Z]}),e[127]=J,e[128]=Q,e[129]=Z,e[130]=ee):ee=e[130];let ps;e[131]===Symbol.for("react.memo_cache_sentinel")?(ps=s.jsx(ut,{}),e[131]=ps):ps=e[131];let ds;e[132]===Symbol.for("react.memo_cache_sentinel")?(ds=s.jsx(i,{htmlFor:"above_90_percent",children:"90%+ (Distinction)"}),e[132]=ds):ds=e[132];let se;e[133]!==l?(se=r=>l("above_90_percent",r.target.value),e[133]=l,e[134]=se):se=e[134];let te;e[135]!==t.above_90_percent||e[136]!==se?(te=s.jsxs("div",{className:"space-y-2",children:[ds,s.jsx(p,{id:"above_90_percent",type:"number",value:t.above_90_percent,onChange:se,min:"0"})]}),e[135]=t.above_90_percent,e[136]=se,e[137]=te):te=e[137];let hs;e[138]===Symbol.for("react.memo_cache_sentinel")?(hs=s.jsx(i,{htmlFor:"above_80_percent",children:"80%+ (First Div)"}),e[138]=hs):hs=e[138];let ae;e[139]!==l?(ae=r=>l("above_80_percent",r.target.value),e[139]=l,e[140]=ae):ae=e[140];let le;e[141]!==t.above_80_percent||e[142]!==ae?(le=s.jsxs("div",{className:"space-y-2",children:[hs,s.jsx(p,{id:"above_80_percent",type:"number",value:t.above_80_percent,onChange:ae,min:"0"})]}),e[141]=t.above_80_percent,e[142]=ae,e[143]=le):le=e[143];let _s;e[144]===Symbol.for("react.memo_cache_sentinel")?(_s=s.jsx(i,{htmlFor:"above_70_percent",children:"70%+ (Second Div)"}),e[144]=_s):_s=e[144];let re;e[145]!==l?(re=r=>l("above_70_percent",r.target.value),e[145]=l,e[146]=re):re=e[146];let ce;e[147]!==t.above_70_percent||e[148]!==re?(ce=s.jsxs("div",{className:"space-y-2",children:[_s,s.jsx(p,{id:"above_70_percent",type:"number",value:t.above_70_percent,onChange:re,min:"0"})]}),e[147]=t.above_70_percent,e[148]=re,e[149]=ce):ce=e[149];let xs;e[150]===Symbol.for("react.memo_cache_sentinel")?(xs=s.jsx(i,{htmlFor:"above_60_percent",children:"60%+ (Third Div)"}),e[150]=xs):xs=e[150];let oe;e[151]!==l?(oe=r=>l("above_60_percent",r.target.value),e[151]=l,e[152]=oe):oe=e[152];let ie;e[153]!==t.above_60_percent||e[154]!==oe?(ie=s.jsxs("div",{className:"space-y-2",children:[xs,s.jsx(p,{id:"above_60_percent",type:"number",value:t.above_60_percent,onChange:oe,min:"0"})]}),e[153]=t.above_60_percent,e[154]=oe,e[155]=ie):ie=e[155];let ne;e[156]!==te||e[157]!==le||e[158]!==ce||e[159]!==ie?(ne=s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[te,le,ce,ie]}),e[156]=te,e[157]=le,e[158]=ce,e[159]=ie,e[160]=ne):ne=e[160];let fs;e[161]===Symbol.for("react.memo_cache_sentinel")?(fs=s.jsx(i,{htmlFor:"school_average",children:"School Average %"}),e[161]=fs):fs=e[161];let me;e[162]!==l?(me=r=>l("school_average",r.target.value),e[162]=l,e[163]=me):me=e[163];let pe;e[164]!==t.school_average||e[165]!==me?(pe=s.jsxs("div",{className:"space-y-2",children:[fs,s.jsx(p,{id:"school_average",type:"number",step:"0.01",value:t.school_average,onChange:me,min:"0",max:"100"})]}),e[164]=t.school_average,e[165]=me,e[166]=pe):pe=e[166];let vs;e[167]===Symbol.for("react.memo_cache_sentinel")?(vs=s.jsx(i,{htmlFor:"highest_marks",children:"Highest Marks %"}),e[167]=vs):vs=e[167];let de;e[168]!==l?(de=r=>l("highest_marks",r.target.value),e[168]=l,e[169]=de):de=e[169];let he;e[170]!==t.highest_marks||e[171]!==de?(he=s.jsxs("div",{className:"space-y-2",children:[vs,s.jsx(p,{id:"highest_marks",type:"number",step:"0.01",value:t.highest_marks,onChange:de,min:"0",max:"100"})]}),e[170]=t.highest_marks,e[171]=de,e[172]=he):he=e[172];let us;e[173]===Symbol.for("react.memo_cache_sentinel")?(us=s.jsx(i,{htmlFor:"api_score",children:"API Score"}),e[173]=us):us=e[173];let _e;e[174]!==l?(_e=r=>l("api_score",r.target.value),e[174]=l,e[175]=_e):_e=e[175];let xe;e[176]!==t.api_score||e[177]!==_e?(xe=s.jsxs("div",{className:"space-y-2",children:[us,s.jsx(p,{id:"api_score",type:"number",step:"0.01",value:t.api_score,onChange:_e,min:"0"})]}),e[176]=t.api_score,e[177]=_e,e[178]=xe):xe=e[178];let fe;e[179]!==pe||e[180]!==he||e[181]!==xe?(fe=s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[pe,he,xe]}),e[179]=pe,e[180]=he,e[181]=xe,e[182]=fe):fe=e[182];let ve;e[183]!==ee||e[184]!==ne||e[185]!==fe?(ve=s.jsxs(C,{children:[os,s.jsxs(w,{className:"space-y-4",children:[ee,ps,ne,fe]})]}),e[183]=ee,e[184]=ne,e[185]=fe,e[186]=ve):ve=e[186];let ue;e[187]!==x||e[188]!==t.class?(ue=t.class==="X"&&s.jsxs(C,{children:[s.jsx(P,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(k,{className:"flex items-center gap-2",children:[s.jsx(ks,{className:"h-5 w-5 text-amber-500"}),"Class X Toppers"]}),s.jsx(at,{children:"Top 5 performing students"})]}),s.jsxs(N,{type:"button",variant:"outline",size:"sm",onClick:()=>ze(qs,5,x),disabled:x.length>=5,children:[s.jsx(Fs,{className:"h-4 w-4 mr-2"}),"Add Topper"]})]})}),s.jsx(w,{children:x.length===0?s.jsxs("div",{className:"text-center py-8 text-gray-500 border-2 border-dashed rounded-lg",children:[s.jsx(ks,{className:"h-10 w-10 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"No toppers added yet"})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:x.map((r,c)=>s.jsx(Ye,{topper:r,index:c,onUpdate:(d,g)=>Ge(qs,x,c,d,g),onRemove:()=>Ve(qs,x,c)},c))})})]}),e[187]=x,e[188]=t.class,e[189]=ue):ue=e[189];let ge;e[190]!==v||e[191]!==t.class||e[192]!==u||e[193]!==f?(ge=t.class==="XII"&&s.jsxs(s.Fragment,{children:[s.jsxs(C,{children:[s.jsx(P,{className:"bg-blue-50 dark:bg-blue-900/20",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(k,{className:"flex items-center gap-2 text-blue-700 dark:text-blue-300",children:"ðŸ”¬ Science Stream Topper"}),f.length===0&&s.jsxs(N,{type:"button",variant:"outline",size:"sm",onClick:()=>ze(Js,1,f),children:[s.jsx(Fs,{className:"h-4 w-4 mr-2"}),"Add"]})]})}),f.length>0&&s.jsx(w,{className:"pt-4",children:f.map((r,c)=>s.jsx(Ye,{topper:r,index:c,streamLabel:"Science",onUpdate:(d,g)=>Ge(Js,f,c,d,g),onRemove:()=>Ve(Js,f,c)},c))})]}),s.jsxs(C,{children:[s.jsx(P,{className:"bg-green-50 dark:bg-green-900/20",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(k,{className:"flex items-center gap-2 text-green-700 dark:text-green-300",children:"ðŸ“Š Commerce Stream Topper"}),v.length===0&&s.jsxs(N,{type:"button",variant:"outline",size:"sm",onClick:()=>ze(Ks,1,v),children:[s.jsx(Fs,{className:"h-4 w-4 mr-2"}),"Add"]})]})}),v.length>0&&s.jsx(w,{className:"pt-4",children:v.map((r,c)=>s.jsx(Ye,{topper:r,index:c,streamLabel:"Commerce",onUpdate:(d,g)=>Ge(Ks,v,c,d,g),onRemove:()=>Ve(Ks,v,c)},c))})]}),s.jsxs(C,{children:[s.jsx(P,{className:"bg-purple-50 dark:bg-purple-900/20",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(k,{className:"flex items-center gap-2 text-purple-700 dark:text-purple-300",children:"ðŸ“š Humanities Stream Topper"}),u.length===0&&s.jsxs(N,{type:"button",variant:"outline",size:"sm",onClick:()=>ze(Qs,1,u),children:[s.jsx(Fs,{className:"h-4 w-4 mr-2"}),"Add"]})]})}),u.length>0&&s.jsx(w,{className:"pt-4",children:u.map((r,c)=>s.jsx(Ye,{topper:r,index:c,streamLabel:"Humanities",onUpdate:(d,g)=>Ge(Qs,u,c,d,g),onRemove:()=>Ve(Qs,u,c)},c))})]})]}),e[190]=v,e[191]=t.class,e[192]=u,e[193]=f,e[194]=ge):ge=e[194];let je;e[195]!==Y||e[196]!==ve||e[197]!==ue||e[198]!==ge?(je=s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[Y,ve,ue,ge]}),e[195]=Y,e[196]=ve,e[197]=ue,e[198]=ge,e[199]=je):je=e[199];let gs;e[200]===Symbol.for("react.memo_cache_sentinel")?(gs=s.jsxs(P,{className:"bg-gradient-to-br from-amber-50 to-amber-100 dark:from-amber-900/20 dark:to-amber-800/20",children:[s.jsxs(k,{className:"flex items-center gap-2",children:[s.jsx(ks,{className:"h-5 w-5 text-amber-600"}),"Overall School Topper"]}),s.jsx(at,{children:"The highest scoring student"})]}),e[200]=gs):gs=e[200];let be;e[201]!==Le?(be=s.jsx("div",{className:"flex flex-col items-center",children:s.jsx("div",{className:"relative",children:Le?s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-32 h-32 rounded-full overflow-hidden border-4 border-amber-300 shadow-lg",children:s.jsx("img",{src:Le,alt:"Topper",className:"w-full h-full object-cover"})}),s.jsx(N,{type:"button",variant:"destructive",size:"icon",className:"absolute -top-2 -right-2 h-6 w-6 rounded-full",onClick:mt,children:s.jsx(Zs,{className:"h-3 w-3"})})]}):s.jsxs("label",{className:"w-32 h-32 rounded-full bg-gray-100 border-4 border-dashed border-gray-300 flex flex-col items-center justify-center cursor-pointer hover:bg-gray-50 transition-colors",children:[s.jsx(rt,{className:"h-8 w-8 text-gray-400 mb-1"}),s.jsx("span",{className:"text-xs text-gray-500",children:"Upload Photo"}),s.jsx("input",{ref:Ys,type:"file",accept:"image/*",className:"hidden",onChange:nt})]})})}),e[201]=Le,e[202]=be):be=e[202];let js;e[203]===Symbol.for("react.memo_cache_sentinel")?(js=s.jsx(i,{htmlFor:"overall_topper_name",children:"Name"}),e[203]=js):js=e[203];let ye;e[204]!==l?(ye=r=>l("overall_topper_name",r.target.value),e[204]=l,e[205]=ye):ye=e[205];let Ne;e[206]!==t.overall_topper_name||e[207]!==ye?(Ne=s.jsxs("div",{className:"space-y-2",children:[js,s.jsx(p,{id:"overall_topper_name",value:t.overall_topper_name,onChange:ye,placeholder:"Student name"})]}),e[206]=t.overall_topper_name,e[207]=ye,e[208]=Ne):Ne=e[208];let bs;e[209]===Symbol.for("react.memo_cache_sentinel")?(bs=s.jsx(i,{htmlFor:"overall_topper_percentage",children:"Percentage"}),e[209]=bs):bs=e[209];let Se;e[210]!==l?(Se=r=>l("overall_topper_percentage",r.target.value),e[210]=l,e[211]=Se):Se=e[211];let Ce;e[212]!==t.overall_topper_percentage||e[213]!==Se?(Ce=s.jsx(p,{id:"overall_topper_percentage",type:"number",step:"0.01",min:"0",max:"100",value:t.overall_topper_percentage,onChange:Se}),e[212]=t.overall_topper_percentage,e[213]=Se,e[214]=Ce):Ce=e[214];let ys;e[215]===Symbol.for("react.memo_cache_sentinel")?(ys=s.jsx("span",{className:"text-gray-500 font-medium",children:"%"}),e[215]=ys):ys=e[215];let we;e[216]!==Ce?(we=s.jsxs("div",{className:"space-y-2",children:[bs,s.jsxs("div",{className:"flex items-center gap-2",children:[Ce,ys]})]}),e[216]=Ce,e[217]=we):we=e[217];let Te;e[218]!==t.class||e[219]!==t.overall_topper_stream||e[220]!==l?(Te=t.class==="XII"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(i,{htmlFor:"overall_topper_stream",children:"Stream"}),s.jsxs(Cs,{value:t.overall_topper_stream,onValueChange:r=>l("overall_topper_stream",r),children:[s.jsx(ws,{children:s.jsx(Ts,{placeholder:"Select stream"})}),s.jsxs(Ps,{children:[s.jsx(b,{value:"Science",children:"Science"}),s.jsx(b,{value:"Commerce",children:"Commerce"}),s.jsx(b,{value:"Humanities",children:"Humanities"})]})]})]}),e[218]=t.class,e[219]=t.overall_topper_stream,e[220]=l,e[221]=Te):Te=e[221];let Pe;e[222]!==be||e[223]!==Ne||e[224]!==we||e[225]!==Te?(Pe=s.jsx("div",{className:"space-y-6",children:s.jsxs(C,{className:"sticky top-6",children:[gs,s.jsxs(w,{className:"pt-6 space-y-4",children:[be,Ne,we,Te]})]})}),e[222]=be,e[223]=Ne,e[224]=we,e[225]=Te,e[226]=Pe):Pe=e[226];let ke;e[227]!==Pe||e[228]!==je?(ke=s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[je,Pe]}),e[227]=Pe,e[228]=je,e[229]=ke):ke=e[229];let Fe;e[230]!==Ws||e[231]!==ke||e[232]!==B?(Fe=s.jsxs("form",{onSubmit:Ws,className:"space-y-6 p-6",children:[B,ke]}),e[230]=Ws,e[231]=ke,e[232]=B,e[233]=Fe):Fe=e[233];let Ns;return e[234]!==y||e[235]!==Fe?(Ns=s.jsxs(ft,{breadcrumbs:y,children:[qe,Fe]}),e[234]=y,e[235]=Fe,e[236]=Ns):Ns=e[236],Ns}function Nt(o){const{topper:e,index:a,onUpdate:n,onRemove:h,streamLabel:m}=o;return s.jsxs(C,{className:"relative",children:[s.jsx(N,{type:"button",variant:"ghost",size:"icon",className:"absolute top-2 right-2 h-6 w-6 text-red-500",onClick:h,children:s.jsx(Zs,{className:"h-4 w-4"})}),s.jsx(w,{className:"pt-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsxs("div",{className:"relative",children:[e.photoPreview?s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-20 h-20 rounded-full overflow-hidden border-4 border-amber-200",children:s.jsx("img",{src:e.photoPreview,alt:e.name||"Topper",className:"w-full h-full object-cover"})}),s.jsx(N,{type:"button",variant:"destructive",size:"icon",className:"absolute -top-1 -right-1 h-5 w-5 rounded-full",onClick:()=>n("removePhoto",!0),children:s.jsx(Zs,{className:"h-3 w-3"})})]}):s.jsxs("label",{className:"w-20 h-20 rounded-full bg-gray-100 border-2 border-dashed border-gray-300 flex items-center justify-center cursor-pointer hover:bg-gray-50",children:[s.jsx(lt,{className:"h-8 w-8 text-gray-400"}),s.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:_=>{const y=_.target.files?.[0];y&&n("photo",y)}})]}),!e.photoPreview&&s.jsxs("label",{className:"absolute -bottom-1 -right-1 bg-amber-500 rounded-full p-1.5 cursor-pointer hover:bg-amber-600",children:[s.jsx(rt,{className:"h-3 w-3 text-white"}),s.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:_=>{const y=_.target.files?.[0];y&&n("photo",y)}})]})]})}),s.jsxs("div",{className:"flex-1 space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(yt,{className:"h-4 w-4 text-amber-500"}),s.jsx("span",{className:"text-sm font-medium text-amber-600",children:m?`${m} Topper`:`Rank ${a+1}`})]}),s.jsx(p,{placeholder:"Student Name",value:e.name,onChange:_=>n("name",_.target.value)}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(p,{type:"number",step:"0.01",min:"0",max:"100",placeholder:"Percentage",value:e.percentage||"",onChange:_=>n("percentage",parseFloat(_.target.value)||null),className:"w-32"}),s.jsx("span",{className:"text-gray-500",children:"%"})]})]})]})})]})}function St(o,e,a,n,h){const m=[...e];n==="photo"&&h instanceof File?m[a]={...m[a],photo:h,photoPreview:URL.createObjectURL(h),removePhoto:!1}:n==="removePhoto"&&h===!0?m[a]={...m[a],photo:null,photoPreview:null,removePhoto:!0}:m[a]={...m[a],[n]:h},o(m)}function Ct(o,e,a){const n=e.filter((h,m)=>m!==a);o(n)}function wt(o,e,a){a.length<e&&o([...a,{name:"",percentage:null,photo:null,photoPreview:null,existingPhoto:null,removePhoto:!1}])}function Tt(o){return!o||o.length===0?[]:o.map(Pt)}function Pt(o){return{name:o.name,percentage:o.percentage,photo:null,photoPreview:o.photo_url,existingPhoto:o.photo,removePhoto:!1}}export{ga as default};
