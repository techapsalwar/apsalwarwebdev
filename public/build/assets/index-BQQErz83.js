import{c as de,r as Y,j as t,L as se,a as v,H as xe}from"./app-Cmq9oDGi.js";import{P as he}from"./public-layout-_iFs12re.js";import{B as m}from"./button-Cf4oe_XG.js";import{I as pe}from"./input-CJJo5L_5.js";import{c as ae,d as re}from"./card-X8yrq1E7.js";import{B as y}from"./badge-B7t43j3u.js";import{c as ge,d as ue,a as ce,S as fe,b as be}from"./select-MDq58P37.js";import{S as le}from"./star-CyatTZkq.js";import{a as w,U as je}from"./x-HfyhX8Ju.js";import{C as Ne}from"./clock-C5BgtsbY.js";import{M as ye}from"./map-pin-BgR1TPKX.js";import{A as we}from"./arrow-right--Pd0ARFS.js";import{E as ve}from"./external-link-DRdWDLeD.js";import{S as Se}from"./search-CM4xpWys.js";import{F as ke}from"./filter-BWU97YmN.js";/* empty css            */import"./sun-DLMMAeyw.js";import"./chevron-up-08YVdQiA.js";import"./phone-CqDNmbT7.js";import"./mail-D8LrJxeW.js";import"./index-BZSQ9xrA.js";import"./index-uM6iNYTc.js";import"./index-7JW2xj0O.js";import"./index-BQQBJX9w.js";import"./Combination-NTvMx_hL.js";import"./index-DvAkvJaB.js";import"./index-DyFFqtbr.js";import"./index-C9wRH-1q.js";import"./index-D_u97ceG.js";import"./index-CJgzQKWL.js";import"./check-z4pC7DcM.js";const ie={upcoming:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-100",ongoing:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-100",completed:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-100",cancelled:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-100"},Z={academic:"Academic",cultural:"Cultural",sports:"Sports",annual:"Annual",competition:"Competition",workshop:"Workshop",celebration:"Celebration",meeting:"Meeting",other:"Other"};function mt(a){const e=de.c(62),{events:i,featuredEvents:o,eventTypes:V,filters:n}=a,[c,oe]=Y.useState(n?.search||""),[r,ne]=Y.useState(n?.type||"all"),[l,me]=Y.useState(n?.show_past==="true");let S;e[0]!==i?.data?(S=i?.data||[],e[0]=i?.data,e[1]=S):S=e[1];const k=S,q=i?.last_page||1,_=i?.current_page||1,C=i?.per_page||12,A=i?.total||0;let T;e[2]!==i?.links?(T=i?.links||[],e[2]=i?.links,e[3]=T):T=e[3];const O=T;let P;e[4]!==c||e[5]!==r||e[6]!==l?(P=s=>{s.preventDefault(),v.get("/events",{search:c||void 0,type:r!=="all"?r:void 0,show_past:l?"true":void 0},{preserveState:!0,preserveScroll:!0})},e[4]=c,e[5]=r,e[6]=l,e[7]=P):P=e[7];const z=P;let E;e[8]!==c||e[9]!==l?(E=s=>{ne(s),v.get("/events",{search:c||void 0,type:s!=="all"?s:void 0,show_past:l?"true":void 0},{preserveState:!0,preserveScroll:!0})},e[8]=c,e[9]=l,e[10]=E):E=e[10];const W=E;let D;e[11]!==c||e[12]!==r||e[13]!==l?(D=()=>{const s=!l;me(s),v.get("/events",{search:c||void 0,type:r!=="all"?r:void 0,show_past:s?"true":void 0},{preserveState:!0,preserveScroll:!0})},e[11]=c,e[12]=r,e[13]=l,e[14]=D):D=e[14];const G=D,J=De,ee=Ee,K=Pe,te=Te;let I;e[15]===Symbol.for("react.memo_cache_sentinel")?(I=t.jsx(xe,{title:"Events - APS Alwar"}),e[15]=I):I=e[15];let L;e[16]===Symbol.for("react.memo_cache_sentinel")?(L=t.jsx("section",{className:"relative bg-gradient-to-b from-amber-50 to-white dark:from-gray-900 dark:to-gray-950 py-16",children:t.jsx("div",{className:"container mx-auto px-4",children:t.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[t.jsx(y,{className:"mb-4 bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-100",children:"School Events"}),t.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 dark:text-white mb-4",children:"Events & Activities"}),t.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300",children:"Discover and participate in various events, competitions, and activities at Army Public School, Alwar."})]})})}),e[16]=L):L=e[16];let d;e[17]!==o?(d=o&&o.length>0&&t.jsx("section",{className:"py-12 bg-gradient-to-r from-amber-50 to-orange-50 dark:from-gray-800 dark:to-gray-900",children:t.jsxs("div",{className:"container mx-auto px-4",children:[t.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6 flex items-center gap-2",children:[t.jsx(le,{className:"h-6 w-6 text-amber-500 fill-amber-500"}),"Featured Events"]}),t.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:o.map(s=>t.jsxs(ae,{className:"overflow-hidden border-amber-200 dark:border-amber-800 bg-white/80 dark:bg-gray-800/80",children:[t.jsx("div",{className:"aspect-video bg-gray-200 dark:bg-gray-700 overflow-hidden",children:s.featured_image?t.jsx("img",{src:te(s.featured_image),alt:s.title,className:"h-full w-full object-cover"}):t.jsx("div",{className:"h-full w-full flex items-center justify-center bg-gradient-to-br from-amber-100 to-orange-100 dark:from-amber-900 dark:to-orange-900",children:t.jsx(w,{className:"h-12 w-12 text-amber-500"})})}),t.jsxs(re,{className:"p-4",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(y,{className:ie[s.status],children:s.status.charAt(0).toUpperCase()+s.status.slice(1)}),s.event_type&&t.jsx(y,{variant:"outline",children:Z[s.event_type]||s.event_type})]}),t.jsx("h3",{className:"font-semibold text-lg mb-2 line-clamp-1",children:s.title}),t.jsxs("div",{className:"flex items-center text-sm text-muted-foreground mb-3",children:[t.jsx(w,{className:"mr-1 h-4 w-4"}),J(s.start_date)]}),t.jsx(se,{href:`/events/${s.slug}`,children:t.jsx(m,{className:"w-full bg-amber-600 hover:bg-amber-700",children:"View Details"})})]})]},s.id))})]})}),e[17]=o,e[18]=d):d=e[18];let F;e[19]===Symbol.for("react.memo_cache_sentinel")?(F=t.jsx(Se,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),e[19]=F):F=e[19];let $;e[20]===Symbol.for("react.memo_cache_sentinel")?($=s=>oe(s.target.value),e[20]=$):$=e[20];let x;e[21]!==c?(x=t.jsxs("div",{className:"relative flex-1",children:[F,t.jsx(pe,{placeholder:"Search events...",value:c,onChange:$,className:"pl-9"})]}),e[21]=c,e[22]=x):x=e[22];let M;e[23]===Symbol.for("react.memo_cache_sentinel")?(M=t.jsx(m,{type:"submit",children:"Search"}),e[23]=M):M=e[23];let h;e[24]!==z||e[25]!==x?(h=t.jsxs("form",{onSubmit:z,className:"flex gap-2 w-full md:w-auto md:max-w-md",children:[x,M]}),e[24]=z,e[25]=x,e[26]=h):h=e[26];let U;e[27]===Symbol.for("react.memo_cache_sentinel")?(U=t.jsx(ke,{className:"h-4 w-4 text-muted-foreground"}),e[27]=U):U=e[27];let B;e[28]===Symbol.for("react.memo_cache_sentinel")?(B=t.jsx(ge,{className:"w-[150px]",children:t.jsx(ue,{placeholder:"All Types"})}),e[28]=B):B=e[28];let H;e[29]===Symbol.for("react.memo_cache_sentinel")?(H=t.jsx(ce,{value:"all",children:"All Types"}),e[29]=H):H=e[29];let p;e[30]!==V?(p=V.map(Ae),e[30]=V,e[31]=p):p=e[31];let g;e[32]!==p?(g=t.jsxs(fe,{children:[H,p]}),e[32]=p,e[33]=g):g=e[33];let u;e[34]!==W||e[35]!==r||e[36]!==g?(u=t.jsxs("div",{className:"flex items-center gap-2",children:[U,t.jsxs(be,{value:r,onValueChange:W,children:[B,g]})]}),e[34]=W,e[35]=r,e[36]=g,e[37]=u):u=e[37];const Q=l?"default":"outline",X=l?"Showing All":"Show Past";let f;e[38]!==G||e[39]!==Q||e[40]!==X?(f=t.jsx(m,{variant:Q,onClick:G,size:"sm",children:X}),e[38]=G,e[39]=Q,e[40]=X,e[41]=f):f=e[41];let b;e[42]!==u||e[43]!==f?(b=t.jsxs("div",{className:"flex gap-4 items-center",children:[u,f]}),e[42]=u,e[43]=f,e[44]=b):b=e[44];let j;e[45]!==h||e[46]!==b?(j=t.jsx("section",{className:"py-8 bg-gray-50 dark:bg-gray-900",children:t.jsx("div",{className:"container mx-auto px-4",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between items-center",children:[h,b]})})}),e[45]=h,e[46]=b,e[47]=j):j=e[47];let N;e[48]!==_||e[49]!==k||e[50]!==n||e[51]!==O||e[52]!==C||e[53]!==r||e[54]!==l||e[55]!==A||e[56]!==q?(N=t.jsx("section",{className:"py-16",children:t.jsx("div",{className:"container mx-auto px-4",children:k.length>0?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:k.map(s=>t.jsxs(ae,{className:"overflow-hidden transition-all hover:shadow-lg group",children:[t.jsxs("div",{className:"aspect-video bg-gray-200 dark:bg-gray-800 overflow-hidden relative",children:[s.featured_image?t.jsx("img",{src:te(s.featured_image),alt:s.title,className:"h-full w-full object-cover transition-transform duration-300 group-hover:scale-105"}):t.jsx("div",{className:"h-full w-full flex items-center justify-center bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-800",children:t.jsx(w,{className:"h-12 w-12 text-gray-400"})}),s.is_featured&&t.jsx("div",{className:"absolute top-2 right-2",children:t.jsx(le,{className:"h-5 w-5 text-amber-500 fill-amber-500"})})]}),t.jsxs(re,{className:"p-5",children:[t.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-3",children:[t.jsx(y,{className:ie[s.status],children:s.status.charAt(0).toUpperCase()+s.status.slice(1)}),s.event_type&&t.jsx(y,{variant:"outline",className:"text-xs",children:Z[s.event_type]||s.event_type}),s.registration_required&&t.jsx(y,{className:K(s)?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",children:K(s)?"Open":"Closed"})]}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2 line-clamp-2",children:s.title}),s.short_description&&t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-3 line-clamp-2",children:s.short_description}),t.jsxs("div",{className:"space-y-2 mb-4 text-sm text-muted-foreground",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(w,{className:"h-4 w-4"}),t.jsx("span",{children:J(s.start_date)}),s.end_date&&s.end_date!==s.start_date&&t.jsxs("span",{children:[" - ",J(s.end_date)]})]}),s.start_time&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ne,{className:"h-4 w-4"}),t.jsxs("span",{children:[ee(s.start_time),s.end_time&&` - ${ee(s.end_time)}`]})]}),s.venue&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ye,{className:"h-4 w-4"}),t.jsx("span",{className:"line-clamp-1",children:s.venue})]}),s.max_participants&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(je,{className:"h-4 w-4"}),t.jsxs("span",{children:[s.current_participants||0,"/",s.max_participants," participants"]})]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(se,{href:`/events/${s.slug}`,className:"flex-1",children:t.jsxs(m,{variant:"outline",className:"w-full",children:["View Details",t.jsx(we,{className:"ml-1 h-4 w-4"})]})}),s.registration_required&&K(s)&&s.google_form_url&&t.jsx("a",{href:s.google_form_url,target:"_blank",rel:"noopener noreferrer",children:t.jsx(m,{className:"bg-amber-600 hover:bg-amber-700",children:t.jsx(ve,{className:"h-4 w-4"})})})]})]})]},s.id))}),q>1&&t.jsxs("div",{className:"mt-12 flex flex-col items-center gap-4",children:[t.jsxs("p",{className:"text-sm text-gray-500",children:["Showing ",(_-1)*C+1," to"," ",Math.min(_*C,A)," of ",A," events"]}),t.jsx("div",{className:"flex gap-2",children:O.map(Ce)})]})]}):t.jsxs("div",{className:"text-center py-16",children:[t.jsx("div",{className:"text-gray-400 mb-4",children:t.jsx(w,{className:"h-16 w-16 mx-auto"})}),t.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No Events Found"}),t.jsx("p",{className:"text-gray-500",children:n?.search?`No results found for "${n.search}". Try a different search term.`:l?"There are no events in our records.":"There are no upcoming events at the moment."}),(n?.search||r!=="all")&&t.jsx(m,{variant:"outline",className:"mt-4",onClick:_e,children:"Clear Filters"})]})})}),e[48]=_,e[49]=k,e[50]=n,e[51]=O,e[52]=C,e[53]=r,e[54]=l,e[55]=A,e[56]=q,e[57]=N):N=e[57];let R;return e[58]!==j||e[59]!==N||e[60]!==d?(R=t.jsxs(he,{title:"Events - Army Public School Alwar",children:[I,L,d,j,N]}),e[58]=j,e[59]=N,e[60]=d,e[61]=R):R=e[61],R}function _e(){return v.get("/events")}function Ce(a,e){return t.jsx(m,{variant:a.active?"default":"outline",size:"sm",disabled:!a.url,onClick:()=>a.url&&v.get(a.url),dangerouslySetInnerHTML:{__html:a.label},className:a.active?"bg-amber-600 hover:bg-amber-700":""},e)}function Ae(a){return t.jsx(ce,{value:a,children:Z[a]||a},a)}function Te(a){return a?a.startsWith("http")?a:`/storage/${a}`:null}function Pe(a){return!(!a.registration_required||a.registration_deadline&&new Date(a.registration_deadline)<new Date||a.max_participants&&a.current_participants>=a.max_participants)}function Ee(a){if(!a)return null;try{const[e,i]=a.split(":"),o=new Date;return o.setHours(parseInt(e),parseInt(i)),o.toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit",hour12:!0})}catch{return a}}function De(a){return new Date(a).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})}export{mt as default};
