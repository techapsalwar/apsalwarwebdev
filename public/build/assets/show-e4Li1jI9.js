import{j as e,H as D,L as u}from"./app-Cmq9oDGi.js";import{P as R}from"./public-layout-_iFs12re.js";import{B as m}from"./button-Cf4oe_XG.js";import{c as i,C as o,a as n,d as l}from"./card-X8yrq1E7.js";import{B as t}from"./badge-B7t43j3u.js";import{S as T}from"./separator-5_1D4i4m.js";import{A as L,a as P,b as U}from"./alert-CehZcpun.js";import{A as $}from"./arrow-left-D1AIGgPf.js";import{S as j}from"./star-CyatTZkq.js";import{C as B}from"./circle-check-big-BhbhOSiW.js";import{C as I}from"./circle-alert-Ch7775ge.js";import{U as f,a as x}from"./x-HfyhX8Ju.js";import{E as b}from"./external-link-DRdWDLeD.js";import{C as z}from"./clock-C5BgtsbY.js";import{M as F}from"./map-pin-BgR1TPKX.js";import{U as M}from"./user-YiqrnPXv.js";import{M as q}from"./mail-D8LrJxeW.js";import{P as H}from"./phone-CqDNmbT7.js";import{S as E}from"./share-2-Cg_4Uhxl.js";/* empty css            */import"./sun-DLMMAeyw.js";import"./chevron-up-08YVdQiA.js";import"./search-CM4xpWys.js";import"./index-BZSQ9xrA.js";const N={upcoming:"bg-blue-100 text-blue-800",ongoing:"bg-green-100 text-green-800",completed:"bg-gray-100 text-gray-800",cancelled:"bg-red-100 text-red-800"},_={academic:"Academic",cultural:"Cultural",sports:"Sports",annual:"Annual",competition:"Competition",workshop:"Workshop",celebration:"Celebration",meeting:"Meeting",other:"Other"};function he({event:s,relatedEvents:d}){const c=a=>new Date(a).toLocaleDateString("en-IN",{weekday:"long",day:"numeric",month:"long",year:"numeric"}),h=a=>{if(!a)return null;try{const[A,S]=a.split(":"),g=new Date;return g.setHours(parseInt(A),parseInt(S)),g.toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit",hour12:!0})}catch{return a}},w=a=>new Date(a).toLocaleDateString("en-IN",{day:"numeric",month:"short"}),y=()=>!(!s.registration_required||s.registration_deadline&&new Date(s.registration_deadline)<new Date||s.max_participants&&s.current_participants>=s.max_participants||s.status!=="upcoming"&&s.status!=="ongoing"),k=()=>s.registration_required?s.status==="completed"||s.status==="cancelled"?"closed":s.registration_deadline&&new Date(s.registration_deadline)<new Date?"deadline_passed":s.max_participants&&s.current_participants>=s.max_participants?"full":"open":null,p=a=>a?a.startsWith("http")?a:`/storage/${a}`:null,C=async()=>{if(navigator.share)try{await navigator.share({title:s.title,text:s.short_description||s.description||"Check out this event at APS Alwar",url:window.location.href})}catch(a){console.log("Error sharing:",a)}else navigator.clipboard.writeText(window.location.href),alert("Link copied to clipboard!")},r=k();return e.jsxs(R,{title:`${s.title} - Army Public School Alwar`,children:[e.jsx(D,{title:`${s.title} - APS Alwar`}),e.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 border-b",children:e.jsx("div",{className:"container mx-auto px-4 py-4",children:e.jsxs(u,{href:"/events",className:"inline-flex items-center text-gray-600 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white transition-colors",children:[e.jsx($,{className:"mr-2 h-4 w-4"}),"Back to Events"]})})}),e.jsx("section",{className:"relative",children:s.featured_image?e.jsxs("div",{className:"relative h-64 md:h-96 overflow-hidden",children:[e.jsx("img",{src:p(s.featured_image),alt:s.title,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent"}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-6 md:p-8",children:e.jsxs("div",{className:"container mx-auto",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-3",children:[e.jsx(t,{className:N[s.status],children:s.status.charAt(0).toUpperCase()+s.status.slice(1)}),s.event_type&&e.jsx(t,{variant:"secondary",children:_[s.event_type]||s.event_type}),s.is_featured&&e.jsxs(t,{className:"bg-amber-500 text-white",children:[e.jsx(j,{className:"mr-1 h-3 w-3"}),"Featured"]})]}),e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white",children:s.title})]})})]}):e.jsx("div",{className:"bg-gradient-to-r from-amber-500 to-orange-500 py-12 md:py-16",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-3",children:[e.jsx(t,{className:"bg-white/20 text-white border-white/30",children:s.status.charAt(0).toUpperCase()+s.status.slice(1)}),s.event_type&&e.jsx(t,{className:"bg-white/20 text-white border-white/30",children:_[s.event_type]||s.event_type}),s.is_featured&&e.jsxs(t,{className:"bg-white text-amber-600",children:[e.jsx(j,{className:"mr-1 h-3 w-3"}),"Featured"]})]}),e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white",children:s.title})]})})}),e.jsx("section",{className:"py-12",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"grid gap-8 lg:grid-cols-3",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.registration_required&&r&&e.jsxs(L,{className:r==="open"?"border-green-200 bg-green-50 dark:border-green-800 dark:bg-green-950":"border-amber-200 bg-amber-50 dark:border-amber-800 dark:bg-amber-950",children:[r==="open"?e.jsx(B,{className:"h-4 w-4 text-green-600"}):e.jsx(I,{className:"h-4 w-4 text-amber-600"}),e.jsxs(P,{children:[r==="open"&&"Registration Open",r==="full"&&"Event Full",r==="deadline_passed"&&"Registration Closed",r==="closed"&&"Event Ended"]}),e.jsxs(U,{children:[r==="open"&&e.jsxs(e.Fragment,{children:["Register now to participate in this event!",s.registration_deadline&&e.jsxs("span",{className:"block mt-1 text-sm",children:["Deadline: ",c(s.registration_deadline)]})]}),r==="full"&&"This event has reached maximum capacity.",r==="deadline_passed"&&"The registration deadline has passed.",r==="closed"&&"This event has ended."]})]}),e.jsxs(i,{children:[e.jsx(o,{children:e.jsx(n,{children:"About This Event"})}),e.jsxs(l,{children:[s.short_description&&e.jsx("p",{className:"text-lg text-gray-700 dark:text-gray-300 mb-4 font-medium",children:s.short_description}),s.description?e.jsx("div",{className:"prose prose-gray dark:prose-invert max-w-none whitespace-pre-wrap",children:s.description}):e.jsx("p",{className:"text-gray-500",children:"No additional details available."})]})]}),s.registration_required&&y()&&e.jsxs(i,{className:"border-amber-200 dark:border-amber-800",children:[e.jsx(o,{className:"bg-amber-50 dark:bg-amber-950/50",children:e.jsxs(n,{className:"flex items-center gap-2 text-amber-800 dark:text-amber-200",children:[e.jsx(f,{className:"h-5 w-5"}),"Register for This Event"]})}),e.jsx(l,{className:"pt-6",children:e.jsxs("div",{className:"space-y-4",children:[s.max_participants&&e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Available Spots"}),e.jsxs("span",{className:"font-medium",children:[s.max_participants-(s.current_participants||0)," of ",s.max_participants]})]}),s.registration_deadline&&e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Registration Deadline"}),e.jsx("span",{className:"font-medium",children:c(s.registration_deadline)})]}),e.jsx(T,{}),s.google_form_url?e.jsx("a",{href:s.google_form_url,target:"_blank",rel:"noopener noreferrer",children:e.jsxs(m,{className:"w-full bg-amber-600 hover:bg-amber-700",size:"lg",children:[e.jsx(b,{className:"mr-2 h-4 w-4"}),"Register Now (Google Form)"]})}):s.registration_link?e.jsx("a",{href:s.registration_link,target:"_blank",rel:"noopener noreferrer",children:e.jsxs(m,{className:"w-full bg-amber-600 hover:bg-amber-700",size:"lg",children:[e.jsx(b,{className:"mr-2 h-4 w-4"}),"Register Now"]})}):e.jsx("p",{className:"text-center text-muted-foreground",children:"Registration link will be available soon."})]})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(i,{children:[e.jsx(o,{children:e.jsx(n,{children:"Event Details"})}),e.jsxs(l,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(x,{className:"h-5 w-5 text-amber-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:c(s.start_date)}),s.end_date&&s.end_date!==s.start_date&&e.jsxs("p",{className:"text-sm text-muted-foreground",children:["to ",c(s.end_date)]})]})]}),(s.start_time||s.end_time)&&e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(z,{className:"h-5 w-5 text-amber-600 mt-0.5"}),e.jsx("div",{children:e.jsxs("p",{className:"font-medium",children:[h(s.start_time),s.end_time&&` - ${h(s.end_time)}`]})})]}),s.venue&&e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(F,{className:"h-5 w-5 text-amber-600 mt-0.5"}),e.jsx("div",{children:e.jsx("p",{className:"font-medium",children:s.venue})})]}),s.max_participants&&e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(f,{className:"h-5 w-5 text-amber-600 mt-0.5"}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium",children:[s.current_participants||0," / ",s.max_participants]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Participants"})]})]})]})]}),(s.organizer||s.contact_email||s.contact_phone)&&e.jsxs(i,{children:[e.jsx(o,{children:e.jsx(n,{children:"Contact"})}),e.jsxs(l,{className:"space-y-3",children:[s.organizer&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(M,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:s.organizer})]}),s.contact_email&&e.jsxs("a",{href:`mailto:${s.contact_email}`,className:"flex items-center gap-3 text-amber-600 hover:text-amber-700",children:[e.jsx(q,{className:"h-4 w-4"}),e.jsx("span",{children:s.contact_email})]}),s.contact_phone&&e.jsxs("a",{href:`tel:${s.contact_phone}`,className:"flex items-center gap-3",children:[e.jsx(H,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:s.contact_phone})]})]})]}),e.jsx(i,{children:e.jsx(l,{className:"pt-6",children:e.jsxs(m,{variant:"outline",className:"w-full",onClick:C,children:[e.jsx(E,{className:"mr-2 h-4 w-4"}),"Share This Event"]})})})]})]})})}),d&&d.length>0&&e.jsx("section",{className:"py-12 bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"Related Events"}),e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:d.map(a=>e.jsx(u,{href:`/events/${a.slug}`,children:e.jsxs(i,{className:"overflow-hidden transition-all hover:shadow-lg h-full",children:[e.jsx("div",{className:"aspect-video bg-gray-200 dark:bg-gray-800 overflow-hidden",children:a.featured_image?e.jsx("img",{src:p(a.featured_image),alt:a.title,className:"h-full w-full object-cover"}):e.jsx("div",{className:"h-full w-full flex items-center justify-center bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-800",children:e.jsx(x,{className:"h-8 w-8 text-gray-400"})})}),e.jsxs(l,{className:"p-4",children:[e.jsx(t,{className:`${N[a.status]} mb-2`,children:a.status.charAt(0).toUpperCase()+a.status.slice(1)}),e.jsx("h3",{className:"font-semibold line-clamp-2 mb-2",children:a.title}),e.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[e.jsx(x,{className:"mr-1 h-4 w-4"}),w(a.start_date)]})]})]})},a.id))})]})})]})}export{he as default};
