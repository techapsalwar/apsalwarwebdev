import{c as ie,r as ce,j as s,L as q,a as C,H as ne}from"./app-Cmq9oDGi.js";import{A as oe}from"./app-layout-DoVO_vzw.js";import{B as i}from"./button-Cf4oe_XG.js";import{C as me,a as de,c as Q,d as U}from"./card-X8yrq1E7.js";import{I as he}from"./input-CJJo5L_5.js";import{c as W,d as X,S as Z,a as w,b as ee}from"./select-MDq58P37.js";import{B as xe}from"./badge-B7t43j3u.js";import{b as G,e as c,a as pe,c as A,T as fe,d as je}from"./table-DxHlWMmR.js";import{A as ue,a as ge,b as be,c as ye,d as ve,e as Se,f as _e,g as Ne,h as Ae}from"./alert-dialog-D5vPuSRT.js";import{I as Ce}from"./image-DO4yfKR-.js";import{E as we}from"./eye-B9qCQXIl.js";import{E as De}from"./eye-off-vGWujgza.js";import{S as Te}from"./star-CyatTZkq.js";import{S as Pe}from"./square-pen-BIQygcGa.js";import{T as Ee}from"./trash-2-DfEL4ZSA.js";import{P as Fe}from"./plus-CX2v85UT.js";import{S as He}from"./search-CM4xpWys.js";/* empty css            */import"./index-CWF-aD8F.js";import"./index-uM6iNYTc.js";import"./index-7JW2xj0O.js";import"./index-DyFFqtbr.js";import"./Combination-NTvMx_hL.js";import"./index-BZSQ9xrA.js";import"./index-DvAkvJaB.js";import"./index-CJXivgjO.js";import"./x-HfyhX8Ju.js";import"./index-C9wRH-1q.js";import"./index-D_u97ceG.js";import"./index-BQQBJX9w.js";import"./index-CghxG9km.js";import"./avatar-XGiuVYGe.js";import"./index-Caa2gN9W.js";import"./index-DHA2i0B2.js";import"./link-CZ3Nda4c.js";import"./quote-RHalnNgg.js";import"./newspaper-BNdRHAAi.js";import"./megaphone-D5LK33hs.js";import"./indian-rupee-n2MNJtU2.js";import"./file-check-Cs6It4z_.js";import"./folder-B56i9kPD.js";import"./handshake-TJFmC-Ix.js";import"./school-D_aABbcu.js";import"./index-CJgzQKWL.js";import"./chevron-up-08YVdQiA.js";import"./check-z4pC7DcM.js";const Ie=["","January","February","March","April","May","June","July","August","September","October","November","December"];function Fs(l){const e=ie.c(58),{albums:a,filters:r,years:R}=l,[n,se]=ce.useState(r.search||"");let D;e[0]===Symbol.for("react.memo_cache_sentinel")?(D=[{title:"Dashboard",href:"/dashboard"},{title:"Photo Albums",href:"/admin/albums"}],e[0]=D):D=e[0];const te=D;let T;e[1]!==r||e[2]!==n?(T=t=>{t.preventDefault(),C.get("/admin/albums",{...r,search:n},{preserveState:!0})},e[1]=r,e[2]=n,e[3]=T):T=e[3];const V=T;let P;e[4]!==r?(P=(t,K)=>{C.get("/admin/albums",{...r,[t]:K==="all"?void 0:K},{preserveState:!0})},e[4]=r,e[5]=P):P=e[5];const o=P,le=Le,ae=Be,re=ze;let E;e[6]===Symbol.for("react.memo_cache_sentinel")?(E=s.jsx(ne,{title:"Photo Albums"}),e[6]=E):E=e[6];let F;e[7]===Symbol.for("react.memo_cache_sentinel")?(F=s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Photo Albums"}),s.jsx("p",{className:"text-gray-500",children:"Manage photo galleries for events and activities"})]}),e[7]=F):F=e[7];let H;e[8]===Symbol.for("react.memo_cache_sentinel")?(H=s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[F,s.jsx(i,{asChild:!0,children:s.jsxs(q,{href:"/admin/albums/create",children:[s.jsx(Fe,{className:"h-4 w-4 mr-2"}),"Create Album"]})})]}),e[8]=H):H=e[8];let I;e[9]===Symbol.for("react.memo_cache_sentinel")?(I=t=>se(t.target.value),e[9]=I):I=e[9];let m;e[10]!==n?(m=s.jsx(he,{placeholder:"Search albums...",value:n,onChange:I,className:"flex-1"}),e[10]=n,e[11]=m):m=e[11];let $;e[12]===Symbol.for("react.memo_cache_sentinel")?($=s.jsx(i,{type:"submit",variant:"secondary",children:s.jsx(He,{className:"h-4 w-4"})}),e[12]=$):$=e[12];let d;e[13]!==V||e[14]!==m?(d=s.jsxs("form",{onSubmit:V,className:"flex-1 flex gap-2",children:[m,$]}),e[13]=V,e[14]=m,e[15]=d):d=e[15];const O=r.status||"all";let h;e[16]!==o?(h=t=>o("status",t),e[16]=o,e[17]=h):h=e[17];let k;e[18]===Symbol.for("react.memo_cache_sentinel")?(k=s.jsx(W,{className:"w-[150px]",children:s.jsx(X,{placeholder:"Status"})}),e[18]=k):k=e[18];let z;e[19]===Symbol.for("react.memo_cache_sentinel")?(z=s.jsxs(Z,{children:[s.jsx(w,{value:"all",children:"All Status"}),s.jsx(w,{value:"published",children:"Published"}),s.jsx(w,{value:"draft",children:"Draft"})]}),e[19]=z):z=e[19];let x;e[20]!==O||e[21]!==h?(x=s.jsxs(ee,{value:O,onValueChange:h,children:[k,z]}),e[20]=O,e[21]=h,e[22]=x):x=e[22];const Y=r.year||"all";let p;e[23]!==o?(p=t=>o("year",t),e[23]=o,e[24]=p):p=e[24];let B;e[25]===Symbol.for("react.memo_cache_sentinel")?(B=s.jsx(W,{className:"w-[150px]",children:s.jsx(X,{placeholder:"Year"})}),e[25]=B):B=e[25];let L;e[26]===Symbol.for("react.memo_cache_sentinel")?(L=s.jsx(w,{value:"all",children:"All Years"}),e[26]=L):L=e[26];let f;e[27]!==R?(f=R.map(ke),e[27]=R,e[28]=f):f=e[28];let j;e[29]!==f?(j=s.jsxs(Z,{children:[L,f]}),e[29]=f,e[30]=j):j=e[30];let u;e[31]!==Y||e[32]!==p||e[33]!==j?(u=s.jsxs(ee,{value:Y,onValueChange:p,children:[B,j]}),e[31]=Y,e[32]=p,e[33]=j,e[34]=u):u=e[34];let g;e[35]!==d||e[36]!==x||e[37]!==u?(g=s.jsx(Q,{children:s.jsx(U,{className:"p-4",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[d,x,u]})})}),e[35]=d,e[36]=x,e[37]=u,e[38]=g):g=e[38];let b;e[39]!==a.total?(b=s.jsx(me,{children:s.jsxs(de,{children:["All Albums (",a.total,")"]})}),e[39]=a.total,e[40]=b):b=e[40];let M;e[41]===Symbol.for("react.memo_cache_sentinel")?(M=s.jsx(pe,{children:s.jsxs(G,{children:[s.jsx(A,{children:"Album"}),s.jsx(A,{children:"Date"}),s.jsx(A,{children:"Photos"}),s.jsx(A,{children:"Status"}),s.jsx(A,{children:"Featured"}),s.jsx(A,{className:"text-right",children:"Actions"})]})}),e[41]=M):M=e[41];let y;e[42]!==a.data?(y=a.data.length===0?s.jsx(G,{children:s.jsxs(c,{colSpan:6,className:"text-center py-8",children:[s.jsx("p",{className:"text-gray-500",children:"No albums found"}),s.jsx(i,{asChild:!0,variant:"link",className:"mt-2",children:s.jsx(q,{href:"/admin/albums/create",children:"Create your first album"})})]})}):a.data.map(t=>s.jsxs(G,{children:[s.jsx(c,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[t.cover_image?s.jsx("img",{src:`/storage/${t.cover_image}`,alt:t.title,className:"h-12 w-16 rounded-lg object-cover"}):s.jsx("div",{className:"h-12 w-16 rounded-lg bg-gray-100 flex items-center justify-center",children:s.jsx(Ce,{className:"h-6 w-6 text-gray-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:t.title}),t.description&&s.jsx("p",{className:"text-sm text-gray-500 line-clamp-1 max-w-xs",children:t.description})]})]})}),s.jsx(c,{children:t.year?s.jsxs("span",{children:[t.month?Ie[t.month]+" ":"",t.year]}):s.jsx("span",{className:"text-gray-400",children:"-"})}),s.jsx(c,{children:s.jsxs(xe,{variant:"secondary",children:[t.photos_count," photos"]})}),s.jsx(c,{children:s.jsx(i,{variant:"ghost",size:"sm",onClick:()=>ae(t.id),className:t.status==="published"?"text-green-600":"text-gray-400",children:t.status==="published"?s.jsxs(s.Fragment,{children:[s.jsx(we,{className:"h-4 w-4 mr-1"}),"Published"]}):s.jsxs(s.Fragment,{children:[s.jsx(De,{className:"h-4 w-4 mr-1"}),"Draft"]})})}),s.jsx(c,{children:s.jsx(i,{variant:"ghost",size:"icon",onClick:()=>le(t.id),className:t.is_featured?"text-yellow-500":"text-gray-400",children:s.jsx(Te,{className:`h-4 w-4 ${t.is_featured?"fill-current":""}`})})}),s.jsx(c,{className:"text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx(i,{variant:"ghost",size:"icon",asChild:!0,children:s.jsx(q,{href:`/admin/albums/${t.slug}/edit`,children:s.jsx(Pe,{className:"h-4 w-4"})})}),s.jsxs(ue,{children:[s.jsx(ge,{asChild:!0,children:s.jsx(i,{variant:"ghost",size:"icon",className:"text-red-500",children:s.jsx(Ee,{className:"h-4 w-4"})})}),s.jsxs(be,{children:[s.jsxs(ye,{children:[s.jsx(ve,{children:"Delete Album?"}),s.jsxs(Se,{children:['This will permanently delete "',t.title,'" and all ',t.photos_count," photos."]})]}),s.jsxs(_e,{children:[s.jsx(Ne,{children:"Cancel"}),s.jsx(Ae,{onClick:()=>re(t.id),className:"bg-red-500 hover:bg-red-600",children:"Delete"})]})]})]})]})})]},t.id)),e[42]=a.data,e[43]=y):y=e[43];let v;e[44]!==y?(v=s.jsxs(fe,{children:[M,s.jsx(je,{children:y})]}),e[44]=y,e[45]=v):v=e[45];let S;e[46]!==a.last_page||e[47]!==a.links?(S=a.last_page>1&&s.jsx("div",{className:"flex items-center justify-center gap-2 mt-4",children:a.links.map($e)}),e[46]=a.last_page,e[47]=a.links,e[48]=S):S=e[48];let _;e[49]!==v||e[50]!==S?(_=s.jsxs(U,{children:[v,S]}),e[49]=v,e[50]=S,e[51]=_):_=e[51];let N;e[52]!==b||e[53]!==_?(N=s.jsxs(Q,{children:[b,_]}),e[52]=b,e[53]=_,e[54]=N):N=e[54];let J;return e[55]!==g||e[56]!==N?(J=s.jsxs(oe,{breadcrumbs:te,children:[E,s.jsxs("div",{className:"space-y-6 p-6",children:[H,g,N]})]}),e[55]=g,e[56]=N,e[57]=J):J=e[57],J}function $e(l,e){return s.jsx(i,{variant:l.active?"default":"outline",size:"sm",disabled:!l.url,onClick:()=>l.url&&C.visit(l.url),dangerouslySetInnerHTML:{__html:l.label}},e)}function ke(l){return s.jsx(w,{value:l.toString(),children:l},l)}function ze(l){C.delete(`/admin/albums/${l}`)}function Be(l){C.post(`/admin/albums/${l}/toggle-status`,{},{preserveState:!0})}function Le(l){C.post(`/admin/albums/${l}/toggle-featured`,{},{preserveState:!0})}export{Fs as default};
