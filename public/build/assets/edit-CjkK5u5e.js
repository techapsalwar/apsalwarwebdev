import{c as ge,u as _e,j as t,a as Ne,H as De,L as ue}from"./app-Cmq9oDGi.js";import{A as ye}from"./app-layout-DoVO_vzw.js";import{B as ae}from"./button-Cf4oe_XG.js";import{I as ve}from"./input-CJJo5L_5.js";import{L as O}from"./label-DJa8iKFL.js";import{T as Se}from"./textarea-CwjQz9xo.js";import{S as Ce}from"./switch-C474g68b.js";import{S as Ae,b as we,c as Te,d as ke,a as be}from"./select-MDq58P37.js";import{a as Fe,C as Le,b as Ie,d as Ee,c as $e}from"./card-X8yrq1E7.js";import{A as He,a as Be,b as Ue,c as ze,d as Me,e as Oe,f as Re,g as Ve,h as qe}from"./alert-dialog-D5vPuSRT.js";import{T as Pe}from"./trash-2-DfEL4ZSA.js";import{A as Ge}from"./arrow-left-D1AIGgPf.js";import{L as Je}from"./loader-circle-BR1vD74t.js";import{S as Ke}from"./save-CXYQgcZY.js";/* empty css            */import"./index-CWF-aD8F.js";import"./index-uM6iNYTc.js";import"./index-7JW2xj0O.js";import"./index-DyFFqtbr.js";import"./Combination-NTvMx_hL.js";import"./index-BZSQ9xrA.js";import"./index-DvAkvJaB.js";import"./index-CJXivgjO.js";import"./x-HfyhX8Ju.js";import"./index-C9wRH-1q.js";import"./index-D_u97ceG.js";import"./index-BQQBJX9w.js";import"./index-CghxG9km.js";import"./avatar-XGiuVYGe.js";import"./index-Caa2gN9W.js";import"./index-DHA2i0B2.js";import"./image-DO4yfKR-.js";import"./link-CZ3Nda4c.js";import"./quote-RHalnNgg.js";import"./newspaper-BNdRHAAi.js";import"./megaphone-D5LK33hs.js";import"./indian-rupee-n2MNJtU2.js";import"./file-check-Cs6It4z_.js";import"./folder-B56i9kPD.js";import"./handshake-TJFmC-Ix.js";import"./school-D_aABbcu.js";import"./index-CJgzQKWL.js";import"./chevron-up-08YVdQiA.js";import"./check-z4pC7DcM.js";function Mt(ne){const e=ge.c(119),{item:s,icons:oe}=ne;let R,V;e[0]===Symbol.for("react.memo_cache_sentinel")?(R={title:"Dashboard",href:"/dashboard"},V={title:"Departments",href:"/admin/departments"},e[0]=R,e[1]=V):(R=e[0],V=e[1]);const ce=`/admin/departments/${s.id}/edit`;let q;e[2]!==s.name||e[3]!==ce?(q=[R,V,{title:s.name,href:ce}],e[2]=s.name,e[3]=ce,e[4]=q):q=e[4];const me=q,de=s.description||"",pe=s.icon||"";let P;e[5]!==s.is_active||e[6]!==s.name||e[7]!==s.order||e[8]!==de||e[9]!==pe?(P={name:s.name,description:de,icon:pe,order:s.order,is_active:s.is_active},e[5]=s.is_active,e[6]=s.name,e[7]=s.order,e[8]=de,e[9]=pe,e[10]=P):P=e[10];const{data:r,setData:l,put:fe,processing:n,errors:i}=_e(P);let G;e[11]!==s.id||e[12]!==fe?(G=a=>{a.preventDefault(),fe(`/admin/departments/${s.id}`)},e[11]=s.id,e[12]=fe,e[13]=G):G=e[13];const he=G;let J;e[14]!==s.id?(J=()=>{Ne.delete(`/admin/departments/${s.id}`)},e[14]=s.id,e[15]=J):J=e[15];const xe=J,je=`Edit ${s.name} - APS Alwar Admin`;let o;e[16]!==je?(o=t.jsx(De,{title:je}),e[16]=je,e[17]=o):o=e[17];let K,Q;e[18]===Symbol.for("react.memo_cache_sentinel")?(K=t.jsx(ae,{variant:"ghost",size:"icon",asChild:!0,children:t.jsx(ue,{href:"/admin/departments",children:t.jsx(Ge,{className:"h-4 w-4"})})}),Q=t.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Edit Department"}),e[18]=K,e[19]=Q):(K=e[18],Q=e[19]);let c;e[20]!==s.name?(c=t.jsxs("div",{className:"flex items-center gap-4",children:[K,t.jsxs("div",{children:[Q,t.jsxs("p",{className:"text-muted-foreground",children:["Update department: ",s.name]})]})]}),e[20]=s.name,e[21]=c):c=e[21];let m;e[22]!==xe||e[23]!==s.name||e[24]!==s.staff_count?(m=s.staff_count===0&&t.jsxs(He,{children:[t.jsx(Be,{asChild:!0,children:t.jsxs(ae,{variant:"destructive",size:"sm",children:[t.jsx(Pe,{className:"mr-2 h-4 w-4"}),"Delete"]})}),t.jsxs(Ue,{children:[t.jsxs(ze,{children:[t.jsx(Me,{children:"Delete Department"}),t.jsxs(Oe,{children:['Are you sure you want to delete "',s.name,'"? This action cannot be undone.']})]}),t.jsxs(Re,{children:[t.jsx(Ve,{children:"Cancel"}),t.jsx(qe,{onClick:xe,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})]}),e[22]=xe,e[23]=s.name,e[24]=s.staff_count,e[25]=m):m=e[25];let d;e[26]!==c||e[27]!==m?(d=t.jsxs("div",{className:"flex items-center justify-between",children:[c,m]}),e[26]=c,e[27]=m,e[28]=d):d=e[28];let W;e[29]===Symbol.for("react.memo_cache_sentinel")?(W=t.jsx(Fe,{children:"Department Details"}),e[29]=W):W=e[29];let p;e[30]!==s.staff_count?(p=s.staff_count>0&&t.jsxs("span",{className:"block mt-1 text-amber-600",children:["This department has ",s.staff_count," staff member(s)."]}),e[30]=s.staff_count,e[31]=p):p=e[31];let f;e[32]!==p?(f=t.jsxs(Le,{children:[W,t.jsxs(Ie,{children:["Update the department information below.",p]})]}),e[32]=p,e[33]=f):f=e[33];let X;e[34]===Symbol.for("react.memo_cache_sentinel")?(X=t.jsx(O,{htmlFor:"name",children:"Department Name *"}),e[34]=X):X=e[34];let h;e[35]!==l?(h=a=>l("name",a.target.value),e[35]=l,e[36]=h):h=e[36];let x;e[37]!==r.name||e[38]!==h?(x=t.jsx(ve,{id:"name",value:r.name,onChange:h,placeholder:"e.g., Mathematics",required:!0}),e[37]=r.name,e[38]=h,e[39]=x):x=e[39];let j;e[40]!==i.name?(j=i.name&&t.jsx("p",{className:"text-sm text-destructive",children:i.name}),e[40]=i.name,e[41]=j):j=e[41];let u;e[42]!==x||e[43]!==j?(u=t.jsxs("div",{className:"space-y-2",children:[X,x,j]}),e[42]=x,e[43]=j,e[44]=u):u=e[44];let Y;e[45]===Symbol.for("react.memo_cache_sentinel")?(Y=t.jsx(O,{htmlFor:"description",children:"Description"}),e[45]=Y):Y=e[45];let v;e[46]!==l?(v=a=>l("description",a.target.value),e[46]=l,e[47]=v):v=e[47];let b;e[48]!==r.description||e[49]!==v?(b=t.jsx(Se,{id:"description",value:r.description,onChange:v,placeholder:"Brief description of the department...",rows:3}),e[48]=r.description,e[49]=v,e[50]=b):b=e[50];let g;e[51]!==i.description?(g=i.description&&t.jsx("p",{className:"text-sm text-destructive",children:i.description}),e[51]=i.description,e[52]=g):g=e[52];let _;e[53]!==b||e[54]!==g?(_=t.jsxs("div",{className:"space-y-2",children:[Y,b,g]}),e[53]=b,e[54]=g,e[55]=_):_=e[55];let Z;e[56]===Symbol.for("react.memo_cache_sentinel")?(Z=t.jsx(O,{htmlFor:"icon",children:"Icon"}),e[56]=Z):Z=e[56];let N;e[57]!==l?(N=a=>l("icon",a),e[57]=l,e[58]=N):N=e[58];let ee;e[59]===Symbol.for("react.memo_cache_sentinel")?(ee=t.jsx(Te,{children:t.jsx(ke,{placeholder:"Select an icon"})}),e[59]=ee):ee=e[59];let te;e[60]===Symbol.for("react.memo_cache_sentinel")?(te=t.jsx(be,{value:"",children:"No Icon"}),e[60]=te):te=e[60];let D;e[61]!==oe?(D=t.jsxs(Ae,{children:[te,Object.entries(oe).map(Qe)]}),e[61]=oe,e[62]=D):D=e[62];let y;e[63]!==r.icon||e[64]!==N||e[65]!==D?(y=t.jsxs(we,{value:r.icon,onValueChange:N,children:[ee,D]}),e[63]=r.icon,e[64]=N,e[65]=D,e[66]=y):y=e[66];let S;e[67]!==i.icon?(S=i.icon&&t.jsx("p",{className:"text-sm text-destructive",children:i.icon}),e[67]=i.icon,e[68]=S):S=e[68];let C;e[69]!==y||e[70]!==S?(C=t.jsxs("div",{className:"space-y-2",children:[Z,y,S]}),e[69]=y,e[70]=S,e[71]=C):C=e[71];let se;e[72]===Symbol.for("react.memo_cache_sentinel")?(se=t.jsx(O,{htmlFor:"order",children:"Display Order"}),e[72]=se):se=e[72];let A;e[73]!==l?(A=a=>l("order",parseInt(a.target.value)||0),e[73]=l,e[74]=A):A=e[74];let w;e[75]!==r.order||e[76]!==A?(w=t.jsx(ve,{id:"order",type:"number",min:"0",value:r.order,onChange:A}),e[75]=r.order,e[76]=A,e[77]=w):w=e[77];let T;e[78]!==i.order?(T=i.order&&t.jsx("p",{className:"text-sm text-destructive",children:i.order}),e[78]=i.order,e[79]=T):T=e[79];let k;e[80]!==w||e[81]!==T?(k=t.jsxs("div",{className:"space-y-2",children:[se,w,T]}),e[80]=w,e[81]=T,e[82]=k):k=e[82];let F;e[83]!==C||e[84]!==k?(F=t.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[C,k]}),e[83]=C,e[84]=k,e[85]=F):F=e[85];let ie;e[86]===Symbol.for("react.memo_cache_sentinel")?(ie=t.jsxs("div",{className:"space-y-0.5",children:[t.jsx(O,{children:"Active Status"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Make this department visible on the website."})]}),e[86]=ie):ie=e[86];let L;e[87]!==l?(L=a=>l("is_active",a),e[87]=l,e[88]=L):L=e[88];let I;e[89]!==r.is_active||e[90]!==L?(I=t.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-4",children:[ie,t.jsx(Ce,{checked:r.is_active,onCheckedChange:L})]}),e[89]=r.is_active,e[90]=L,e[91]=I):I=e[91];let E;e[92]!==n?(E=n?t.jsxs(t.Fragment,{children:[t.jsx(Je,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Ke,{className:"mr-2 h-4 w-4"}),"Update Department"]}),e[92]=n,e[93]=E):E=e[93];let $;e[94]!==n||e[95]!==E?($=t.jsx(ae,{type:"submit",className:"bg-amber-600 hover:bg-amber-700",disabled:n,children:E}),e[94]=n,e[95]=E,e[96]=$):$=e[96];let re;e[97]===Symbol.for("react.memo_cache_sentinel")?(re=t.jsx(ae,{type:"button",variant:"outline",asChild:!0,children:t.jsx(ue,{href:"/admin/departments",children:"Cancel"})}),e[97]=re):re=e[97];let H;e[98]!==$?(H=t.jsxs("div",{className:"flex gap-3 pt-4",children:[$,re]}),e[98]=$,e[99]=H):H=e[99];let B;e[100]!==u||e[101]!==_||e[102]!==F||e[103]!==I||e[104]!==H?(B=t.jsxs(Ee,{className:"space-y-4",children:[u,_,F,I,H]}),e[100]=u,e[101]=_,e[102]=F,e[103]=I,e[104]=H,e[105]=B):B=e[105];let U;e[106]!==f||e[107]!==B?(U=t.jsxs($e,{children:[f,B]}),e[106]=f,e[107]=B,e[108]=U):U=e[108];let z;e[109]!==he||e[110]!==U?(z=t.jsx("form",{onSubmit:he,className:"max-w-2xl",children:U}),e[109]=he,e[110]=U,e[111]=z):z=e[111];let M;e[112]!==d||e[113]!==z?(M=t.jsxs("div",{className:"flex flex-col gap-6 p-6",children:[d,z]}),e[112]=d,e[113]=z,e[114]=M):M=e[114];let le;return e[115]!==me||e[116]!==o||e[117]!==M?(le=t.jsxs(ye,{breadcrumbs:me,children:[o,M]}),e[115]=me,e[116]=o,e[117]=M,e[118]=le):le=e[118],le}function Qe(ne){const[e,s]=ne;return t.jsx(be,{value:e,children:s},e)}export{Mt as default};
