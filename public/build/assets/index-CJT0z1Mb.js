import{c as ts,r as Oe,j as s,L as ls,a as ee,H as as}from"./app-lLew-mq0.js";import{A as rs}from"./app-layout-KzQEyLiQ.js";import{c as is,B as p}from"./button-DTZ67Z4b.js";import{c as d,d as m}from"./card-DWcOyhKP.js";import{I as cs}from"./input-C9VfnsW_.js";import{S as ns,c as os,d as ds,a as Qe,b as ms}from"./select-QGsFE1Nt.js";import{B as X}from"./badge-CUnar9Fe.js";import{C as Ve}from"./checkbox-DrTTb7Zo.js";import{b as Ee,e as h,c as f,a as hs,d as xs,T as fs}from"./table-C0gRaZsl.js";import{A as Fe,a as Ue,b as qe,c as Ye,d as Ze,e as Ge,f as Je,g as Ke,h as Pe}from"./alert-dialog-fuDA2Sgs.js";import{C as ps}from"./clock-BsQ1uhyC.js";import{E as js}from"./eye-Bcj5dXTF.js";import{T as us}from"./trash-2-BgucR-O9.js";import{S as gs}from"./search-D9utk87M.js";import{A as bs}from"./archive-k3FzZvsm.js";import{C as Ns}from"./circle-check-big-Dc6Llj5D.js";import{M as ys}from"./mail-DnEJGpcS.js";/* empty css            */import"./index-BiNrCjIr.js";import"./index-CMRMG5Mo.js";import"./index-B9jue-Th.js";import"./index-CZQ422QV.js";import"./Combination-BEW_kzWa.js";import"./index-BzAksq8r.js";import"./index-BOY9t191.js";import"./index-CxACbU5U.js";import"./x-CV1yhBJZ.js";import"./index-C7YjzNVQ.js";import"./index-DI1PiJH0.js";import"./index-CbiHmYlh.js";import"./index-DTTikWjI.js";import"./avatar-DYrdvPax.js";import"./index-BTFUtR64.js";import"./index-DHA2i0B2.js";import"./image-CHvhAmHJ.js";import"./link-D-JBfegL.js";import"./quote-DLUiA_F1.js";import"./newspaper-D3mdqZcT.js";import"./megaphone-BG2hP5oS.js";import"./indian-rupee-Bj1qYK0P.js";import"./file-check-UDYRRxCK.js";import"./folder-l-97kfum.js";import"./handshake-V1wEucA7.js";import"./school-BjNRgEiN.js";import"./index-t_bT_gQV.js";import"./chevron-up-Bv-H0xE7.js";import"./check-DGLhpy4l.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=[["path",{d:"M21.2 8.4c.5.38.8.97.8 1.6v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V10a2 2 0 0 1 .8-1.6l8-6a2 2 0 0 1 2.4 0l8 6Z",key:"1jhwl8"}],["path",{d:"m22 10-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 10",key:"1qfld7"}]],Cs=is("MailOpen",vs),Ss=a=>{switch(a){case"unread":return s.jsxs(X,{variant:"destructive",className:"gap-1",children:[s.jsx(ys,{className:"h-3 w-3"})," Unread"]});case"read":return s.jsxs(X,{variant:"secondary",className:"gap-1",children:[s.jsx(Cs,{className:"h-3 w-3"})," Read"]});case"replied":return s.jsxs(X,{className:"gap-1 bg-green-500",children:[s.jsx(Ns,{className:"h-3 w-3"})," Replied"]});case"archived":return s.jsxs(X,{variant:"outline",className:"gap-1",children:[s.jsx(bs,{className:"h-3 w-3"})," Archived"]});default:return s.jsx(X,{variant:"outline",children:a})}},_s=a=>{const e=new Date(a),n=new Date().getTime()-e.getTime(),o=Math.floor(n/(1e3*60*60*24));if(o===0){const i=Math.floor(n/36e5);return i===0?`${Math.floor(n/6e4)}m ago`:`${i}h ago`}else{if(o===1)return"Yesterday";if(o<7)return`${o}d ago`}return e.toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})};function Ct(a){const e=ts.c(134),{contacts:r,filters:n,categories:o,statusCounts:i}=a,[x,We]=Oe.useState(n.search||"");let se;e[0]===Symbol.for("react.memo_cache_sentinel")?(se=[],e[0]=se):se=e[0];const[l,j]=Oe.useState(se);let te;e[1]===Symbol.for("react.memo_cache_sentinel")?(te=[{title:"Dashboard",href:"/dashboard"},{title:"Contacts",href:"/admin/contacts"}],e[1]=te):te=e[1];const Xe=te;let le;e[2]!==n||e[3]!==x?(le=t=>{t.preventDefault(),ee.get("/admin/contacts",{...n,search:x},{preserveState:!0})},e[2]=n,e[3]=x,e[4]=le):le=e[4];const De=le;let ae;e[5]!==n?(ae=(t,W)=>{ee.get("/admin/contacts",{...n,[t]:W==="all"?void 0:W},{preserveState:!0})},e[5]=n,e[6]=ae):ae=e[6];const c=ae,es=As;let re;e[7]!==r.data?(re=t=>{j(t?r.data.map(Ds):[])},e[7]=r.data,e[8]=re):re=e[8];const Ae=re;let ie;e[9]!==l?(ie=(t,W)=>{j(W?[...l,t]:l.filter(ss=>ss!==t))},e[9]=l,e[10]=ie):ie=e[10];const Te=ie;let ce;e[11]!==l?(ce=t=>{ee.post("/admin/contacts/bulk-status",{ids:l,status:t},{onSuccess:()=>j([])})},e[11]=l,e[12]=ce):ce=e[12];const ne=ce;let oe;e[13]!==l?(oe=()=>{ee.post("/admin/contacts/bulk-delete",{ids:l},{onSuccess:()=>j([])})},e[13]=l,e[14]=oe):oe=e[14];const Me=oe;let de;e[15]===Symbol.for("react.memo_cache_sentinel")?(de=s.jsx(as,{title:"Contact Messages"}),e[15]=de):de=e[15];let me;e[16]===Symbol.for("react.memo_cache_sentinel")?(me=s.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Contact Messages"}),s.jsx("p",{className:"text-gray-500",children:"View and respond to contact form submissions"})]})}),e[16]=me):me=e[16];const Be=n.status?"":"border-primary";let u;e[17]!==c?(u=()=>c("status","all"),e[17]=c,e[18]=u):u=e[18];let g;e[19]!==i.total?(g=s.jsx("div",{className:"text-2xl font-bold",children:i.total}),e[19]=i.total,e[20]=g):g=e[20];let he;e[21]===Symbol.for("react.memo_cache_sentinel")?(he=s.jsx("div",{className:"text-sm text-gray-500",children:"Total"}),e[21]=he):he=e[21];let b;e[22]!==u||e[23]!==g?(b=s.jsxs(m,{className:"p-4 cursor-pointer",onClick:u,children:[g,he]}),e[22]=u,e[23]=g,e[24]=b):b=e[24];let N;e[25]!==Be||e[26]!==b?(N=s.jsx(d,{className:Be,children:b}),e[25]=Be,e[26]=b,e[27]=N):N=e[27];const Ie=n.status==="unread"?"border-primary":"";let y;e[28]!==c?(y=()=>c("status","unread"),e[28]=c,e[29]=y):y=e[29];let v;e[30]!==i.unread?(v=s.jsx("div",{className:"text-2xl font-bold text-red-500",children:i.unread}),e[30]=i.unread,e[31]=v):v=e[31];let xe;e[32]===Symbol.for("react.memo_cache_sentinel")?(xe=s.jsx("div",{className:"text-sm text-gray-500",children:"Unread"}),e[32]=xe):xe=e[32];let C;e[33]!==y||e[34]!==v?(C=s.jsxs(m,{className:"p-4 cursor-pointer",onClick:y,children:[v,xe]}),e[33]=y,e[34]=v,e[35]=C):C=e[35];let S;e[36]!==Ie||e[37]!==C?(S=s.jsx(d,{className:Ie,children:C}),e[36]=Ie,e[37]=C,e[38]=S):S=e[38];const Re=n.status==="read"?"border-primary":"";let _;e[39]!==c?(_=()=>c("status","read"),e[39]=c,e[40]=_):_=e[40];let w;e[41]!==i.read?(w=s.jsx("div",{className:"text-2xl font-bold text-yellow-500",children:i.read}),e[41]=i.read,e[42]=w):w=e[42];let fe;e[43]===Symbol.for("react.memo_cache_sentinel")?(fe=s.jsx("div",{className:"text-sm text-gray-500",children:"Read"}),e[43]=fe):fe=e[43];let k;e[44]!==_||e[45]!==w?(k=s.jsxs(m,{className:"p-4 cursor-pointer",onClick:_,children:[w,fe]}),e[44]=_,e[45]=w,e[46]=k):k=e[46];let D;e[47]!==Re||e[48]!==k?(D=s.jsx(d,{className:Re,children:k}),e[47]=Re,e[48]=k,e[49]=D):D=e[49];const $e=n.status==="replied"?"border-primary":"";let A;e[50]!==c?(A=()=>c("status","replied"),e[50]=c,e[51]=A):A=e[51];let T;e[52]!==i.replied?(T=s.jsx("div",{className:"text-2xl font-bold text-green-500",children:i.replied}),e[52]=i.replied,e[53]=T):T=e[53];let pe;e[54]===Symbol.for("react.memo_cache_sentinel")?(pe=s.jsx("div",{className:"text-sm text-gray-500",children:"Replied"}),e[54]=pe):pe=e[54];let M;e[55]!==A||e[56]!==T?(M=s.jsxs(m,{className:"p-4 cursor-pointer",onClick:A,children:[T,pe]}),e[55]=A,e[56]=T,e[57]=M):M=e[57];let B;e[58]!==$e||e[59]!==M?(B=s.jsx(d,{className:$e,children:M}),e[58]=$e,e[59]=M,e[60]=B):B=e[60];const He=n.status==="archived"?"border-primary":"";let I;e[61]!==c?(I=()=>c("status","archived"),e[61]=c,e[62]=I):I=e[62];let R;e[63]!==i.archived?(R=s.jsx("div",{className:"text-2xl font-bold text-gray-500",children:i.archived}),e[63]=i.archived,e[64]=R):R=e[64];let je;e[65]===Symbol.for("react.memo_cache_sentinel")?(je=s.jsx("div",{className:"text-sm text-gray-500",children:"Archived"}),e[65]=je):je=e[65];let $;e[66]!==I||e[67]!==R?($=s.jsxs(m,{className:"p-4 cursor-pointer",onClick:I,children:[R,je]}),e[66]=I,e[67]=R,e[68]=$):$=e[68];let H;e[69]!==He||e[70]!==$?(H=s.jsx(d,{className:He,children:$}),e[69]=He,e[70]=$,e[71]=H):H=e[71];let L;e[72]!==N||e[73]!==S||e[74]!==D||e[75]!==B||e[76]!==H?(L=s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[N,S,D,B,H]}),e[72]=N,e[73]=S,e[74]=D,e[75]=B,e[76]=H,e[77]=L):L=e[77];let ue;e[78]===Symbol.for("react.memo_cache_sentinel")?(ue=t=>We(t.target.value),e[78]=ue):ue=e[78];let z;e[79]!==x?(z=s.jsx(cs,{placeholder:"Search by name, email, subject...",value:x,onChange:ue,className:"flex-1"}),e[79]=x,e[80]=z):z=e[80];let ge;e[81]===Symbol.for("react.memo_cache_sentinel")?(ge=s.jsx(p,{type:"submit",variant:"secondary",children:s.jsx(gs,{className:"h-4 w-4"})}),e[81]=ge):ge=e[81];let E;e[82]!==De||e[83]!==z?(E=s.jsxs("form",{onSubmit:De,className:"flex-1 flex gap-2",children:[z,ge]}),e[82]=De,e[83]=z,e[84]=E):E=e[84];const Le=n.category||"all";let O;e[85]!==c?(O=t=>c("category",t),e[85]=c,e[86]=O):O=e[86];let be;e[87]===Symbol.for("react.memo_cache_sentinel")?(be=s.jsx(os,{className:"w-[180px]",children:s.jsx(ds,{placeholder:"Category"})}),e[87]=be):be=e[87];let Ne;e[88]===Symbol.for("react.memo_cache_sentinel")?(Ne=s.jsx(Qe,{value:"all",children:"All Categories"}),e[88]=Ne):Ne=e[88];let V;e[89]!==o?(V=s.jsxs(ns,{children:[Ne,Object.entries(o).map(ks)]}),e[89]=o,e[90]=V):V=e[90];let F;e[91]!==Le||e[92]!==O||e[93]!==V?(F=s.jsxs(ms,{value:Le,onValueChange:O,children:[be,V]}),e[91]=Le,e[92]=O,e[93]=V,e[94]=F):F=e[94];let U;e[95]!==E||e[96]!==F?(U=s.jsx(d,{children:s.jsx(m,{className:"p-4",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[E,F]})})}),e[95]=E,e[96]=F,e[97]=U):U=e[97];let q;e[98]!==Me||e[99]!==ne||e[100]!==l.length?(q=l.length>0&&s.jsx(d,{className:"bg-blue-50 border-blue-200",children:s.jsxs(m,{className:"p-4 flex items-center justify-between",children:[s.jsxs("span",{className:"text-blue-800",children:[l.length," message(s) selected"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(p,{size:"sm",variant:"outline",onClick:()=>ne("read"),children:"Mark Read"}),s.jsx(p,{size:"sm",variant:"outline",onClick:()=>ne("archived"),children:"Archive"}),s.jsxs(Fe,{children:[s.jsx(Ue,{asChild:!0,children:s.jsx(p,{size:"sm",variant:"destructive",children:"Delete Selected"})}),s.jsxs(qe,{children:[s.jsxs(Ye,{children:[s.jsx(Ze,{children:"Delete Messages?"}),s.jsxs(Ge,{children:["This will permanently delete ",l.length," message(s)."]})]}),s.jsxs(Je,{children:[s.jsx(Ke,{children:"Cancel"}),s.jsx(Pe,{onClick:Me,className:"bg-red-500 hover:bg-red-600",children:"Delete"})]})]})]})]})]})}),e[98]=Me,e[99]=ne,e[100]=l.length,e[101]=q):q=e[101];const ze=l.length===r.data.length&&r.data.length>0;let Y;e[102]!==Ae||e[103]!==ze?(Y=s.jsx(f,{className:"w-[50px]",children:s.jsx(Ve,{checked:ze,onCheckedChange:Ae})}),e[102]=Ae,e[103]=ze,e[104]=Y):Y=e[104];let ye,ve,Ce,Se,_e,we;e[105]===Symbol.for("react.memo_cache_sentinel")?(ye=s.jsx(f,{children:"From"}),ve=s.jsx(f,{children:"Subject"}),Ce=s.jsx(f,{children:"Category"}),Se=s.jsx(f,{children:"Status"}),_e=s.jsx(f,{children:"Date"}),we=s.jsx(f,{className:"text-right",children:"Actions"}),e[105]=ye,e[106]=ve,e[107]=Ce,e[108]=Se,e[109]=_e,e[110]=we):(ye=e[105],ve=e[106],Ce=e[107],Se=e[108],_e=e[109],we=e[110]);let Z;e[111]!==Y?(Z=s.jsx(hs,{children:s.jsxs(Ee,{children:[Y,ye,ve,Ce,Se,_e,we]})}),e[111]=Y,e[112]=Z):Z=e[112];let G;e[113]!==o||e[114]!==r.data||e[115]!==Te||e[116]!==l?(G=r.data.length===0?s.jsx(Ee,{children:s.jsx(h,{colSpan:7,className:"text-center py-8",children:s.jsx("p",{className:"text-gray-500",children:"No messages found"})})}):r.data.map(t=>s.jsxs(Ee,{className:t.status==="unread"?"bg-blue-50/50":"",children:[s.jsx(h,{children:s.jsx(Ve,{checked:l.includes(t.id),onCheckedChange:W=>Te(t.id,W)})}),s.jsx(h,{children:s.jsxs("div",{children:[s.jsx("p",{className:`font-medium ${t.status==="unread"?"font-bold":""}`,children:t.name}),s.jsx("p",{className:"text-sm text-gray-500",children:t.email})]})}),s.jsx(h,{children:s.jsx("p",{className:`line-clamp-1 max-w-xs ${t.status==="unread"?"font-semibold":""}`,children:t.subject})}),s.jsx(h,{children:s.jsx(X,{variant:"outline",children:o[t.category]||t.category})}),s.jsx(h,{children:Ss(t.status)}),s.jsx(h,{children:s.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-500",children:[s.jsx(ps,{className:"h-3 w-3"}),_s(t.created_at)]})}),s.jsx(h,{className:"text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx(p,{variant:"ghost",size:"icon",asChild:!0,children:s.jsx(ls,{href:`/admin/contacts/${t.id}`,children:s.jsx(js,{className:"h-4 w-4"})})}),s.jsxs(Fe,{children:[s.jsx(Ue,{asChild:!0,children:s.jsx(p,{variant:"ghost",size:"icon",className:"text-red-500",children:s.jsx(us,{className:"h-4 w-4"})})}),s.jsxs(qe,{children:[s.jsxs(Ye,{children:[s.jsx(Ze,{children:"Delete Message?"}),s.jsxs(Ge,{children:["This will permanently delete this message from ",t.name,"."]})]}),s.jsxs(Je,{children:[s.jsx(Ke,{children:"Cancel"}),s.jsx(Pe,{onClick:()=>es(t.id),className:"bg-red-500 hover:bg-red-600",children:"Delete"})]})]})]})]})})]},t.id)),e[113]=o,e[114]=r.data,e[115]=Te,e[116]=l,e[117]=G):G=e[117];let J;e[118]!==G?(J=s.jsx(xs,{children:G}),e[118]=G,e[119]=J):J=e[119];let K;e[120]!==Z||e[121]!==J?(K=s.jsxs(fs,{children:[Z,J]}),e[120]=Z,e[121]=J,e[122]=K):K=e[122];let P;e[123]!==r.last_page||e[124]!==r.links?(P=r.last_page>1&&s.jsx("div",{className:"flex items-center justify-center gap-2 p-4 border-t",children:r.links.map(ws)}),e[123]=r.last_page,e[124]=r.links,e[125]=P):P=e[125];let Q;e[126]!==K||e[127]!==P?(Q=s.jsx(d,{children:s.jsxs(m,{className:"p-0",children:[K,P]})}),e[126]=K,e[127]=P,e[128]=Q):Q=e[128];let ke;return e[129]!==L||e[130]!==U||e[131]!==q||e[132]!==Q?(ke=s.jsxs(rs,{breadcrumbs:Xe,children:[de,s.jsxs("div",{className:"space-y-6 p-6",children:[me,L,U,q,Q]})]}),e[129]=L,e[130]=U,e[131]=q,e[132]=Q,e[133]=ke):ke=e[133],ke}function ws(a,e){return s.jsx(p,{variant:a.active?"default":"outline",size:"sm",disabled:!a.url,onClick:()=>a.url&&ee.visit(a.url),dangerouslySetInnerHTML:{__html:a.label}},e)}function ks(a){const[e,r]=a;return s.jsx(Qe,{value:e,children:r},e)}function Ds(a){return a.id}function As(a){ee.delete(`/admin/contacts/${a}`)}export{Ct as default};
