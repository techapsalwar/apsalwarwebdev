import{c as W,r as q,j as t,L as I,a as k,H as G}from"./app-Cmq9oDGi.js";import{A as J}from"./app-layout-DoVO_vzw.js";import{B as f}from"./button-Cf4oe_XG.js";import{I as K}from"./input-CJJo5L_5.js";import{B as R}from"./badge-B7t43j3u.js";import{b as $,e as i,a as Q,c as u,T as X,d as Y}from"./table-DxHlWMmR.js";import{c as Z,d as ee,S as te,a as g,b as se}from"./select-MDq58P37.js";import{A as re,a as ae,b as le,c as ne,d as ie,e as oe,f as ce,g as me,h as de}from"./alert-dialog-D5vPuSRT.js";import{S as he}from"./star-CyatTZkq.js";import{M as xe}from"./map-pin-BgR1TPKX.js";import{a as pe}from"./x-HfyhX8Ju.js";import{E as ue}from"./external-link-DRdWDLeD.js";import{E as fe}from"./eye-B9qCQXIl.js";import{S as ge}from"./square-pen-BIQygcGa.js";import{T as je}from"./trash-2-DfEL4ZSA.js";import{P as ve}from"./plus-CX2v85UT.js";import{S as be}from"./search-CM4xpWys.js";import{F as Se}from"./filter-BWU97YmN.js";/* empty css            */import"./index-CWF-aD8F.js";import"./index-uM6iNYTc.js";import"./index-7JW2xj0O.js";import"./index-DyFFqtbr.js";import"./Combination-NTvMx_hL.js";import"./index-BZSQ9xrA.js";import"./index-DvAkvJaB.js";import"./index-CJXivgjO.js";import"./index-C9wRH-1q.js";import"./index-D_u97ceG.js";import"./index-BQQBJX9w.js";import"./index-CghxG9km.js";import"./avatar-XGiuVYGe.js";import"./index-Caa2gN9W.js";import"./index-DHA2i0B2.js";import"./image-DO4yfKR-.js";import"./link-CZ3Nda4c.js";import"./quote-RHalnNgg.js";import"./newspaper-BNdRHAAi.js";import"./megaphone-D5LK33hs.js";import"./indian-rupee-n2MNJtU2.js";import"./file-check-Cs6It4z_.js";import"./folder-B56i9kPD.js";import"./handshake-TJFmC-Ix.js";import"./school-D_aABbcu.js";import"./index-CJgzQKWL.js";import"./chevron-up-08YVdQiA.js";import"./check-z4pC7DcM.js";const Ne=[{title:"Dashboard",href:"/dashboard"},{title:"Events",href:"/admin/events"}],_e={upcoming:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300",ongoing:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",completed:"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300",cancelled:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300"},ye={academic:"Academic",cultural:"Cultural",sports:"Sports",annual:"Annual",competition:"Competition",workshop:"Workshop",celebration:"Celebration",meeting:"Meeting",other:"Other"};function St(a){const e=W.c(36),{items:r,filters:B}=a,[l,F]=q.useState(B?.search||""),[n,O]=q.useState(B?.status||"all");let j;e[0]!==l||e[1]!==n?(j=s=>{s.preventDefault(),k.get("/admin/events",{search:l,status:n!=="all"?n:void 0},{preserveState:!0,preserveScroll:!0})},e[0]=l,e[1]=n,e[2]=j):j=e[2];const M=j;let v;e[3]!==l?(v=s=>{O(s),k.get("/admin/events",{search:l,status:s!=="all"?s:void 0},{preserveState:!0,preserveScroll:!0})},e[3]=l,e[4]=v):v=e[4];const L=v,V=Ce,P=Ae;let b;e[5]===Symbol.for("react.memo_cache_sentinel")?(b=(s,H)=>{const z=P(s);return!H||s===H?z:`${z} - ${P(H)}`},e[5]=b):b=e[5];const U=b;let S;e[6]===Symbol.for("react.memo_cache_sentinel")?(S=t.jsx(G,{title:"Events Management - APS Alwar Admin"}),e[6]=S):S=e[6];let N;e[7]===Symbol.for("react.memo_cache_sentinel")?(N=t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Events Management"}),t.jsx("p",{className:"text-muted-foreground",children:"Manage school events, programs, and calendar entries."})]}),e[7]=N):N=e[7];let _;e[8]===Symbol.for("react.memo_cache_sentinel")?(_=t.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[N,t.jsx(f,{asChild:!0,className:"bg-amber-600 hover:bg-amber-700",children:t.jsxs(I,{href:"/admin/events/create",children:[t.jsx(ve,{className:"mr-2 h-4 w-4"}),"Add Event"]})})]}),e[8]=_):_=e[8];let y;e[9]===Symbol.for("react.memo_cache_sentinel")?(y=t.jsx(be,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),e[9]=y):y=e[9];let w;e[10]===Symbol.for("react.memo_cache_sentinel")?(w=s=>F(s.target.value),e[10]=w):w=e[10];let o;e[11]!==l?(o=t.jsxs("div",{className:"relative flex-1 max-w-sm",children:[y,t.jsx(K,{placeholder:"Search events...",value:l,onChange:w,className:"pl-9"})]}),e[11]=l,e[12]=o):o=e[12];let A;e[13]===Symbol.for("react.memo_cache_sentinel")?(A=t.jsx(f,{type:"submit",variant:"secondary",children:"Search"}),e[13]=A):A=e[13];let c;e[14]!==M||e[15]!==o?(c=t.jsxs("form",{onSubmit:M,className:"flex flex-1 gap-2",children:[o,A]}),e[14]=M,e[15]=o,e[16]=c):c=e[16];let C;e[17]===Symbol.for("react.memo_cache_sentinel")?(C=t.jsxs(Z,{className:"w-[150px]",children:[t.jsx(Se,{className:"mr-2 h-4 w-4"}),t.jsx(ee,{placeholder:"Status"})]}),e[17]=C):C=e[17];let D;e[18]===Symbol.for("react.memo_cache_sentinel")?(D=t.jsxs(te,{children:[t.jsx(g,{value:"all",children:"All Status"}),t.jsx(g,{value:"upcoming",children:"Upcoming"}),t.jsx(g,{value:"ongoing",children:"Ongoing"}),t.jsx(g,{value:"completed",children:"Completed"}),t.jsx(g,{value:"cancelled",children:"Cancelled"})]}),e[18]=D):D=e[18];let m;e[19]!==L||e[20]!==n?(m=t.jsxs(se,{value:n,onValueChange:L,children:[C,D]}),e[19]=L,e[20]=n,e[21]=m):m=e[21];let d;e[22]!==c||e[23]!==m?(d=t.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center",children:[c,m]}),e[22]=c,e[23]=m,e[24]=d):d=e[24];let T;e[25]===Symbol.for("react.memo_cache_sentinel")?(T=t.jsx(Q,{children:t.jsxs($,{children:[t.jsx(u,{className:"w-[35%]",children:"Event"}),t.jsx(u,{children:"Type"}),t.jsx(u,{children:"Date"}),t.jsx(u,{children:"Status"}),t.jsx(u,{children:"Registration"}),t.jsx(u,{className:"text-right",children:"Actions"})]})}),e[25]=T):T=e[25];let h;e[26]!==r?.data?(h=r?.data?.length===0?t.jsx($,{children:t.jsx(i,{colSpan:6,className:"text-center py-8 text-muted-foreground",children:"No events found."})}):r?.data?.map(s=>t.jsxs($,{children:[t.jsx(i,{children:t.jsxs("div",{className:"space-y-1",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("p",{className:"font-medium",children:s.title}),s.is_featured&&t.jsx(he,{className:"h-4 w-4 text-amber-500 fill-amber-500"})]}),s.venue&&t.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[t.jsx(xe,{className:"h-3 w-3"}),s.venue]})]})}),t.jsx(i,{children:t.jsx(R,{variant:"outline",children:ye[s.event_type||"other"]||s.event_type||"Other"})}),t.jsx(i,{children:t.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[t.jsx(pe,{className:"h-3 w-3 text-muted-foreground"}),U(s.start_date,s.end_date)]})}),t.jsx(i,{children:t.jsx(R,{className:_e[s.status],children:s.status})}),t.jsx(i,{children:s.registration_required?t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(R,{variant:"secondary",className:"text-xs",children:"Required"}),s.google_form_url&&t.jsx("a",{href:s.google_form_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800",children:t.jsx(ue,{className:"h-3 w-3"})})]}):t.jsx("span",{className:"text-sm text-muted-foreground",children:"No"})}),t.jsx(i,{className:"text-right",children:t.jsxs("div",{className:"flex items-center justify-end gap-1",children:[t.jsx(f,{variant:"ghost",size:"icon",asChild:!0,children:t.jsx(I,{href:`/admin/events/${s.id}`,children:t.jsx(fe,{className:"h-4 w-4"})})}),t.jsx(f,{variant:"ghost",size:"icon",asChild:!0,children:t.jsx(I,{href:`/admin/events/${s.id}/edit`,children:t.jsx(ge,{className:"h-4 w-4"})})}),t.jsxs(re,{children:[t.jsx(ae,{asChild:!0,children:t.jsx(f,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",children:t.jsx(je,{className:"h-4 w-4"})})}),t.jsxs(le,{children:[t.jsxs(ne,{children:[t.jsx(ie,{children:"Delete Event"}),t.jsxs(oe,{children:['Are you sure you want to delete "',s.title,'"? This action cannot be undone.']})]}),t.jsxs(ce,{children:[t.jsx(me,{children:"Cancel"}),t.jsx(de,{onClick:()=>V(s.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})]})]})})]},s.id)),e[26]=r?.data,e[27]=h):h=e[27];let x;e[28]!==h?(x=t.jsx("div",{className:"rounded-lg border bg-card",children:t.jsxs(X,{children:[T,t.jsx(Y,{children:h})]})}),e[28]=h,e[29]=x):x=e[29];let p;e[30]!==r?(p=r?.last_page>1&&t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",(r.current_page-1)*r.per_page+1," to"," ",Math.min(r.current_page*r.per_page,r.total)," of ",r.total," results"]}),t.jsx("div",{className:"flex gap-2",children:r.links.map(we)})]}),e[30]=r,e[31]=p):p=e[31];let E;return e[32]!==d||e[33]!==x||e[34]!==p?(E=t.jsxs(J,{breadcrumbs:Ne,children:[S,t.jsxs("div",{className:"flex flex-col gap-6 p-6",children:[_,d,x,p]})]}),e[32]=d,e[33]=x,e[34]=p,e[35]=E):E=e[35],E}function we(a,e){return t.jsx(f,{variant:a.active?"default":"outline",size:"sm",disabled:!a.url,onClick:()=>a.url&&k.get(a.url),dangerouslySetInnerHTML:{__html:a.label}},e)}function Ae(a){return new Date(a).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"})}function Ce(a){k.delete(`/admin/events/${a}`,{preserveScroll:!0})}export{St as default};
