import{c as ge,r as Z,j as t,L as ee,a as D,H as je}from"./app-lLew-mq0.js";import{D as be,a as ve,b as ye,c as _e,d as se,e as O,A as Se}from"./app-layout-KzQEyLiQ.js";import{c as oe,B as G}from"./button-DTZ67Z4b.js";import{I as Ne}from"./input-C9VfnsW_.js";import{B as ae}from"./badge-CUnar9Fe.js";import{b as te,e as c,a as we,c as A,T as Ae,d as De}from"./table-C0gRaZsl.js";import{S as le,c as re,d as ne,a as J,b as ie}from"./select-QGsFE1Nt.js";import{A as ke,a as Ce,b as Te,c as Me,d as Ie,e as Ee,f as He,g as Fe,h as Ue}from"./alert-dialog-fuDA2Sgs.js";import{A as $e,a as Le,b as Be}from"./avatar-DYrdvPax.js";import{E as ze}from"./ellipsis-BHMlDH0p.js";import{E as Pe}from"./eye-Bcj5dXTF.js";import{S as Ve}from"./square-pen-DN8IncVt.js";import{T as qe}from"./trash-2-BgucR-O9.js";import{P as Re}from"./plus-e9gYXact.js";import{U as Xe}from"./x-CV1yhBJZ.js";import{S as Oe}from"./search-D9utk87M.js";import{F as Ge}from"./filter-DIBLFJE5.js";/* empty css            */import"./index-BiNrCjIr.js";import"./index-CMRMG5Mo.js";import"./index-B9jue-Th.js";import"./index-CZQ422QV.js";import"./Combination-BEW_kzWa.js";import"./index-BzAksq8r.js";import"./index-BOY9t191.js";import"./index-CxACbU5U.js";import"./index-C7YjzNVQ.js";import"./index-DI1PiJH0.js";import"./index-CbiHmYlh.js";import"./index-DTTikWjI.js";import"./index-DHA2i0B2.js";import"./image-CHvhAmHJ.js";import"./link-D-JBfegL.js";import"./quote-DLUiA_F1.js";import"./newspaper-D3mdqZcT.js";import"./megaphone-BG2hP5oS.js";import"./indian-rupee-Bj1qYK0P.js";import"./file-check-UDYRRxCK.js";import"./folder-l-97kfum.js";import"./handshake-V1wEucA7.js";import"./school-BjNRgEiN.js";import"./index-t_bT_gQV.js";import"./chevron-up-Bv-H0xE7.js";import"./check-DGLhpy4l.js";import"./index-BTFUtR64.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],ce=oe("UserCheck",Je);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],Qe=oe("UserX",Ke),We=[{title:"Dashboard",href:"/dashboard"},{title:"Staff",href:"/admin/staff"}],Ye={teaching:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300",non_teaching:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300",management:"bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-300"};function Zt(l){const e=ge.c(73),{items:a,filters:K,departments:Q,types:o}=l,[r,de]=Z.useState(K.search||""),[n,me]=Z.useState(K.type||"all"),[i,pe]=Z.useState(K.department||"all");let d;if(e[0]!==i||e[1]!==r||e[2]!==n){d=ue=>{ue.preventDefault(),s()};const s=()=>{D.get("/admin/staff",{search:r||void 0,type:n!=="all"?n:void 0,department:i!=="all"?i:void 0},{preserveState:!0,preserveScroll:!0})};e[0]=i,e[1]=r,e[2]=n,e[3]=d}else d=e[3];let k;e[4]!==i||e[5]!==r?(k=s=>{me(s),D.get("/admin/staff",{search:r,type:s!=="all"?s:void 0,department:i!=="all"?i:void 0},{preserveState:!0,preserveScroll:!0})},e[4]=i,e[5]=r,e[6]=k):k=e[6];const W=k;let C;e[7]!==r||e[8]!==n?(C=s=>{pe(s),D.get("/admin/staff",{search:r,type:n!=="all"?n:void 0,department:s!=="all"?s:void 0},{preserveState:!0,preserveScroll:!0})},e[7]=r,e[8]=n,e[9]=C):C=e[9];const Y=C,xe=it,he=nt,fe=lt;let T;e[10]===Symbol.for("react.memo_cache_sentinel")?(T=t.jsx(je,{title:"Staff Management - APS Alwar Admin"}),e[10]=T):T=e[10];let M;e[11]===Symbol.for("react.memo_cache_sentinel")?(M=t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Staff Management"}),t.jsx("p",{className:"text-muted-foreground",children:"Manage teaching and non-teaching staff members."})]}),e[11]=M):M=e[11];let I;e[12]===Symbol.for("react.memo_cache_sentinel")?(I=t.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[M,t.jsx(G,{asChild:!0,className:"bg-amber-600 hover:bg-amber-700",children:t.jsxs(ee,{href:"/admin/staff/create",children:[t.jsx(Re,{className:"mr-2 h-4 w-4"}),"Add Staff"]})})]}),e[12]=I):I=e[12];let E,H;e[13]===Symbol.for("react.memo_cache_sentinel")?(E=t.jsx("div",{className:"rounded-full bg-blue-100 p-2 dark:bg-blue-900",children:t.jsx(Xe,{className:"h-5 w-5 text-blue-600 dark:text-blue-300"})}),H=t.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Staff"}),e[13]=E,e[14]=H):(E=e[13],H=e[14]);let m;e[15]!==a.total?(m=t.jsx("div",{className:"rounded-lg border bg-card p-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[E,t.jsxs("div",{children:[H,t.jsx("p",{className:"text-2xl font-bold",children:a.total})]})]})}),e[15]=a.total,e[16]=m):m=e[16];let F,U;e[17]===Symbol.for("react.memo_cache_sentinel")?(U=t.jsx("div",{className:"rounded-full bg-green-100 p-2 dark:bg-green-900",children:t.jsx(ce,{className:"h-5 w-5 text-green-600 dark:text-green-300"})}),F=t.jsx("p",{className:"text-sm text-muted-foreground",children:"Active"}),e[17]=F,e[18]=U):(F=e[17],U=e[18]);let p;e[19]!==a.data?(p=a.data.filter(at),e[19]=a.data,e[20]=p):p=e[20];let x;e[21]!==p.length?(x=t.jsx("div",{className:"rounded-lg border bg-card p-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[U,t.jsxs("div",{children:[F,t.jsx("p",{className:"text-2xl font-bold",children:p.length})]})]})}),e[21]=p.length,e[22]=x):x=e[22];let h;e[23]!==x||e[24]!==m?(h=t.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[m,x]}),e[23]=x,e[24]=m,e[25]=h):h=e[25];let $;e[26]===Symbol.for("react.memo_cache_sentinel")?($=t.jsx(Oe,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),e[26]=$):$=e[26];let L;e[27]===Symbol.for("react.memo_cache_sentinel")?(L=s=>de(s.target.value),e[27]=L):L=e[27];let f;e[28]!==r?(f=t.jsxs("div",{className:"relative flex-1 max-w-sm",children:[$,t.jsx(Ne,{placeholder:"Search staff...",value:r,onChange:L,className:"pl-9"})]}),e[28]=r,e[29]=f):f=e[29];let B;e[30]===Symbol.for("react.memo_cache_sentinel")?(B=t.jsx(G,{type:"submit",variant:"secondary",children:"Search"}),e[30]=B):B=e[30];let u;e[31]!==d||e[32]!==f?(u=t.jsxs("form",{onSubmit:d,className:"flex flex-1 gap-2",children:[f,B]}),e[31]=d,e[32]=f,e[33]=u):u=e[33];let z;e[34]===Symbol.for("react.memo_cache_sentinel")?(z=t.jsxs(re,{className:"w-[180px]",children:[t.jsx(Ge,{className:"mr-2 h-4 w-4"}),t.jsx(ne,{placeholder:"Staff Type"})]}),e[34]=z):z=e[34];let P;e[35]===Symbol.for("react.memo_cache_sentinel")?(P=t.jsx(J,{value:"all",children:"All Types"}),e[35]=P):P=e[35];let g;e[36]!==o?(g=t.jsxs(le,{children:[P,Object.entries(o).map(st)]}),e[36]=o,e[37]=g):g=e[37];let j;e[38]!==W||e[39]!==g||e[40]!==n?(j=t.jsxs(ie,{value:n,onValueChange:W,children:[z,g]}),e[38]=W,e[39]=g,e[40]=n,e[41]=j):j=e[41];let V;e[42]===Symbol.for("react.memo_cache_sentinel")?(V=t.jsx(re,{className:"w-[180px]",children:t.jsx(ne,{placeholder:"Department"})}),e[42]=V):V=e[42];let q;e[43]===Symbol.for("react.memo_cache_sentinel")?(q=t.jsx(J,{value:"all",children:"All Departments"}),e[43]=q):q=e[43];let b;e[44]!==Q?(b=Q.map(tt),e[44]=Q,e[45]=b):b=e[45];let v;e[46]!==b?(v=t.jsxs(le,{children:[q,b]}),e[46]=b,e[47]=v):v=e[47];let y;e[48]!==i||e[49]!==Y||e[50]!==v?(y=t.jsxs(ie,{value:i,onValueChange:Y,children:[V,v]}),e[48]=i,e[49]=Y,e[50]=v,e[51]=y):y=e[51];let _;e[52]!==u||e[53]!==j||e[54]!==y?(_=t.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center",children:[u,j,y]}),e[52]=u,e[53]=j,e[54]=y,e[55]=_):_=e[55];let R;e[56]===Symbol.for("react.memo_cache_sentinel")?(R=t.jsx(we,{children:t.jsxs(te,{children:[t.jsx(A,{className:"w-[35%]",children:"Staff Member"}),t.jsx(A,{children:"Designation"}),t.jsx(A,{children:"Department"}),t.jsx(A,{children:"Type"}),t.jsx(A,{children:"Status"}),t.jsx(A,{className:"text-right",children:"Actions"})]})}),e[56]=R):R=e[56];let S;e[57]!==a.data||e[58]!==o?(S=a.data.length===0?t.jsx(te,{children:t.jsx(c,{colSpan:6,className:"text-center py-8 text-muted-foreground",children:"No staff members found."})}):a.data.map(s=>t.jsxs(te,{children:[t.jsx(c,{children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs($e,{className:"h-10 w-10",children:[s.photo?t.jsx(Le,{src:`/storage/${s.photo}`,alt:s.name}):null,t.jsx(Be,{className:"bg-amber-100 text-amber-700 dark:bg-amber-900 dark:text-amber-300",children:fe(s.name)})]}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:s.name}),s.email&&t.jsx("p",{className:"text-sm text-muted-foreground",children:s.email})]})]})}),t.jsx(c,{children:s.designation}),t.jsx(c,{children:s.department?.name||t.jsx("span",{className:"text-muted-foreground",children:"-"})}),t.jsx(c,{children:t.jsx(ae,{className:Ye[s.type],children:o[s.type]})}),t.jsx(c,{children:t.jsx(ae,{variant:s.is_active?"default":"secondary",children:s.is_active?"Active":"Inactive"})}),t.jsx(c,{className:"text-right",children:t.jsxs(be,{children:[t.jsx(ve,{asChild:!0,children:t.jsxs(G,{variant:"ghost",size:"icon",children:[t.jsx(ze,{className:"h-4 w-4"}),t.jsx("span",{className:"sr-only",children:"Actions"})]})}),t.jsxs(ye,{align:"end",children:[t.jsx(_e,{children:"Actions"}),t.jsx(se,{}),t.jsx(O,{asChild:!0,children:t.jsxs(ee,{href:`/admin/staff/${s.id}`,children:[t.jsx(Pe,{className:"mr-2 h-4 w-4"}),"View"]})}),t.jsx(O,{asChild:!0,children:t.jsxs(ee,{href:`/admin/staff/${s.id}/edit`,children:[t.jsx(Ve,{className:"mr-2 h-4 w-4"}),"Edit"]})}),t.jsx(O,{onClick:()=>he(s.id),children:s.is_active?t.jsxs(t.Fragment,{children:[t.jsx(Qe,{className:"mr-2 h-4 w-4"}),"Deactivate"]}):t.jsxs(t.Fragment,{children:[t.jsx(ce,{className:"mr-2 h-4 w-4"}),"Activate"]})}),t.jsx(se,{}),t.jsxs(ke,{children:[t.jsx(Ce,{asChild:!0,children:t.jsxs(O,{className:"text-destructive focus:text-destructive",onSelect:et,children:[t.jsx(qe,{className:"mr-2 h-4 w-4"}),"Delete"]})}),t.jsxs(Te,{children:[t.jsxs(Me,{children:[t.jsx(Ie,{children:"Delete Staff Member"}),t.jsxs(Ee,{children:['Are you sure you want to delete "',s.name,'"? This action cannot be undone.']})]}),t.jsxs(He,{children:[t.jsx(Fe,{children:"Cancel"}),t.jsx(Ue,{onClick:()=>xe(s.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})]})]})]})})]},s.id)),e[57]=a.data,e[58]=o,e[59]=S):S=e[59];let N;e[60]!==S?(N=t.jsx("div",{className:"rounded-lg border bg-card",children:t.jsxs(Ae,{children:[R,t.jsx(De,{children:S})]})}),e[60]=S,e[61]=N):N=e[61];let w;e[62]!==a.current_page||e[63]!==a.last_page||e[64]!==a.links||e[65]!==a.per_page||e[66]!==a.total?(w=a.last_page>1&&t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",(a.current_page-1)*a.per_page+1," to"," ",Math.min(a.current_page*a.per_page,a.total)," of ",a.total," results"]}),t.jsx("div",{className:"flex gap-2",children:a.links.map(Ze)})]}),e[62]=a.current_page,e[63]=a.last_page,e[64]=a.links,e[65]=a.per_page,e[66]=a.total,e[67]=w):w=e[67];let X;return e[68]!==h||e[69]!==_||e[70]!==N||e[71]!==w?(X=t.jsxs(Se,{breadcrumbs:We,children:[T,t.jsxs("div",{className:"flex flex-col gap-6 p-6",children:[I,h,_,N,w]})]}),e[68]=h,e[69]=_,e[70]=N,e[71]=w,e[72]=X):X=e[72],X}function Ze(l,e){return t.jsx(G,{variant:l.active?"default":"outline",size:"sm",disabled:!l.url,onClick:()=>l.url&&D.get(l.url),dangerouslySetInnerHTML:{__html:l.label}},e)}function et(l){return l.preventDefault()}function tt(l){return t.jsx(J,{value:l.id.toString(),children:l.name},l.id)}function st(l){const[e,a]=l;return t.jsx(J,{value:e,children:a},e)}function at(l){return l.is_active}function lt(l){return l.split(" ").map(rt).join("").toUpperCase().slice(0,2)}function rt(l){return l[0]}function nt(l){D.post(`/admin/staff/${l}/toggle-active`,{},{preserveScroll:!0})}function it(l){D.delete(`/admin/staff/${l}`,{preserveScroll:!0})}export{Zt as default};
