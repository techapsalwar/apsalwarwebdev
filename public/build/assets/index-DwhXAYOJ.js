import{c as ie,r as ce,j as t,L as G,a as D,H as ne}from"./app-Cmq9oDGi.js";import{A as oe}from"./app-layout-DoVO_vzw.js";import{c as me,B as c}from"./button-Cf4oe_XG.js";import{C as de,a as he,c as Z,d as J}from"./card-X8yrq1E7.js";import{I as xe}from"./input-CJJo5L_5.js";import{S as Q,c as W,d as X,a as C,b as Y}from"./select-MDq58P37.js";import{B as ee}from"./badge-B7t43j3u.js";import{S as pe}from"./switch-C474g68b.js";import{b as K,e as i,a as fe,c as w,T as je,d as ue}from"./table-DxHlWMmR.js";import{A as ge,a as ve,b as ye,c as _e,d as Se,e as be,f as Ne,g as we,h as Ce}from"./alert-dialog-D5vPuSRT.js";import{D as De}from"./download-rOHPEB1N.js";import{S as Ae}from"./square-pen-BIQygcGa.js";import{T as Te}from"./trash-2-DfEL4ZSA.js";import{P as Fe}from"./plus-CX2v85UT.js";import{S as ke}from"./search-CM4xpWys.js";import{F as Ie}from"./file-lnOSCLnN.js";import{F as Be}from"./file-spreadsheet-BojJhODB.js";import{F as te}from"./x-HfyhX8Ju.js";/* empty css            */import"./index-CWF-aD8F.js";import"./index-uM6iNYTc.js";import"./index-7JW2xj0O.js";import"./index-DyFFqtbr.js";import"./Combination-NTvMx_hL.js";import"./index-BZSQ9xrA.js";import"./index-DvAkvJaB.js";import"./index-CJXivgjO.js";import"./index-C9wRH-1q.js";import"./index-D_u97ceG.js";import"./index-BQQBJX9w.js";import"./index-CghxG9km.js";import"./avatar-XGiuVYGe.js";import"./index-Caa2gN9W.js";import"./index-DHA2i0B2.js";import"./image-DO4yfKR-.js";import"./link-CZ3Nda4c.js";import"./quote-RHalnNgg.js";import"./newspaper-BNdRHAAi.js";import"./megaphone-D5LK33hs.js";import"./indian-rupee-n2MNJtU2.js";import"./file-check-Cs6It4z_.js";import"./folder-B56i9kPD.js";import"./handshake-TJFmC-Ix.js";import"./school-D_aABbcu.js";import"./index-CJgzQKWL.js";import"./chevron-up-08YVdQiA.js";import"./check-z4pC7DcM.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]],He=me("FileImage",ze),Le=l=>{const e=["B","KB","MB","GB"];let a=0;for(;l>=1024&&a<e.length-1;)l/=1024,a++;return`${l.toFixed(1)} ${e[a]}`},$e=l=>{switch(l.toLowerCase()){case"pdf":return t.jsx(te,{className:"h-5 w-5 text-red-500"});case"doc":case"docx":return t.jsx(te,{className:"h-5 w-5 text-blue-500"});case"xls":case"xlsx":return t.jsx(Be,{className:"h-5 w-5 text-green-500"});case"jpg":case"jpeg":case"png":return t.jsx(He,{className:"h-5 w-5 text-purple-500"});default:return t.jsx(Ie,{className:"h-5 w-5 text-gray-500"})}};function Ht(l){const e=ie.c(57),{documents:a,filters:r,categories:n}=l,[o,se]=ce.useState(r.search||"");let A;e[0]===Symbol.for("react.memo_cache_sentinel")?(A=[{title:"Dashboard",href:"/dashboard"},{title:"Documents",href:"/admin/documents"}],e[0]=A):A=e[0];const le=A;let T;e[1]!==r||e[2]!==o?(T=s=>{s.preventDefault(),D.get("/admin/documents",{...r,search:o},{preserveState:!0})},e[1]=r,e[2]=o,e[3]=T):T=e[3];const P=T;let F;e[4]!==r?(F=(s,O)=>{D.get("/admin/documents",{...r,[s]:O==="all"?void 0:O},{preserveState:!0})},e[4]=r,e[5]=F):F=e[5];const m=F,ae=Ee,re=qe;let k;e[6]===Symbol.for("react.memo_cache_sentinel")?(k=t.jsx(ne,{title:"Documents Management"}),e[6]=k):k=e[6];let I;e[7]===Symbol.for("react.memo_cache_sentinel")?(I=t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold",children:"Documents Management"}),t.jsx("p",{className:"text-gray-500",children:"Upload and manage downloadable documents"})]}),e[7]=I):I=e[7];let B;e[8]===Symbol.for("react.memo_cache_sentinel")?(B=t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[I,t.jsx(c,{asChild:!0,children:t.jsxs(G,{href:"/admin/documents/create",children:[t.jsx(Fe,{className:"h-4 w-4 mr-2"}),"Upload Document"]})})]}),e[8]=B):B=e[8];let z;e[9]===Symbol.for("react.memo_cache_sentinel")?(z=s=>se(s.target.value),e[9]=z):z=e[9];let d;e[10]!==o?(d=t.jsx(xe,{placeholder:"Search documents...",value:o,onChange:z,className:"flex-1"}),e[10]=o,e[11]=d):d=e[11];let H;e[12]===Symbol.for("react.memo_cache_sentinel")?(H=t.jsx(c,{type:"submit",variant:"secondary",children:t.jsx(ke,{className:"h-4 w-4"})}),e[12]=H):H=e[12];let h;e[13]!==P||e[14]!==d?(h=t.jsxs("form",{onSubmit:P,className:"flex-1 flex gap-2",children:[d,H]}),e[13]=P,e[14]=d,e[15]=h):h=e[15];const R=r.category||"all";let x;e[16]!==m?(x=s=>m("category",s),e[16]=m,e[17]=x):x=e[17];let L;e[18]===Symbol.for("react.memo_cache_sentinel")?(L=t.jsx(W,{className:"w-[150px]",children:t.jsx(X,{placeholder:"Category"})}),e[18]=L):L=e[18];let $;e[19]===Symbol.for("react.memo_cache_sentinel")?($=t.jsx(C,{value:"all",children:"All Categories"}),e[19]=$):$=e[19];let p;e[20]!==n?(p=t.jsxs(Q,{children:[$,Object.entries(n).map(Ve)]}),e[20]=n,e[21]=p):p=e[21];let f;e[22]!==R||e[23]!==x||e[24]!==p?(f=t.jsxs(Y,{value:R,onValueChange:x,children:[L,p]}),e[22]=R,e[23]=x,e[24]=p,e[25]=f):f=e[25];const U=r.status||"all";let j;e[26]!==m?(j=s=>m("status",s),e[26]=m,e[27]=j):j=e[27];let M;e[28]===Symbol.for("react.memo_cache_sentinel")?(M=t.jsx(W,{className:"w-[150px]",children:t.jsx(X,{placeholder:"Status"})}),e[28]=M):M=e[28];let V;e[29]===Symbol.for("react.memo_cache_sentinel")?(V=t.jsxs(Q,{children:[t.jsx(C,{value:"all",children:"All Status"}),t.jsx(C,{value:"active",children:"Active"}),t.jsx(C,{value:"inactive",children:"Inactive"})]}),e[29]=V):V=e[29];let u;e[30]!==U||e[31]!==j?(u=t.jsxs(Y,{value:U,onValueChange:j,children:[M,V]}),e[30]=U,e[31]=j,e[32]=u):u=e[32];let g;e[33]!==h||e[34]!==f||e[35]!==u?(g=t.jsx(Z,{children:t.jsx(J,{className:"p-4",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[h,f,u]})})}),e[33]=h,e[34]=f,e[35]=u,e[36]=g):g=e[36];let v;e[37]!==a.total?(v=t.jsx(de,{children:t.jsxs(he,{children:["All Documents (",a.total,")"]})}),e[37]=a.total,e[38]=v):v=e[38];let q;e[39]===Symbol.for("react.memo_cache_sentinel")?(q=t.jsx(fe,{children:t.jsxs(K,{children:[t.jsx(w,{children:"Document"}),t.jsx(w,{children:"Category"}),t.jsx(w,{children:"Size"}),t.jsx(w,{children:"Downloads"}),t.jsx(w,{children:"Active"}),t.jsx(w,{className:"text-right",children:"Actions"})]})}),e[39]=q):q=e[39];let y;e[40]!==n||e[41]!==a.data?(y=a.data.length===0?t.jsx(K,{children:t.jsxs(i,{colSpan:6,className:"text-center py-8",children:[t.jsx("p",{className:"text-gray-500",children:"No documents found"}),t.jsx(c,{asChild:!0,variant:"link",className:"mt-2",children:t.jsx(G,{href:"/admin/documents/create",children:"Upload your first document"})})]})}):a.data.map(s=>t.jsxs(K,{children:[t.jsx(i,{children:t.jsxs("div",{className:"flex items-center gap-3",children:[$e(s.file_type),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:s.title}),t.jsx("p",{className:"text-sm text-gray-500",children:s.filename})]})]})}),t.jsx(i,{children:t.jsx(ee,{variant:"outline",children:n[s.category]||s.category})}),t.jsx(i,{children:Le(s.file_size)}),t.jsx(i,{children:t.jsx(ee,{variant:"secondary",children:s.download_count})}),t.jsx(i,{children:t.jsx(pe,{checked:s.is_active,onCheckedChange:()=>ae(s.id)})}),t.jsx(i,{className:"text-right",children:t.jsxs("div",{className:"flex items-center justify-end gap-2",children:[t.jsx(c,{variant:"ghost",size:"icon",asChild:!0,children:t.jsx("a",{href:`/storage/${s.path}`,download:s.filename,children:t.jsx(De,{className:"h-4 w-4"})})}),t.jsx(c,{variant:"ghost",size:"icon",asChild:!0,children:t.jsx(G,{href:`/admin/documents/${s.slug}/edit`,children:t.jsx(Ae,{className:"h-4 w-4"})})}),t.jsxs(ge,{children:[t.jsx(ve,{asChild:!0,children:t.jsx(c,{variant:"ghost",size:"icon",className:"text-red-500",children:t.jsx(Te,{className:"h-4 w-4"})})}),t.jsxs(ye,{children:[t.jsxs(_e,{children:[t.jsx(Se,{children:"Delete Document?"}),t.jsxs(be,{children:['This will permanently delete "',s.title,'".']})]}),t.jsxs(Ne,{children:[t.jsx(we,{children:"Cancel"}),t.jsx(Ce,{onClick:()=>re(s.id),className:"bg-red-500 hover:bg-red-600",children:"Delete"})]})]})]})]})})]},s.id)),e[40]=n,e[41]=a.data,e[42]=y):y=e[42];let _;e[43]!==y?(_=t.jsxs(je,{children:[q,t.jsx(ue,{children:y})]}),e[43]=y,e[44]=_):_=e[44];let S;e[45]!==a.last_page||e[46]!==a.links?(S=a.last_page>1&&t.jsx("div",{className:"flex items-center justify-center gap-2 mt-4",children:a.links.map(Me)}),e[45]=a.last_page,e[46]=a.links,e[47]=S):S=e[47];let b;e[48]!==_||e[49]!==S?(b=t.jsxs(J,{children:[_,S]}),e[48]=_,e[49]=S,e[50]=b):b=e[50];let N;e[51]!==v||e[52]!==b?(N=t.jsxs(Z,{children:[v,b]}),e[51]=v,e[52]=b,e[53]=N):N=e[53];let E;return e[54]!==g||e[55]!==N?(E=t.jsxs(oe,{breadcrumbs:le,children:[k,t.jsxs("div",{className:"space-y-6 p-6",children:[B,g,N]})]}),e[54]=g,e[55]=N,e[56]=E):E=e[56],E}function Me(l,e){return t.jsx(c,{variant:l.active?"default":"outline",size:"sm",disabled:!l.url,onClick:()=>l.url&&D.visit(l.url),dangerouslySetInnerHTML:{__html:l.label}},e)}function Ve(l){const[e,a]=l;return t.jsx(C,{value:e,children:a},e)}function qe(l){D.delete(`/admin/documents/${l}`)}function Ee(l){D.post(`/admin/documents/${l}/toggle-active`,{},{preserveState:!0})}export{Ht as default};
