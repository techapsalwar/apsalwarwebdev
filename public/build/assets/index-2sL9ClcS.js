import{c as ae,r as re,j as t,L as K,a as A,H as ie}from"./app-Cmq9oDGi.js";import{A as oe}from"./app-layout-DoVO_vzw.js";import{B as o}from"./button-Cf4oe_XG.js";import{C as ce,a as ne,c as Q,d as U}from"./card-X8yrq1E7.js";import{I as me}from"./input-CJJo5L_5.js";import{S as W,c as X,d as Y,a as D,b as Z}from"./select-MDq58P37.js";import{B as de}from"./badge-B7t43j3u.js";import{S as he}from"./switch-C474g68b.js";import{b as O,e as i,a as xe,c as C,T as fe,d as pe}from"./table-DxHlWMmR.js";import{A as je,a as ue,b as ge,c as ye,d as ve,e as _e,f as Se,g as be,h as Ne}from"./alert-dialog-D5vPuSRT.js";import{G as Ce}from"./grip-vertical-DObL1Pex.js";import{F as De}from"./x-HfyhX8Ju.js";import{D as Ae}from"./download-rOHPEB1N.js";import{S as we}from"./square-pen-BIQygcGa.js";import{T as Te}from"./trash-2-DfEL4ZSA.js";import{P as Be}from"./plus-CX2v85UT.js";import{S as Me}from"./search-CM4xpWys.js";/* empty css            */import"./index-CWF-aD8F.js";import"./index-uM6iNYTc.js";import"./index-7JW2xj0O.js";import"./index-DyFFqtbr.js";import"./Combination-NTvMx_hL.js";import"./index-BZSQ9xrA.js";import"./index-DvAkvJaB.js";import"./index-CJXivgjO.js";import"./index-C9wRH-1q.js";import"./index-D_u97ceG.js";import"./index-BQQBJX9w.js";import"./index-CghxG9km.js";import"./avatar-XGiuVYGe.js";import"./index-Caa2gN9W.js";import"./index-DHA2i0B2.js";import"./image-DO4yfKR-.js";import"./link-CZ3Nda4c.js";import"./quote-RHalnNgg.js";import"./newspaper-BNdRHAAi.js";import"./megaphone-D5LK33hs.js";import"./indian-rupee-n2MNJtU2.js";import"./file-check-Cs6It4z_.js";import"./folder-B56i9kPD.js";import"./handshake-TJFmC-Ix.js";import"./school-D_aABbcu.js";import"./index-CJgzQKWL.js";import"./chevron-up-08YVdQiA.js";import"./check-z4pC7DcM.js";const ke=a=>{if(!a)return"N/A";const e=["B","KB","MB","GB"];let l=0;for(;a>=1024&&l<e.length-1;)a/=1024,l++;return`${a.toFixed(1)} ${e[l]}`};function Tt(a){const e=ae.c(57),{disclosures:l,filters:r,categories:c}=a,[n,ee]=re.useState(r.search||"");let w;e[0]===Symbol.for("react.memo_cache_sentinel")?(w=[{title:"Dashboard",href:"/admin"},{title:"Mandatory Disclosures",href:"/admin/mandatory-disclosures"}],e[0]=w):w=e[0];const te=w;let T;e[1]!==r||e[2]!==n?(T=s=>{s.preventDefault(),A.get("/admin/mandatory-disclosures",{...r,search:n},{preserveState:!0})},e[1]=r,e[2]=n,e[3]=T):T=e[3];const P=T;let B;e[4]!==r?(B=(s,J)=>{A.get("/admin/mandatory-disclosures",{...r,[s]:J==="all"?void 0:J},{preserveState:!0})},e[4]=r,e[5]=B):B=e[5];const m=B,se=Fe,le=$e;let M;e[6]===Symbol.for("react.memo_cache_sentinel")?(M=t.jsx(ie,{title:"Mandatory Disclosures Management"}),e[6]=M):M=e[6];let k;e[7]===Symbol.for("react.memo_cache_sentinel")?(k=t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold",children:"Mandatory Disclosures"}),t.jsx("p",{className:"text-muted-foreground",children:"Manage CBSE mandatory disclosure documents"})]}),e[7]=k):k=e[7];let z;e[8]===Symbol.for("react.memo_cache_sentinel")?(z=t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[k,t.jsx(o,{asChild:!0,children:t.jsxs(K,{href:"/admin/mandatory-disclosures/create",children:[t.jsx(Be,{className:"h-4 w-4 mr-2"}),"Add Disclosure"]})})]}),e[8]=z):z=e[8];let H;e[9]===Symbol.for("react.memo_cache_sentinel")?(H=s=>ee(s.target.value),e[9]=H):H=e[9];let d;e[10]!==n?(d=t.jsx(me,{placeholder:"Search disclosures...",value:n,onChange:H,className:"flex-1"}),e[10]=n,e[11]=d):d=e[11];let $;e[12]===Symbol.for("react.memo_cache_sentinel")?($=t.jsx(o,{type:"submit",variant:"secondary",children:t.jsx(Me,{className:"h-4 w-4"})}),e[12]=$):$=e[12];let h;e[13]!==P||e[14]!==d?(h=t.jsxs("form",{onSubmit:P,className:"flex-1 flex gap-2",children:[d,$]}),e[13]=P,e[14]=d,e[15]=h):h=e[15];const R=r.category||"all";let x;e[16]!==m?(x=s=>m("category",s),e[16]=m,e[17]=x):x=e[17];let F;e[18]===Symbol.for("react.memo_cache_sentinel")?(F=t.jsx(X,{className:"w-[180px]",children:t.jsx(Y,{placeholder:"Category"})}),e[18]=F):F=e[18];let I;e[19]===Symbol.for("react.memo_cache_sentinel")?(I=t.jsx(D,{value:"all",children:"All Categories"}),e[19]=I):I=e[19];let f;e[20]!==c?(f=t.jsxs(W,{children:[I,Object.entries(c).map(He)]}),e[20]=c,e[21]=f):f=e[21];let p;e[22]!==R||e[23]!==x||e[24]!==f?(p=t.jsxs(Z,{value:R,onValueChange:x,children:[F,f]}),e[22]=R,e[23]=x,e[24]=f,e[25]=p):p=e[25];const q=r.status||"all";let j;e[26]!==m?(j=s=>m("status",s),e[26]=m,e[27]=j):j=e[27];let E;e[28]===Symbol.for("react.memo_cache_sentinel")?(E=t.jsx(X,{className:"w-[150px]",children:t.jsx(Y,{placeholder:"Status"})}),e[28]=E):E=e[28];let L;e[29]===Symbol.for("react.memo_cache_sentinel")?(L=t.jsxs(W,{children:[t.jsx(D,{value:"all",children:"All Status"}),t.jsx(D,{value:"active",children:"Active"}),t.jsx(D,{value:"inactive",children:"Inactive"})]}),e[29]=L):L=e[29];let u;e[30]!==q||e[31]!==j?(u=t.jsxs(Z,{value:q,onValueChange:j,children:[E,L]}),e[30]=q,e[31]=j,e[32]=u):u=e[32];let g;e[33]!==h||e[34]!==p||e[35]!==u?(g=t.jsx(Q,{children:t.jsx(U,{className:"p-4",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[h,p,u]})})}),e[33]=h,e[34]=p,e[35]=u,e[36]=g):g=e[36];let y;e[37]!==l.total?(y=t.jsx(ce,{children:t.jsxs(ne,{children:["All Disclosures (",l.total,")"]})}),e[37]=l.total,e[38]=y):y=e[38];let V;e[39]===Symbol.for("react.memo_cache_sentinel")?(V=t.jsx(xe,{children:t.jsxs(O,{children:[t.jsx(C,{className:"w-10"}),t.jsx(C,{children:"Document"}),t.jsx(C,{children:"Category"}),t.jsx(C,{children:"Size"}),t.jsx(C,{children:"Active"}),t.jsx(C,{className:"text-right",children:"Actions"})]})}),e[39]=V):V=e[39];let v;e[40]!==c||e[41]!==l.data?(v=l.data.length===0?t.jsx(O,{children:t.jsxs(i,{colSpan:6,className:"text-center py-8",children:[t.jsx("p",{className:"text-muted-foreground",children:"No disclosures found"}),t.jsx(o,{asChild:!0,variant:"link",className:"mt-2",children:t.jsx(K,{href:"/admin/mandatory-disclosures/create",children:"Add your first disclosure"})})]})}):l.data.map(s=>t.jsxs(O,{children:[t.jsx(i,{children:t.jsx(Ce,{className:"h-4 w-4 text-muted-foreground cursor-grab"})}),t.jsx(i,{children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(De,{className:"h-5 w-5 text-red-500"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:s.title}),t.jsx("p",{className:"text-sm text-muted-foreground",children:s.file_name})]})]})}),t.jsx(i,{children:s.category&&t.jsx(de,{variant:"outline",children:c[s.category]||s.category})}),t.jsx(i,{children:ke(s.file_size)}),t.jsx(i,{children:t.jsx(he,{checked:s.is_active,onCheckedChange:()=>se(s.id)})}),t.jsx(i,{className:"text-right",children:t.jsxs("div",{className:"flex items-center justify-end gap-2",children:[t.jsx(o,{variant:"ghost",size:"icon",asChild:!0,children:t.jsx("a",{href:`/storage/${s.file_path}`,target:"_blank",rel:"noopener noreferrer",children:t.jsx(Ae,{className:"h-4 w-4"})})}),t.jsx(o,{variant:"ghost",size:"icon",asChild:!0,children:t.jsx(K,{href:`/admin/mandatory-disclosures/${s.id}/edit`,children:t.jsx(we,{className:"h-4 w-4"})})}),t.jsxs(je,{children:[t.jsx(ue,{asChild:!0,children:t.jsx(o,{variant:"ghost",size:"icon",className:"text-red-500",children:t.jsx(Te,{className:"h-4 w-4"})})}),t.jsxs(ge,{children:[t.jsxs(ye,{children:[t.jsx(ve,{children:"Delete Disclosure?"}),t.jsxs(_e,{children:['This will permanently delete "',s.title,'".']})]}),t.jsxs(Se,{children:[t.jsx(be,{children:"Cancel"}),t.jsx(Ne,{onClick:()=>le(s.id),className:"bg-red-500 hover:bg-red-600",children:"Delete"})]})]})]})]})})]},s.id)),e[40]=c,e[41]=l.data,e[42]=v):v=e[42];let _;e[43]!==v?(_=t.jsxs(fe,{children:[V,t.jsx(pe,{children:v})]}),e[43]=v,e[44]=_):_=e[44];let S;e[45]!==l.last_page||e[46]!==l.links?(S=l.last_page>1&&t.jsx("div",{className:"flex items-center justify-center gap-2 mt-4",children:l.links.map(ze)}),e[45]=l.last_page,e[46]=l.links,e[47]=S):S=e[47];let b;e[48]!==_||e[49]!==S?(b=t.jsxs(U,{children:[_,S]}),e[48]=_,e[49]=S,e[50]=b):b=e[50];let N;e[51]!==y||e[52]!==b?(N=t.jsxs(Q,{children:[y,b]}),e[51]=y,e[52]=b,e[53]=N):N=e[53];let G;return e[54]!==g||e[55]!==N?(G=t.jsxs(oe,{breadcrumbs:te,children:[M,t.jsxs("div",{className:"space-y-6 p-6",children:[z,g,N]})]}),e[54]=g,e[55]=N,e[56]=G):G=e[56],G}function ze(a,e){return t.jsx(o,{variant:a.active?"default":"outline",size:"sm",disabled:!a.url,onClick:()=>a.url&&A.visit(a.url),dangerouslySetInnerHTML:{__html:a.label}},e)}function He(a){const[e,l]=a;return t.jsx(D,{value:e,children:l},e)}function $e(a){A.delete(`/admin/mandatory-disclosures/${a}`)}function Fe(a){A.post(`/admin/mandatory-disclosures/${a}/toggle-active`,{},{preserveState:!0})}export{Tt as default};
