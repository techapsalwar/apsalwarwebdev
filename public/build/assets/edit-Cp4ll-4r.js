import{c as We,r as Ke,u as Xe,j as t,H as Ye,L as Me}from"./app-Cmq9oDGi.js";import{A as Ze}from"./app-layout-DoVO_vzw.js";import{B as Be}from"./button-Cf4oe_XG.js";import{c as W,d as X,C as Y,a as Z}from"./card-X8yrq1E7.js";import{I as qe}from"./input-CJJo5L_5.js";import{L as ee}from"./label-DJa8iKFL.js";import{T as et}from"./textarea-CwjQz9xo.js";import{S as tt,b as lt,c as st,d as it,a as at}from"./select-MDq58P37.js";import{S as rt}from"./switch-C474g68b.js";import{A as ct}from"./arrow-left-D1AIGgPf.js";import{F as ot}from"./x-HfyhX8Ju.js";import{D as nt}from"./download-rOHPEB1N.js";import{U as Je}from"./upload-BhALOVoL.js";import{S as mt}from"./save-CXYQgcZY.js";/* empty css            */import"./index-CWF-aD8F.js";import"./index-uM6iNYTc.js";import"./index-7JW2xj0O.js";import"./index-DyFFqtbr.js";import"./Combination-NTvMx_hL.js";import"./index-BZSQ9xrA.js";import"./index-DvAkvJaB.js";import"./index-CJXivgjO.js";import"./index-C9wRH-1q.js";import"./index-D_u97ceG.js";import"./index-BQQBJX9w.js";import"./index-CghxG9km.js";import"./avatar-XGiuVYGe.js";import"./index-Caa2gN9W.js";import"./index-DHA2i0B2.js";import"./image-DO4yfKR-.js";import"./link-CZ3Nda4c.js";import"./quote-RHalnNgg.js";import"./newspaper-BNdRHAAi.js";import"./megaphone-D5LK33hs.js";import"./indian-rupee-n2MNJtU2.js";import"./file-check-Cs6It4z_.js";import"./folder-B56i9kPD.js";import"./handshake-TJFmC-Ix.js";import"./school-D_aABbcu.js";import"./index-CJgzQKWL.js";import"./chevron-up-08YVdQiA.js";import"./check-z4pC7DcM.js";const dt=c=>{const e=["B","KB","MB","GB"];let l=0;for(;c>=1024&&l<e.length-1;)c/=1024,l++;return`${c.toFixed(1)} ${e[l]}`};function ll(c){const e=We.c(153),{document:l,categories:Ee}=c,[te,Qe]=Ke.useState(null),Ge=Ke.useRef(null);let le,se;e[0]===Symbol.for("react.memo_cache_sentinel")?(le={title:"Dashboard",href:"/dashboard"},se={title:"Documents",href:"/admin/documents"},e[0]=le,e[1]=se):(le=e[0],se=e[1]);const Le=`/admin/documents/${l.slug}/edit`;let ie;e[2]!==Le?(ie=[le,se,{title:"Edit",href:Le}],e[2]=Le,e[3]=ie):ie=e[3];const Te=ie,$e=l.description||"",ze=l.valid_from||"",Ae=l.valid_until||"";let ae;e[4]!==l.category||e[5]!==l.is_active||e[6]!==l.title||e[7]!==$e||e[8]!==ze||e[9]!==Ae?(ae={_method:"PUT",title:l.title,description:$e,file:null,category:l.category,valid_from:ze,valid_until:Ae,is_active:l.is_active},e[4]=l.category,e[5]=l.is_active,e[6]=l.title,e[7]=$e,e[8]=ze,e[9]=Ae,e[10]=ae):ae=e[10];const{data:a,setData:i,post:Ue,processing:re,errors:s}=Xe(ae);let ce;e[11]!==l.slug||e[12]!==Ue?(ce=r=>{r.preventDefault(),Ue(`/admin/documents/${l.slug}`,{forceFormData:!0})},e[11]=l.slug,e[12]=Ue,e[13]=ce):ce=e[13];const Re=ce;let oe;e[14]!==i?(oe=r=>{const Pe=r.target.files?.[0];Pe&&(i("file",Pe),Qe(Pe.name))},e[14]=i,e[15]=oe):oe=e[15];const Ve=oe,Ie=`Edit Document - ${l.title}`;let o;e[16]!==Ie?(o=t.jsx(Ye,{title:Ie}),e[16]=Ie,e[17]=o):o=e[17];let ne;e[18]===Symbol.for("react.memo_cache_sentinel")?(ne=t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(Be,{variant:"ghost",size:"icon",asChild:!0,children:t.jsx(Me,{href:"/admin/documents",children:t.jsx(ct,{className:"h-4 w-4"})})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold",children:"Edit Document"}),t.jsx("p",{className:"text-gray-500",children:"Update document details"})]})]}),e[18]=ne):ne=e[18];let me;e[19]===Symbol.for("react.memo_cache_sentinel")?(me=t.jsx(Y,{children:t.jsx(Z,{children:"Current File"})}),e[19]=me):me=e[19];let de;e[20]===Symbol.for("react.memo_cache_sentinel")?(de=t.jsx(ot,{className:"h-8 w-8 text-gray-400"}),e[20]=de):de=e[20];let n;e[21]!==l.filename?(n=t.jsx("p",{className:"font-medium",children:l.filename}),e[21]=l.filename,e[22]=n):n=e[22];let m;e[23]!==l.file_type?(m=l.file_type.toUpperCase(),e[23]=l.file_type,e[24]=m):m=e[24];let d;e[25]!==l.file_size?(d=dt(l.file_size),e[25]=l.file_size,e[26]=d):d=e[26];let f;e[27]!==m||e[28]!==d?(f=t.jsxs("p",{className:"text-sm text-gray-500",children:[m," â€¢ ",d]}),e[27]=m,e[28]=d,e[29]=f):f=e[29];let h;e[30]!==n||e[31]!==f?(h=t.jsxs("div",{className:"flex items-center gap-3",children:[de,t.jsxs("div",{children:[n,f]})]}),e[30]=n,e[31]=f,e[32]=h):h=e[32];const He=`/storage/${l.path}`;let fe;e[33]===Symbol.for("react.memo_cache_sentinel")?(fe=t.jsx(nt,{className:"h-4 w-4 mr-2"}),e[33]=fe):fe=e[33];let x;e[34]!==l.filename||e[35]!==He?(x=t.jsx(Be,{variant:"outline",size:"sm",asChild:!0,children:t.jsxs("a",{href:He,download:l.filename,children:[fe,"Download"]})}),e[34]=l.filename,e[35]=He,e[36]=x):x=e[36];let p;e[37]!==h||e[38]!==x?(p=t.jsxs(W,{children:[me,t.jsx(X,{children:t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[h,x]})})]}),e[37]=h,e[38]=x,e[39]=p):p=e[39];let he;e[40]===Symbol.for("react.memo_cache_sentinel")?(he=t.jsx(Y,{children:t.jsx(Z,{children:"Replace File (Optional)"})}),e[40]=he):he=e[40];let xe;e[41]===Symbol.for("react.memo_cache_sentinel")?(xe=()=>Ge.current?.click(),e[41]=xe):xe=e[41];let j;e[42]!==te?(j=t.jsx("div",{className:"border-2 border-dashed rounded-lg p-6 text-center cursor-pointer hover:border-primary transition-colors",onClick:xe,children:te?t.jsxs("div",{className:"space-y-2",children:[t.jsx(Je,{className:"h-8 w-8 mx-auto text-green-500"}),t.jsx("p",{className:"text-gray-800 font-medium",children:te}),t.jsx("p",{className:"text-sm text-gray-500",children:"Click to change"})]}):t.jsxs("div",{className:"space-y-2",children:[t.jsx(Je,{className:"h-8 w-8 mx-auto text-gray-400"}),t.jsx("p",{className:"text-gray-600",children:"Click to upload new file"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Leave empty to keep current file"})]})}),e[42]=te,e[43]=j):j=e[43];let u;e[44]!==Ve?(u=t.jsx("input",{ref:Ge,type:"file",accept:".pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.jpg,.jpeg,.png",className:"hidden",onChange:Ve}),e[44]=Ve,e[45]=u):u=e[45];let _;e[46]!==s.file?(_=s.file&&t.jsx("p",{className:"text-sm text-red-500 mt-2",children:s.file}),e[46]=s.file,e[47]=_):_=e[47];let y;e[48]!==j||e[49]!==u||e[50]!==_?(y=t.jsxs(W,{children:[he,t.jsxs(X,{children:[j,u,_]})]}),e[48]=j,e[49]=u,e[50]=_,e[51]=y):y=e[51];let pe;e[52]===Symbol.for("react.memo_cache_sentinel")?(pe=t.jsx(Y,{children:t.jsx(Z,{children:"Document Details"})}),e[52]=pe):pe=e[52];let je;e[53]===Symbol.for("react.memo_cache_sentinel")?(je=t.jsx(ee,{htmlFor:"title",children:"Title *"}),e[53]=je):je=e[53];let v;e[54]!==i?(v=r=>i("title",r.target.value),e[54]=i,e[55]=v):v=e[55];let g;e[56]!==a.title||e[57]!==v?(g=t.jsx(qe,{id:"title",value:a.title,onChange:v,placeholder:"e.g., Admission Form 2024-25",required:!0}),e[56]=a.title,e[57]=v,e[58]=g):g=e[58];let N;e[59]!==s.title?(N=s.title&&t.jsx("p",{className:"text-sm text-red-500",children:s.title}),e[59]=s.title,e[60]=N):N=e[60];let b;e[61]!==g||e[62]!==N?(b=t.jsxs("div",{className:"space-y-2",children:[je,g,N]}),e[61]=g,e[62]=N,e[63]=b):b=e[63];let ue;e[64]===Symbol.for("react.memo_cache_sentinel")?(ue=t.jsx(ee,{htmlFor:"description",children:"Description"}),e[64]=ue):ue=e[64];let S;e[65]!==i?(S=r=>i("description",r.target.value),e[65]=i,e[66]=S):S=e[66];let C;e[67]!==a.description||e[68]!==S?(C=t.jsx(et,{id:"description",value:a.description,onChange:S,placeholder:"Brief description of the document...",rows:3}),e[67]=a.description,e[68]=S,e[69]=C):C=e[69];let w;e[70]!==s.description?(w=s.description&&t.jsx("p",{className:"text-sm text-red-500",children:s.description}),e[70]=s.description,e[71]=w):w=e[71];let F;e[72]!==C||e[73]!==w?(F=t.jsxs("div",{className:"space-y-2",children:[ue,C,w]}),e[72]=C,e[73]=w,e[74]=F):F=e[74];let _e;e[75]===Symbol.for("react.memo_cache_sentinel")?(_e=t.jsx(ee,{htmlFor:"category",children:"Category *"}),e[75]=_e):_e=e[75];let D;e[76]!==i?(D=r=>i("category",r),e[76]=i,e[77]=D):D=e[77];let ye;e[78]===Symbol.for("react.memo_cache_sentinel")?(ye=t.jsx(st,{children:t.jsx(it,{placeholder:"Select category"})}),e[78]=ye):ye=e[78];let k;e[79]!==Ee?(k=t.jsx(tt,{children:Object.entries(Ee).map(ft)}),e[79]=Ee,e[80]=k):k=e[80];let B;e[81]!==a.category||e[82]!==D||e[83]!==k?(B=t.jsxs(lt,{value:a.category,onValueChange:D,children:[ye,k]}),e[81]=a.category,e[82]=D,e[83]=k,e[84]=B):B=e[84];let E;e[85]!==s.category?(E=s.category&&t.jsx("p",{className:"text-sm text-red-500",children:s.category}),e[85]=s.category,e[86]=E):E=e[86];let L;e[87]!==B||e[88]!==E?(L=t.jsxs("div",{className:"space-y-2",children:[_e,B,E]}),e[87]=B,e[88]=E,e[89]=L):L=e[89];let T;e[90]!==b||e[91]!==F||e[92]!==L?(T=t.jsxs(W,{children:[pe,t.jsxs(X,{className:"space-y-4",children:[b,F,L]})]}),e[90]=b,e[91]=F,e[92]=L,e[93]=T):T=e[93];let ve;e[94]===Symbol.for("react.memo_cache_sentinel")?(ve=t.jsx(Y,{children:t.jsx(Z,{children:"Validity Period (Optional)"})}),e[94]=ve):ve=e[94];let ge;e[95]===Symbol.for("react.memo_cache_sentinel")?(ge=t.jsx(ee,{htmlFor:"valid_from",children:"Valid From"}),e[95]=ge):ge=e[95];let $;e[96]!==i?($=r=>i("valid_from",r.target.value),e[96]=i,e[97]=$):$=e[97];let z;e[98]!==a.valid_from||e[99]!==$?(z=t.jsx(qe,{id:"valid_from",type:"date",value:a.valid_from,onChange:$}),e[98]=a.valid_from,e[99]=$,e[100]=z):z=e[100];let A;e[101]!==s.valid_from?(A=s.valid_from&&t.jsx("p",{className:"text-sm text-red-500",children:s.valid_from}),e[101]=s.valid_from,e[102]=A):A=e[102];let U;e[103]!==z||e[104]!==A?(U=t.jsxs("div",{className:"space-y-2",children:[ge,z,A]}),e[103]=z,e[104]=A,e[105]=U):U=e[105];let Ne;e[106]===Symbol.for("react.memo_cache_sentinel")?(Ne=t.jsx(ee,{htmlFor:"valid_until",children:"Valid Until"}),e[106]=Ne):Ne=e[106];let R;e[107]!==i?(R=r=>i("valid_until",r.target.value),e[107]=i,e[108]=R):R=e[108];let V;e[109]!==a.valid_until||e[110]!==R?(V=t.jsx(qe,{id:"valid_until",type:"date",value:a.valid_until,onChange:R}),e[109]=a.valid_until,e[110]=R,e[111]=V):V=e[111];let I;e[112]!==s.valid_until?(I=s.valid_until&&t.jsx("p",{className:"text-sm text-red-500",children:s.valid_until}),e[112]=s.valid_until,e[113]=I):I=e[113];let H;e[114]!==V||e[115]!==I?(H=t.jsxs("div",{className:"space-y-2",children:[Ne,V,I]}),e[114]=V,e[115]=I,e[116]=H):H=e[116];let O;e[117]!==U||e[118]!==H?(O=t.jsxs(W,{children:[ve,t.jsx(X,{children:t.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[U,H]})})]}),e[117]=U,e[118]=H,e[119]=O):O=e[119];let P;e[120]!==p||e[121]!==y||e[122]!==T||e[123]!==O?(P=t.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[p,y,T,O]}),e[120]=p,e[121]=y,e[122]=T,e[123]=O,e[124]=P):P=e[124];let be;e[125]===Symbol.for("react.memo_cache_sentinel")?(be=t.jsx(Y,{children:t.jsx(Z,{children:"Status"})}),e[125]=be):be=e[125];let Se;e[126]===Symbol.for("react.memo_cache_sentinel")?(Se=t.jsxs("div",{children:[t.jsx(ee,{children:"Active"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Show on website"})]}),e[126]=Se):Se=e[126];let q;e[127]!==i?(q=r=>i("is_active",r),e[127]=i,e[128]=q):q=e[128];let G;e[129]!==a.is_active||e[130]!==q?(G=t.jsxs(W,{children:[be,t.jsx(X,{className:"space-y-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[Se,t.jsx(rt,{checked:a.is_active,onCheckedChange:q})]})})]}),e[129]=a.is_active,e[130]=q,e[131]=G):G=e[131];let Ce;e[132]===Symbol.for("react.memo_cache_sentinel")?(Ce=t.jsx(Y,{children:t.jsx(Z,{children:"Statistics"})}),e[132]=Ce):Ce=e[132];let we;e[133]===Symbol.for("react.memo_cache_sentinel")?(we=t.jsx("span",{className:"text-gray-500",children:"Downloads"}),e[133]=we):we=e[133];let K;e[134]!==l.download_count?(K=t.jsxs(W,{children:[Ce,t.jsx(X,{className:"space-y-2 text-sm",children:t.jsxs("div",{className:"flex justify-between",children:[we,t.jsx("span",{className:"font-medium",children:l.download_count})]})})]}),e[134]=l.download_count,e[135]=K):K=e[135];let Fe;e[136]===Symbol.for("react.memo_cache_sentinel")?(Fe=t.jsx(Be,{type:"button",variant:"outline",className:"flex-1",asChild:!0,children:t.jsx(Me,{href:"/admin/documents",children:"Cancel"})}),e[136]=Fe):Fe=e[136];let De;e[137]===Symbol.for("react.memo_cache_sentinel")?(De=t.jsx(mt,{className:"h-4 w-4 mr-2"}),e[137]=De):De=e[137];const Oe=re?"Saving...":"Save";let M;e[138]!==re||e[139]!==Oe?(M=t.jsxs("div",{className:"flex gap-2",children:[Fe,t.jsxs(Be,{type:"submit",className:"flex-1",disabled:re,children:[De,Oe]})]}),e[138]=re,e[139]=Oe,e[140]=M):M=e[140];let J;e[141]!==G||e[142]!==K||e[143]!==M?(J=t.jsxs("div",{className:"space-y-6",children:[G,K,M]}),e[141]=G,e[142]=K,e[143]=M,e[144]=J):J=e[144];let Q;e[145]!==Re||e[146]!==P||e[147]!==J?(Q=t.jsxs("div",{className:"space-y-6 p-6",children:[ne,t.jsxs("form",{onSubmit:Re,className:"grid lg:grid-cols-3 gap-6",children:[P,J]})]}),e[145]=Re,e[146]=P,e[147]=J,e[148]=Q):Q=e[148];let ke;return e[149]!==Te||e[150]!==o||e[151]!==Q?(ke=t.jsxs(Ze,{breadcrumbs:Te,children:[o,Q]}),e[149]=Te,e[150]=o,e[151]=Q,e[152]=ke):ke=e[152],ke}function ft(c){const[e,l]=c;return t.jsx(at,{value:e,children:l},e)}export{ll as default};
