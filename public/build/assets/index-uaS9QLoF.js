import{c as q,r as C,j as t,L as P,a as D}from"./app-lLew-mq0.js";import{P as J}from"./public-layout-BG9J30RD.js";import{B as H}from"./button-DTZ67Z4b.js";import{c as K,d as O}from"./card-DWcOyhKP.js";import{B as S}from"./badge-CUnar9Fe.js";import{I as Q}from"./input-C9VfnsW_.js";import{c as L,d as F,S as T,a as s,b as E}from"./select-QGsFE1Nt.js";import{B as A}from"./bell-TX0ASiJE.js";import{I as W}from"./info-TCONk5OV.js";import{M as X}from"./megaphone-BG2hP5oS.js";import{T as R}from"./triangle-alert-DKXBBTIL.js";import{E as Y}from"./external-link-1EEMm3Qs.js";import{P as Z}from"./paperclip--ToHxv-H.js";import{a as ee,C as B}from"./x-CV1yhBJZ.js";import{S as te}from"./search-D9utk87M.js";import{F as re}from"./filter-DIBLFJE5.js";/* empty css            */import"./sun-BER_QyYM.js";import"./chevron-up-Bv-H0xE7.js";import"./phone-7sWFZgza.js";import"./mail-DnEJGpcS.js";import"./map-pin-DrOctKDV.js";import"./index-BzAksq8r.js";import"./index-CMRMG5Mo.js";import"./index-B9jue-Th.js";import"./index-CbiHmYlh.js";import"./Combination-BEW_kzWa.js";import"./index-BOY9t191.js";import"./index-CZQ422QV.js";import"./index-C7YjzNVQ.js";import"./index-DI1PiJH0.js";import"./index-t_bT_gQV.js";import"./check-DGLhpy4l.js";const ae={AlertTriangle:R,Bell:A,Megaphone:X,Info:W},se={low:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",medium:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300",high:"bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-300",critical:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300"},M={general:"bg-slate-100 text-slate-800 dark:bg-slate-800 dark:text-slate-300",important:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300",urgent:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300",event:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300",holiday:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",admission:"bg-teal-100 text-teal-800 dark:bg-teal-900 dark:text-teal-300",exam:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-300",result:"bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-300",academic:"bg-cyan-100 text-cyan-800 dark:bg-cyan-900 dark:text-cyan-300",other:"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300"},le={low:"border-l-4 border-l-green-500 hover:bg-green-50/50 dark:hover:bg-green-950/20",medium:"border-l-4 border-l-blue-500 hover:bg-blue-50/50 dark:hover:bg-blue-950/20",high:"border-l-4 border-l-amber-500 bg-amber-50/30 hover:bg-amber-50 dark:bg-amber-950/10 dark:hover:bg-amber-950/20",critical:"border-l-4 border-l-red-500 bg-red-50/30 hover:bg-red-50 dark:bg-red-950/10 dark:hover:bg-red-950/20"};function Ue(a){const e=q.c(32),{announcements:l}=a,[n,V]=C.useState(""),[i,$]=C.useState("all"),[c,U]=C.useState("all"),I=ce,z=ie;let p;e[0]!==c||e[1]!==n||e[2]!==i?(p=r=>{r.preventDefault(),D.get("/announcements",{search:n,type:i,priority:c},{preserveState:!0})},e[0]=c,e[1]=n,e[2]=i,e[3]=p):p=e[3];const _=p;let b;e[4]===Symbol.for("react.memo_cache_sentinel")?(b=t.jsx("section",{className:"bg-gradient-to-r from-amber-600 to-orange-600 text-white py-16",children:t.jsx("div",{className:"container mx-auto px-4",children:t.jsxs("div",{className:"max-w-3xl",children:[t.jsxs("nav",{className:"flex items-center text-sm text-amber-100 mb-4",children:[t.jsx(P,{href:"/",className:"hover:text-white",children:"Home"}),t.jsx(B,{className:"h-4 w-4 mx-2"}),t.jsx("span",{className:"text-white",children:"Announcements"})]}),t.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Announcements & Notices"}),t.jsx("p",{className:"text-xl text-amber-100",children:"Stay updated with important announcements, notices, and updates from Army Public School Alwar."})]})})}),e[4]=b):b=e[4];let u;e[5]===Symbol.for("react.memo_cache_sentinel")?(u=t.jsx(te,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),e[5]=u):u=e[5];let f;e[6]===Symbol.for("react.memo_cache_sentinel")?(f=r=>V(r.target.value),e[6]=f):f=e[6];let o;e[7]!==n?(o=t.jsxs("div",{className:"flex-1 relative",children:[u,t.jsx(Q,{type:"text",placeholder:"Search announcements...",value:n,onChange:f,className:"pl-10"})]}),e[7]=n,e[8]=o):o=e[8];let j;e[9]===Symbol.for("react.memo_cache_sentinel")?(j=t.jsxs(L,{className:"w-[150px]",children:[t.jsx(re,{className:"h-4 w-4 mr-2"}),t.jsx(F,{placeholder:"Type"})]}),e[9]=j):j=e[9];let y;e[10]===Symbol.for("react.memo_cache_sentinel")?(y=t.jsxs(T,{children:[t.jsx(s,{value:"all",children:"All Types"}),t.jsx(s,{value:"general",children:"General"}),t.jsx(s,{value:"important",children:"Important"}),t.jsx(s,{value:"urgent",children:"Urgent"}),t.jsx(s,{value:"event",children:"Event"}),t.jsx(s,{value:"holiday",children:"Holiday"}),t.jsx(s,{value:"admission",children:"Admission"}),t.jsx(s,{value:"exam",children:"Exam"}),t.jsx(s,{value:"result",children:"Result"})]}),e[10]=y):y=e[10];let m;e[11]!==i?(m=t.jsxs(E,{value:i,onValueChange:$,children:[j,y]}),e[11]=i,e[12]=m):m=e[12];let v;e[13]===Symbol.for("react.memo_cache_sentinel")?(v=t.jsx(L,{className:"w-[150px]",children:t.jsx(F,{placeholder:"Priority"})}),e[13]=v):v=e[13];let N;e[14]===Symbol.for("react.memo_cache_sentinel")?(N=t.jsxs(T,{children:[t.jsx(s,{value:"all",children:"All Priorities"}),t.jsx(s,{value:"critical",children:"Critical"}),t.jsx(s,{value:"high",children:"High"}),t.jsx(s,{value:"medium",children:"Medium"}),t.jsx(s,{value:"low",children:"Low"})]}),e[14]=N):N=e[14];let d;e[15]!==c?(d=t.jsxs(E,{value:c,onValueChange:U,children:[v,N]}),e[15]=c,e[16]=d):d=e[16];let k;e[17]===Symbol.for("react.memo_cache_sentinel")?(k=t.jsx(H,{type:"submit",className:"bg-amber-600 hover:bg-amber-700",children:"Search"}),e[17]=k):k=e[17];let x;e[18]!==d||e[19]!==m?(x=t.jsxs("div",{className:"flex gap-4",children:[m,d,k]}),e[18]=d,e[19]=m,e[20]=x):x=e[20];let h;e[21]!==_||e[22]!==x||e[23]!==o?(h=t.jsx("section",{className:"bg-gray-50 dark:bg-gray-900 py-6 border-b",children:t.jsx("div",{className:"container mx-auto px-4",children:t.jsxs("form",{onSubmit:_,className:"flex flex-col md:flex-row gap-4",children:[o,x]})})}),e[21]=_,e[22]=x,e[23]=o,e[24]=h):h=e[24];let g;e[25]!==l.data||e[26]!==l.last_page||e[27]!==l.links?(g=t.jsx("section",{className:"py-12",children:t.jsx("div",{className:"container mx-auto px-4",children:l.data.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx(A,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),t.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"No Announcements Found"}),t.jsx("p",{className:"text-gray-500",children:"Check back later for updates."})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"grid gap-4",children:l.data.map(r=>{const G=ae[r.priority_icon]||A;return t.jsx(P,{href:`/announcements/${r.slug}`,className:"block",children:t.jsxs(K,{className:`transition-all duration-200 ${le[r.priority]}`,children:[r.priority==="critical"&&t.jsxs("div",{className:"bg-red-600 text-white px-4 py-1 text-sm flex items-center gap-2",children:[t.jsx(R,{className:"h-4 w-4 animate-pulse"}),t.jsx("span",{className:"font-medium",children:"Critical Announcement"})]}),t.jsx(O,{className:"p-6",children:t.jsxs("div",{className:"flex flex-col md:flex-row md:items-start gap-4",children:[t.jsx("div",{className:`hidden md:flex h-12 w-12 items-center justify-center rounded-lg shrink-0 ${r.priority==="critical"?"bg-red-100 text-red-600":r.priority==="high"?"bg-amber-100 text-amber-600":r.priority==="medium"?"bg-blue-100 text-blue-600":"bg-green-100 text-green-600"}`,children:t.jsx(G,{className:"h-6 w-6"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[t.jsx(S,{className:M[r.type]||M.other,children:r.type.charAt(0).toUpperCase()+r.type.slice(1)}),t.jsx(S,{className:se[r.priority],children:r.priority.charAt(0).toUpperCase()+r.priority.slice(1)}),r.link&&t.jsxs(S,{variant:"outline",className:"text-blue-600",children:[t.jsx(Y,{className:"h-3 w-3 mr-1"}),"Link"]}),r.attachment&&t.jsxs(S,{variant:"outline",className:"text-green-600",children:[t.jsx(Z,{className:"h-3 w-3 mr-1"}),"Attachment"]})]}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:r.title}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-3",children:z(r.content)}),t.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[t.jsx(ee,{className:"h-4 w-4 mr-1"}),I(r.created_at),r.end_date&&t.jsxs("span",{className:"ml-4",children:["Valid till: ",I(r.end_date)]})]})]}),t.jsx(B,{className:"hidden md:block h-6 w-6 text-gray-400 shrink-0"})]})})]})},r.id)})}),l.last_page>1&&t.jsx("div",{className:"flex justify-center gap-2 mt-8",children:l.links.map(ne)})]})})}),e[25]=l.data,e[26]=l.last_page,e[27]=l.links,e[28]=g):g=e[28];let w;return e[29]!==h||e[30]!==g?(w=t.jsxs(J,{title:"Announcements & Notices - Army Public School Alwar",children:[b,h,g]}),e[29]=h,e[30]=g,e[31]=w):w=e[31],w}function ne(a,e){return t.jsx(H,{variant:a.active?"default":"outline",size:"sm",disabled:!a.url,onClick:()=>a.url&&D.get(a.url),className:a.active?"bg-amber-600 hover:bg-amber-700":"",dangerouslySetInnerHTML:{__html:a.label}},e)}function ie(a,e){const l=e===void 0?150:e;return a.length<=l?a:a.slice(0,l).trim()+"..."}function ce(a){return new Date(a).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})}export{Ue as default};
