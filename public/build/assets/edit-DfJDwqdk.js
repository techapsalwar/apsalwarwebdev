import{c as kt,u as It,r as je,j as t,a as _t,H as Tt,L as Lt}from"./app-lLew-mq0.js";import{A as Ot}from"./app-layout-KzQEyLiQ.js";import{B as ve}from"./button-DTZ67Z4b.js";import{I as T}from"./input-C9VfnsW_.js";import{L as x}from"./label-BTNSqOD-.js";import{T as $t}from"./textarea-Bf0Ya8pK.js";import{S as Et}from"./switch-CGXN52OW.js";import{a as it,d as lt,C as at,b as At,c as nt}from"./card-DWcOyhKP.js";import{c as Bt,d as Ht,S as Vt,b as qt,a as Xt}from"./select-QGsFE1Nt.js";import{d as Gt,c as Jt,e as Kt,g as Qt,f as Wt,h as Yt,b as Zt,A as es}from"./alert-dialog-fuDA2Sgs.js";import{a as Mt,b as zt,A as Ft}from"./avatar-DYrdvPax.js";import{U as ts}from"./user-Bo55nJGb.js";import{A as ss}from"./arrow-left-Bw3DDjFc.js";import{S as Ut}from"./save-D77rFDZ-.js";import{P as is}from"./plus-e9gYXact.js";import{U as ls}from"./upload-BrYG0zcL.js";import{T as as}from"./trash-2-BgucR-O9.js";import{X as ns}from"./x-CV1yhBJZ.js";/* empty css            */import"./index-BiNrCjIr.js";import"./index-CMRMG5Mo.js";import"./index-B9jue-Th.js";import"./index-CZQ422QV.js";import"./Combination-BEW_kzWa.js";import"./index-BzAksq8r.js";import"./index-BOY9t191.js";import"./index-CxACbU5U.js";import"./index-C7YjzNVQ.js";import"./index-DI1PiJH0.js";import"./index-CbiHmYlh.js";import"./index-DTTikWjI.js";import"./index-DHA2i0B2.js";import"./image-CHvhAmHJ.js";import"./link-D-JBfegL.js";import"./quote-DLUiA_F1.js";import"./newspaper-D3mdqZcT.js";import"./megaphone-BG2hP5oS.js";import"./indian-rupee-Bj1qYK0P.js";import"./file-check-UDYRRxCK.js";import"./folder-l-97kfum.js";import"./handshake-V1wEucA7.js";import"./school-BjNRgEiN.js";import"./index-t_bT_gQV.js";import"./chevron-up-Bv-H0xE7.js";import"./check-DGLhpy4l.js";import"./index-BTFUtR64.js";function Pt(Q){return Q?Q.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2):"M"}function si(Q){const e=kt.c(197),{committee:s,types:a}=Q;let W,Y;e[0]===Symbol.for("react.memo_cache_sentinel")?(W={title:"Dashboard",href:"/dashboard"},Y={title:"Committees",href:"/admin/committees"},e[0]=W,e[1]=Y):(W=e[0],Y=e[1]);const he=`/admin/committees/${s.id}/edit`;let F;e[2]!==s.name||e[3]!==he?(F=[W,Y,{title:s.name,href:he}],e[2]=s.name,e[3]=he,e[4]=F):F=e[4];const L=F,B=s.description||"",P=s.session||"";let C;e[5]!==s.functions?(C=s.functions?.join(`
`)||"",e[5]=s.functions,e[6]=C):C=e[6];let w;e[7]!==s.is_active||e[8]!==s.name||e[9]!==s.order||e[10]!==s.type||e[11]!==B||e[12]!==P||e[13]!==C?(w={name:s.name,type:s.type,description:B,session:P,functions:C,image:null,is_active:s.is_active,order:s.order},e[7]=s.is_active,e[8]=s.name,e[9]=s.order,e[10]=s.type,e[11]=B,e[12]=P,e[13]=C,e[14]=w):w=e[14];const{data:l,setData:n,processing:k,errors:f}=It(w),[r,D]=je.useState(s.members);let A;e[15]===Symbol.for("react.memo_cache_sentinel")?(A=[],e[15]=A):A=e[15];const[m,g]=je.useState(A),[O,$]=je.useState(s.image?`/storage/${s.image}`:null),[p,Z]=je.useState(null),[j,v]=je.useState(!1),ee=je.useRef(null);let E;e[16]!==s.id||e[17]!==l.description||e[18]!==l.functions||e[19]!==l.image||e[20]!==l.is_active||e[21]!==l.name||e[22]!==l.order||e[23]!==l.session||e[24]!==l.type?(E=i=>{i.preventDefault();const o=new FormData;o.append("_method","PUT"),o.append("name",l.name),o.append("type",l.type),o.append("description",l.description),o.append("session",l.session),o.append("functions",l.functions),o.append("is_active",l.is_active?"1":"0"),o.append("order",l.order.toString()),l.image&&o.append("image",l.image),_t.post(`/admin/committees/${s.id}`,o,{forceFormData:!0})},e[16]=s.id,e[17]=l.description,e[18]=l.functions,e[19]=l.image,e[20]=l.is_active,e[21]=l.name,e[22]=l.order,e[23]=l.session,e[24]=l.type,e[25]=E):E=e[25];const b=E;let M;e[26]!==n?(M=i=>{const o=i.target.files?.[0];if(o){n("image",o);const d=new FileReader;d.onloadend=()=>{$(d.result)},d.readAsDataURL(o)}},e[26]=n,e[27]=M):M=e[27];const U=M;let R;e[28]!==m?(R=()=>{g([...m,{id:Math.random().toString(36).slice(2),name:"",designation:"",role:"",email:"",phone:"",organization:"",bio:"",photo:null,photoPreview:null,isNew:!0}])},e[28]=m,e[29]=R):R=e[29];const N=R;let u;e[30]!==m?(u=i=>{g(m.filter(o=>o.id!==i))},e[30]=m,e[31]=u):u=e[31];const I=u;let H;e[32]!==m?(H=(i,o,d)=>{g(m.map(Ne=>{if(Ne.id!==i)return Ne;if(o==="photo"&&d instanceof File){const wt=new FileReader;return wt.onloadend=()=>{g(Rt=>Rt.map(Dt=>Dt.id===i?{...Dt,photo:d,photoPreview:wt.result}:Dt))},wt.readAsDataURL(d),{...Ne,photo:d}}return{...Ne,[o]:d}}))},e[32]=m,e[33]=H):H=e[33];const y=H;let z;e[34]!==s.id||e[35]!==r.length||e[36]!==I?(z=i=>{if(!i.name||!i.designation)return;const o=new FormData;o.append("name",i.name),o.append("designation",i.designation),o.append("role",i.role),o.append("email",i.email),o.append("phone",i.phone),o.append("organization",i.organization),o.append("bio",i.bio),o.append("order",r.length.toString()),i.photo&&o.append("photo",i.photo),_t.post(`/admin/committees/${s.id}/members`,o,{forceFormData:!0,preserveScroll:!0,onSuccess:()=>{I(i.id)}})},e[34]=s.id,e[35]=r.length,e[36]=I,e[37]=z):z=e[37];const h=z;let te;e[38]!==r?(te=(i,o,d)=>{D(r.map(Ne=>Ne.id===i?{...Ne,[o]:d}:Ne))},e[38]=r,e[39]=te):te=e[39];const fe=te;let se;e[40]!==s.id?(se=(i,o)=>{const d=new FormData;d.append("_method","PUT"),d.append("name",i.name),d.append("designation",i.designation),d.append("role",i.role||""),d.append("email",i.email||""),d.append("phone",i.phone||""),d.append("organization",i.organization||""),d.append("bio",i.bio||""),d.append("is_active",i.is_active?"1":"0"),o&&d.append("photo",o),_t.post(`/admin/committees/${s.id}/members/${i.id}`,d,{forceFormData:!0,preserveScroll:!0})},e[40]=s.id,e[41]=se):se=e[41];const pe=se;let ie;e[42]===Symbol.for("react.memo_cache_sentinel")?(ie=i=>{Z(i),v(!0)},e[42]=ie):ie=e[42];const st=ie;let le;e[43]!==s.id||e[44]!==r||e[45]!==p?(le=()=>{p&&_t.delete(`/admin/committees/${s.id}/members/${p.id}`,{preserveScroll:!0,onSuccess:()=>{D(r.filter(i=>i.id!==p.id)),v(!1),Z(null)}})},e[43]=s.id,e[44]=r,e[45]=p,e[46]=le):le=e[46];const xe=le,ye=`Edit ${s.name} - APS Alwar Admin`;let V;e[47]!==ye?(V=t.jsx(Tt,{title:ye}),e[47]=ye,e[48]=V):V=e[48];let ae,ge;e[49]===Symbol.for("react.memo_cache_sentinel")?(ae=t.jsx(ve,{variant:"ghost",size:"icon",asChild:!0,children:t.jsx(Lt,{href:"/admin/committees",children:t.jsx(ss,{className:"h-4 w-4"})})}),ge=t.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Edit Committee"}),e[49]=ae,e[50]=ge):(ae=e[49],ge=e[50]);let q;e[51]!==s.name?(q=t.jsxs("div",{className:"flex items-center gap-4",children:[ae,t.jsxs("div",{children:[ge,t.jsxs("p",{className:"text-muted-foreground",children:["Update ",s.name," details and members."]})]})]}),e[51]=s.name,e[52]=q):q=e[52];let ne;e[53]===Symbol.for("react.memo_cache_sentinel")?(ne=t.jsxs(at,{children:[t.jsx(it,{children:"Committee Details"}),t.jsx(At,{children:"Basic information about the committee."})]}),e[53]=ne):ne=e[53];let ue;e[54]===Symbol.for("react.memo_cache_sentinel")?(ue=t.jsx(x,{htmlFor:"name",children:"Committee Name *"}),e[54]=ue):ue=e[54];let c;e[55]!==n?(c=i=>n("name",i.target.value),e[55]=n,e[56]=c):c=e[56];let _;e[57]!==l.name||e[58]!==c?(_=t.jsx(T,{id:"name",value:l.name,onChange:c,placeholder:"e.g., School Management Committee",required:!0}),e[57]=l.name,e[58]=c,e[59]=_):_=e[59];let S;e[60]!==f.name?(S=f.name&&t.jsx("p",{className:"text-sm text-destructive",children:f.name}),e[60]=f.name,e[61]=S):S=e[61];let X;e[62]!==_||e[63]!==S?(X=t.jsxs("div",{className:"space-y-2",children:[ue,_,S]}),e[62]=_,e[63]=S,e[64]=X):X=e[64];let oe;e[65]===Symbol.for("react.memo_cache_sentinel")?(oe=t.jsx(x,{htmlFor:"type",children:"Type *"}),e[65]=oe):oe=e[65];const be=l.type;let G;e[66]!==n?(G=i=>n("type",i),e[66]=n,e[67]=G):G=e[67];let re;e[68]===Symbol.for("react.memo_cache_sentinel")?(re=t.jsx(Bt,{children:t.jsx(Ht,{placeholder:"Select type"})}),e[68]=re):re=e[68];let J;e[69]!==a?(J=a.map(os),e[69]=a,e[70]=J):J=e[70];let ce;e[71]!==J?(ce=t.jsx(Vt,{children:J}),e[71]=J,e[72]=ce):ce=e[72];let me;e[73]!==l.type||e[74]!==G||e[75]!==ce?(me=t.jsxs(qt,{value:be,onValueChange:G,children:[re,ce]}),e[73]=l.type,e[74]=G,e[75]=ce,e[76]=me):me=e[76];let K;e[77]!==f.type?(K=f.type&&t.jsx("p",{className:"text-sm text-destructive",children:f.type}),e[77]=f.type,e[78]=K):K=e[78];let de;e[79]!==me||e[80]!==K?(de=t.jsxs("div",{className:"space-y-2",children:[oe,me,K]}),e[79]=me,e[80]=K,e[81]=de):de=e[81];let _e;e[82]!==X||e[83]!==de?(_e=t.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[X,de]}),e[82]=X,e[83]=de,e[84]=_e):_e=e[84];let ot;e[85]===Symbol.for("react.memo_cache_sentinel")?(ot=t.jsx(x,{htmlFor:"session",children:"Session"}),e[85]=ot):ot=e[85];let Se;e[86]!==n?(Se=i=>n("session",i.target.value),e[86]=n,e[87]=Se):Se=e[87];let Ce;e[88]!==l.session||e[89]!==Se?(Ce=t.jsxs("div",{className:"space-y-2",children:[ot,t.jsx(T,{id:"session",value:l.session,onChange:Se,placeholder:"e.g., 2024-25"})]}),e[88]=l.session,e[89]=Se,e[90]=Ce):Ce=e[90];let rt;e[91]===Symbol.for("react.memo_cache_sentinel")?(rt=t.jsx(x,{htmlFor:"description",children:"Description"}),e[91]=rt):rt=e[91];let we;e[92]!==n?(we=i=>n("description",i.target.value),e[92]=n,e[93]=we):we=e[93];let De;e[94]!==l.description||e[95]!==we?(De=t.jsxs("div",{className:"space-y-2",children:[rt,t.jsx($t,{id:"description",value:l.description,onChange:we,placeholder:"Brief description of the committee's purpose...",rows:3})]}),e[94]=l.description,e[95]=we,e[96]=De):De=e[96];let ct;e[97]===Symbol.for("react.memo_cache_sentinel")?(ct=t.jsx(x,{htmlFor:"functions",children:"Functions (one per line)"}),e[97]=ct):ct=e[97];let Ae;e[98]!==n?(Ae=i=>n("functions",i.target.value),e[98]=n,e[99]=Ae):Ae=e[99];let Me;e[100]!==l.functions||e[101]!==Ae?(Me=t.jsxs("div",{className:"space-y-2",children:[ct,t.jsx($t,{id:"functions",value:l.functions,onChange:Ae,placeholder:"Enter each function on a new line...",rows:4})]}),e[100]=l.functions,e[101]=Ae,e[102]=Me):Me=e[102];let mt;e[103]===Symbol.for("react.memo_cache_sentinel")?(mt=t.jsx(Ut,{className:"mr-2 h-4 w-4"}),e[103]=mt):mt=e[103];const St=k?"Saving...":"Save Committee Details";let ze;e[104]!==k||e[105]!==St?(ze=t.jsxs(ve,{type:"submit",className:"bg-amber-600 hover:bg-amber-700",disabled:k,children:[mt,St]}),e[104]=k,e[105]=St,e[106]=ze):ze=e[106];let Fe;e[107]!==_e||e[108]!==Ce||e[109]!==De||e[110]!==Me||e[111]!==ze?(Fe=t.jsxs(nt,{children:[ne,t.jsxs(lt,{className:"space-y-4",children:[_e,Ce,De,Me,ze]})]}),e[107]=_e,e[108]=Ce,e[109]=De,e[110]=Me,e[111]=ze,e[112]=Fe):Fe=e[112];let Pe;e[113]!==b||e[114]!==Fe?(Pe=t.jsx("form",{onSubmit:b,children:Fe}),e[113]=b,e[114]=Fe,e[115]=Pe):Pe=e[115];let ke;e[116]!==r.length?(ke=t.jsxs(it,{children:["Current Members (",r.length,")"]}),e[116]=r.length,e[117]=ke):ke=e[117];let dt;e[118]===Symbol.for("react.memo_cache_sentinel")?(dt=t.jsx(At,{children:"Manage existing committee members."}),e[118]=dt):dt=e[118];let $e;e[119]!==ke?($e=t.jsx(at,{children:t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{children:[ke,dt]})})}),e[119]=ke,e[120]=$e):$e=e[120];let Ee;e[121]!==s.id||e[122]!==r||e[123]!==pe||e[124]!==fe?(Ee=t.jsx(lt,{children:r.length===0?t.jsxs("div",{className:"text-center py-8 text-muted-foreground border-2 border-dashed rounded-lg",children:[t.jsx(ts,{className:"h-10 w-10 mx-auto mb-3 opacity-50"}),t.jsx("p",{className:"font-medium",children:"No members yet"}),t.jsx("p",{className:"text-sm",children:"Add members below."})]}):t.jsx("div",{className:"space-y-4",children:r.map(i=>t.jsx(rs,{member:i,committeeId:s.id,onUpdate:fe,onSave:pe,onDelete:()=>st(i)},i.id))})}),e[121]=s.id,e[122]=r,e[123]=pe,e[124]=fe,e[125]=Ee):Ee=e[125];let Ue;e[126]!==$e||e[127]!==Ee?(Ue=t.jsxs(nt,{children:[$e,Ee]}),e[126]=$e,e[127]=Ee,e[128]=Ue):Ue=e[128];let ht;e[129]===Symbol.for("react.memo_cache_sentinel")?(ht=t.jsxs("div",{children:[t.jsx(it,{children:"Add New Members"}),t.jsx(At,{children:"Add new members to this committee."})]}),e[129]=ht):ht=e[129];let ft;e[130]===Symbol.for("react.memo_cache_sentinel")?(ft=t.jsx(is,{className:"mr-2 h-4 w-4"}),e[130]=ft):ft=e[130];let Re;e[131]!==N?(Re=t.jsx(at,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[ht,t.jsxs(ve,{type:"button",onClick:N,variant:"outline",size:"sm",children:[ft,"Add Member"]})]})}),e[131]=N,e[132]=Re):Re=e[132];let Ie;e[133]!==m||e[134]!==I||e[135]!==h||e[136]!==y?(Ie=t.jsx(lt,{children:m.length===0?t.jsx("div",{className:"text-center py-6 text-muted-foreground",children:t.jsx("p",{className:"text-sm",children:'Click "Add Member" to add new committee members.'})}):t.jsx("div",{className:"space-y-6",children:m.map(i=>t.jsx(cs,{member:i,onUpdate:y,onSave:()=>h(i),onRemove:()=>I(i.id)},i.id))})}),e[133]=m,e[134]=I,e[135]=h,e[136]=y,e[137]=Ie):Ie=e[137];let Te;e[138]!==Re||e[139]!==Ie?(Te=t.jsxs(nt,{children:[Re,Ie]}),e[138]=Re,e[139]=Ie,e[140]=Te):Te=e[140];let Le;e[141]!==Pe||e[142]!==Ue||e[143]!==Te?(Le=t.jsxs("div",{className:"space-y-6 lg:col-span-2",children:[Pe,Ue,Te]}),e[141]=Pe,e[142]=Ue,e[143]=Te,e[144]=Le):Le=e[144];let pt;e[145]===Symbol.for("react.memo_cache_sentinel")?(pt=t.jsx(at,{children:t.jsx(it,{children:"Status"})}),e[145]=pt):pt=e[145];let xt;e[146]===Symbol.for("react.memo_cache_sentinel")?(xt=t.jsx(x,{htmlFor:"is_active",children:"Active"}),e[146]=xt):xt=e[146];let Oe;e[147]!==n?(Oe=i=>n("is_active",i),e[147]=n,e[148]=Oe):Oe=e[148];let Be;e[149]!==l.is_active||e[150]!==Oe?(Be=t.jsxs("div",{className:"flex items-center justify-between",children:[xt,t.jsx(Et,{id:"is_active",checked:l.is_active,onCheckedChange:Oe})]}),e[149]=l.is_active,e[150]=Oe,e[151]=Be):Be=e[151];let gt;e[152]===Symbol.for("react.memo_cache_sentinel")?(gt=t.jsx("p",{className:"text-xs text-muted-foreground",children:"Inactive committees won't be visible on the website."}),e[152]=gt):gt=e[152];let ut;e[153]===Symbol.for("react.memo_cache_sentinel")?(ut=t.jsx(x,{htmlFor:"order",children:"Display Order"}),e[153]=ut):ut=e[153];let He;e[154]!==n?(He=i=>n("order",parseInt(i.target.value)||0),e[154]=n,e[155]=He):He=e[155];let Ve;e[156]!==l.order||e[157]!==He?(Ve=t.jsxs("div",{className:"space-y-2",children:[ut,t.jsx(T,{id:"order",type:"number",value:l.order,onChange:He,min:0})]}),e[156]=l.order,e[157]=He,e[158]=Ve):Ve=e[158];let qe;e[159]!==Be||e[160]!==Ve?(qe=t.jsxs(nt,{children:[pt,t.jsxs(lt,{className:"space-y-4",children:[Be,gt,Ve]})]}),e[159]=Be,e[160]=Ve,e[161]=qe):qe=e[161];let jt;e[162]===Symbol.for("react.memo_cache_sentinel")?(jt=t.jsx(at,{children:t.jsx(it,{children:"Committee Image"})}),e[162]=jt):jt=e[162];let vt;e[163]===Symbol.for("react.memo_cache_sentinel")?(vt=()=>ee.current?.click(),e[163]=vt):vt=e[163];let Xe;e[164]!==O?(Xe=O?t.jsx("img",{src:O,alt:"Preview",className:"max-h-40 mx-auto rounded-lg"}):t.jsxs(t.Fragment,{children:[t.jsx(ls,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Click to upload image"})]}),e[164]=O,e[165]=Xe):Xe=e[165];let Ge;e[166]!==U?(Ge=t.jsx("input",{ref:ee,type:"file",accept:"image/*",className:"hidden",onChange:U}),e[166]=U,e[167]=Ge):Ge=e[167];let Je;e[168]!==Xe||e[169]!==Ge?(Je=t.jsxs(nt,{children:[jt,t.jsx(lt,{children:t.jsxs("div",{className:"border-2 border-dashed rounded-lg p-6 text-center cursor-pointer hover:bg-muted/50 transition-colors",onClick:vt,children:[Xe,Ge]})})]}),e[168]=Xe,e[169]=Ge,e[170]=Je):Je=e[170];let Ke;e[171]!==qe||e[172]!==Je?(Ke=t.jsxs("div",{className:"space-y-6",children:[qe,Je]}),e[171]=qe,e[172]=Je,e[173]=Ke):Ke=e[173];let Qe;e[174]!==Le||e[175]!==Ke?(Qe=t.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[Le,Ke]}),e[174]=Le,e[175]=Ke,e[176]=Qe):Qe=e[176];let We;e[177]!==q||e[178]!==Qe?(We=t.jsxs("div",{className:"flex flex-col gap-6 p-6",children:[q,Qe]}),e[177]=q,e[178]=Qe,e[179]=We):We=e[179];let bt;e[180]===Symbol.for("react.memo_cache_sentinel")?(bt=t.jsx(Gt,{children:"Delete Member?"}),e[180]=bt):bt=e[180];const Ct=p?.name;let Ye;e[181]!==Ct?(Ye=t.jsxs(Jt,{children:[bt,t.jsxs(Kt,{children:['Are you sure you want to remove "',Ct,'" from this committee? This action cannot be undone.']})]}),e[181]=Ct,e[182]=Ye):Ye=e[182];let Nt;e[183]===Symbol.for("react.memo_cache_sentinel")?(Nt=t.jsx(Qt,{children:"Cancel"}),e[183]=Nt):Nt=e[183];let Ze;e[184]!==xe?(Ze=t.jsxs(Wt,{children:[Nt,t.jsx(Yt,{onClick:xe,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]}),e[184]=xe,e[185]=Ze):Ze=e[185];let et;e[186]!==Ye||e[187]!==Ze?(et=t.jsxs(Zt,{children:[Ye,Ze]}),e[186]=Ye,e[187]=Ze,e[188]=et):et=e[188];let tt;e[189]!==j||e[190]!==et?(tt=t.jsx(es,{open:j,onOpenChange:v,children:et}),e[189]=j,e[190]=et,e[191]=tt):tt=e[191];let yt;return e[192]!==L||e[193]!==V||e[194]!==We||e[195]!==tt?(yt=t.jsxs(Ot,{breadcrumbs:L,children:[V,We,tt]}),e[192]=L,e[193]=V,e[194]=We,e[195]=tt,e[196]=yt):yt=e[196],yt}function os(Q){return t.jsx(Xt,{value:Q.value,children:Q.label},Q.value)}function rs(Q){const e=kt.c(119),{member:s,onUpdate:a,onSave:W,onDelete:Y}=Q,[he,F]=je.useState(!1),[L,B]=je.useState(null),[P,C]=je.useState(null);let w;e[0]===Symbol.for("react.memo_cache_sentinel")?(w=c=>{const _=c.target.files?.[0];if(_){B(_);const S=new FileReader;S.onloadend=()=>C(S.result),S.readAsDataURL(_)}},e[0]=w):w=e[0];const l=w;let n;e[1]!==s||e[2]!==L||e[3]!==W?(n=()=>{W(s,L||void 0),F(!1),B(null),C(null)},e[1]=s,e[2]=L,e[3]=W,e[4]=n):n=e[4];const k=n;if(!he){const c=`flex items-center gap-4 p-4 border rounded-lg ${s.is_active?"":"opacity-50"}`;let _;e[5]!==s.photo?(_=s.photo&&t.jsx(Mt,{src:`/storage/${s.photo}`}),e[5]=s.photo,e[6]=_):_=e[6];let S;e[7]!==s.name?(S=Pt(s.name),e[7]=s.name,e[8]=S):S=e[8];let X;e[9]!==S?(X=t.jsx(zt,{className:"bg-amber-100 text-amber-700",children:S}),e[9]=S,e[10]=X):X=e[10];let oe;e[11]!==_||e[12]!==X?(oe=t.jsxs(Ft,{className:"h-12 w-12",children:[_,X]}),e[11]=_,e[12]=X,e[13]=oe):oe=e[13];let be;e[14]!==s.name?(be=t.jsx("p",{className:"font-medium",children:s.name}),e[14]=s.name,e[15]=be):be=e[15];let G;e[16]!==s.designation?(G=t.jsx("p",{className:"text-sm text-muted-foreground",children:s.designation}),e[16]=s.designation,e[17]=G):G=e[17];let re;e[18]!==s.organization?(re=s.organization&&t.jsx("p",{className:"text-xs text-muted-foreground",children:s.organization}),e[18]=s.organization,e[19]=re):re=e[19];let J;e[20]!==re||e[21]!==be||e[22]!==G?(J=t.jsxs("div",{className:"flex-1 min-w-0",children:[be,G,re]}),e[20]=re,e[21]=be,e[22]=G,e[23]=J):J=e[23];let ce;e[24]===Symbol.for("react.memo_cache_sentinel")?(ce=t.jsx(ve,{variant:"outline",size:"sm",onClick:()=>F(!0),children:"Edit"}),e[24]=ce):ce=e[24];let me;e[25]===Symbol.for("react.memo_cache_sentinel")?(me=t.jsx(as,{className:"h-4 w-4"}),e[25]=me):me=e[25];let K;e[26]!==Y?(K=t.jsxs("div",{className:"flex gap-2",children:[ce,t.jsx(ve,{variant:"outline",size:"sm",className:"text-destructive",onClick:Y,children:me})]}),e[26]=Y,e[27]=K):K=e[27];let de;return e[28]!==J||e[29]!==K||e[30]!==c||e[31]!==oe?(de=t.jsxs("div",{className:c,children:[oe,J,K]}),e[28]=J,e[29]=K,e[30]=c,e[31]=oe,e[32]=de):de=e[32],de}let f;e[33]!==s.photo||e[34]!==P?(f=(P||s.photo)&&t.jsx(Mt,{src:P||`/storage/${s.photo}`}),e[33]=s.photo,e[34]=P,e[35]=f):f=e[35];let r;e[36]!==s.name?(r=Pt(s.name),e[36]=s.name,e[37]=r):r=e[37];let D;e[38]!==r?(D=t.jsx(zt,{className:"bg-amber-100 text-amber-700",children:r}),e[38]=r,e[39]=D):D=e[39];let A;e[40]!==f||e[41]!==D?(A=t.jsxs(Ft,{className:"h-16 w-16",children:[f,D]}),e[40]=f,e[41]=D,e[42]=A):A=e[42];let m;e[43]===Symbol.for("react.memo_cache_sentinel")?(m=t.jsxs("label",{className:"cursor-pointer",children:[t.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:l}),t.jsx("span",{className:"text-xs text-primary hover:underline",children:"Change Photo"})]}),e[43]=m):m=e[43];let g;e[44]!==A?(g=t.jsxs("div",{className:"flex flex-col items-center gap-2",children:[A,m]}),e[44]=A,e[45]=g):g=e[45];let O;e[46]===Symbol.for("react.memo_cache_sentinel")?(O=t.jsx(x,{className:"text-xs",children:"Name *"}),e[46]=O):O=e[46];let $;e[47]!==s.id||e[48]!==a?($=c=>a(s.id,"name",c.target.value),e[47]=s.id,e[48]=a,e[49]=$):$=e[49];let p;e[50]!==s.name||e[51]!==$?(p=t.jsxs("div",{className:"space-y-1",children:[O,t.jsx(T,{value:s.name,onChange:$})]}),e[50]=s.name,e[51]=$,e[52]=p):p=e[52];let Z;e[53]===Symbol.for("react.memo_cache_sentinel")?(Z=t.jsx(x,{className:"text-xs",children:"Designation *"}),e[53]=Z):Z=e[53];let j;e[54]!==s.id||e[55]!==a?(j=c=>a(s.id,"designation",c.target.value),e[54]=s.id,e[55]=a,e[56]=j):j=e[56];let v;e[57]!==s.designation||e[58]!==j?(v=t.jsxs("div",{className:"space-y-1",children:[Z,t.jsx(T,{value:s.designation,onChange:j})]}),e[57]=s.designation,e[58]=j,e[59]=v):v=e[59];let ee;e[60]===Symbol.for("react.memo_cache_sentinel")?(ee=t.jsx(x,{className:"text-xs",children:"Role"}),e[60]=ee):ee=e[60];const E=s.role||"";let b;e[61]!==s.id||e[62]!==a?(b=c=>a(s.id,"role",c.target.value),e[61]=s.id,e[62]=a,e[63]=b):b=e[63];let M;e[64]!==E||e[65]!==b?(M=t.jsxs("div",{className:"space-y-1",children:[ee,t.jsx(T,{value:E,onChange:b})]}),e[64]=E,e[65]=b,e[66]=M):M=e[66];let U;e[67]===Symbol.for("react.memo_cache_sentinel")?(U=t.jsx(x,{className:"text-xs",children:"Organization"}),e[67]=U):U=e[67];const R=s.organization||"";let N;e[68]!==s.id||e[69]!==a?(N=c=>a(s.id,"organization",c.target.value),e[68]=s.id,e[69]=a,e[70]=N):N=e[70];let u;e[71]!==R||e[72]!==N?(u=t.jsxs("div",{className:"space-y-1",children:[U,t.jsx(T,{value:R,onChange:N})]}),e[71]=R,e[72]=N,e[73]=u):u=e[73];let I;e[74]===Symbol.for("react.memo_cache_sentinel")?(I=t.jsx(x,{className:"text-xs",children:"Email"}),e[74]=I):I=e[74];const H=s.email||"";let y;e[75]!==s.id||e[76]!==a?(y=c=>a(s.id,"email",c.target.value),e[75]=s.id,e[76]=a,e[77]=y):y=e[77];let z;e[78]!==H||e[79]!==y?(z=t.jsxs("div",{className:"space-y-1",children:[I,t.jsx(T,{type:"email",value:H,onChange:y})]}),e[78]=H,e[79]=y,e[80]=z):z=e[80];let h;e[81]===Symbol.for("react.memo_cache_sentinel")?(h=t.jsx(x,{className:"text-xs",children:"Phone"}),e[81]=h):h=e[81];const te=s.phone||"";let fe;e[82]!==s.id||e[83]!==a?(fe=c=>a(s.id,"phone",c.target.value),e[82]=s.id,e[83]=a,e[84]=fe):fe=e[84];let se;e[85]!==te||e[86]!==fe?(se=t.jsxs("div",{className:"space-y-1",children:[h,t.jsx(T,{value:te,onChange:fe})]}),e[85]=te,e[86]=fe,e[87]=se):se=e[87];let pe;e[88]!==p||e[89]!==v||e[90]!==M||e[91]!==u||e[92]!==z||e[93]!==se?(pe=t.jsxs("div",{className:"flex-1 grid gap-3 sm:grid-cols-2",children:[p,v,M,u,z,se]}),e[88]=p,e[89]=v,e[90]=M,e[91]=u,e[92]=z,e[93]=se,e[94]=pe):pe=e[94];let ie;e[95]!==pe||e[96]!==g?(ie=t.jsxs("div",{className:"flex gap-4",children:[g,pe]}),e[95]=pe,e[96]=g,e[97]=ie):ie=e[97];const st=`active-${s.id}`;let le;e[98]!==s.id||e[99]!==a?(le=c=>a(s.id,"is_active",c),e[98]=s.id,e[99]=a,e[100]=le):le=e[100];let xe;e[101]!==s.is_active||e[102]!==st||e[103]!==le?(xe=t.jsx(Et,{id:st,checked:s.is_active,onCheckedChange:le}),e[101]=s.is_active,e[102]=st,e[103]=le,e[104]=xe):xe=e[104];const ye=`active-${s.id}`;let V;e[105]!==ye?(V=t.jsx(x,{htmlFor:ye,className:"text-sm",children:"Active"}),e[105]=ye,e[106]=V):V=e[106];let ae;e[107]!==xe||e[108]!==V?(ae=t.jsxs("div",{className:"flex items-center gap-2",children:[xe,V]}),e[107]=xe,e[108]=V,e[109]=ae):ae=e[109];let ge;e[110]===Symbol.for("react.memo_cache_sentinel")?(ge=t.jsx(ve,{variant:"outline",size:"sm",onClick:()=>F(!1),children:"Cancel"}),e[110]=ge):ge=e[110];let q;e[111]!==k?(q=t.jsxs("div",{className:"flex gap-2",children:[ge,t.jsx(ve,{size:"sm",onClick:k,className:"bg-amber-600 hover:bg-amber-700",children:"Save Changes"})]}),e[111]=k,e[112]=q):q=e[112];let ne;e[113]!==ae||e[114]!==q?(ne=t.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[ae,q]}),e[113]=ae,e[114]=q,e[115]=ne):ne=e[115];let ue;return e[116]!==ie||e[117]!==ne?(ue=t.jsxs("div",{className:"border rounded-lg p-4 bg-muted/30 space-y-4",children:[ie,ne]}),e[116]=ie,e[117]=ne,e[118]=ue):ue=e[118],ue}function cs(Q){const e=kt.c(81),{member:s,onUpdate:a,onSave:W,onRemove:Y}=Q;let he;e[0]===Symbol.for("react.memo_cache_sentinel")?(he=t.jsx(ns,{className:"h-4 w-4"}),e[0]=he):he=e[0];let F;e[1]!==Y?(F=t.jsx(ve,{type:"button",variant:"ghost",size:"icon",className:"absolute top-2 right-2 h-6 w-6",onClick:Y,children:he}),e[1]=Y,e[2]=F):F=e[2];let L;e[3]!==s.photoPreview?(L=s.photoPreview&&t.jsx(Mt,{src:s.photoPreview}),e[3]=s.photoPreview,e[4]=L):L=e[4];let B;e[5]!==s.name?(B=Pt(s.name),e[5]=s.name,e[6]=B):B=e[6];let P;e[7]!==B?(P=t.jsx(zt,{className:"bg-green-100 text-green-700",children:B}),e[7]=B,e[8]=P):P=e[8];let C;e[9]!==L||e[10]!==P?(C=t.jsxs(Ft,{className:"h-16 w-16",children:[L,P]}),e[9]=L,e[10]=P,e[11]=C):C=e[11];let w;e[12]!==s.id||e[13]!==a?(w=t.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:h=>{const te=h.target.files?.[0];te&&a(s.id,"photo",te)}}),e[12]=s.id,e[13]=a,e[14]=w):w=e[14];let l;e[15]===Symbol.for("react.memo_cache_sentinel")?(l=t.jsx("span",{className:"text-xs text-primary hover:underline",children:"Upload Photo"}),e[15]=l):l=e[15];let n;e[16]!==w?(n=t.jsxs("label",{className:"cursor-pointer",children:[w,l]}),e[16]=w,e[17]=n):n=e[17];let k;e[18]!==C||e[19]!==n?(k=t.jsxs("div",{className:"flex flex-col items-center gap-2",children:[C,n]}),e[18]=C,e[19]=n,e[20]=k):k=e[20];let f;e[21]===Symbol.for("react.memo_cache_sentinel")?(f=t.jsx(x,{className:"text-xs",children:"Name *"}),e[21]=f):f=e[21];let r;e[22]!==s.id||e[23]!==a?(r=h=>a(s.id,"name",h.target.value),e[22]=s.id,e[23]=a,e[24]=r):r=e[24];let D;e[25]!==s.name||e[26]!==r?(D=t.jsxs("div",{className:"space-y-1",children:[f,t.jsx(T,{value:s.name,onChange:r,placeholder:"Full name"})]}),e[25]=s.name,e[26]=r,e[27]=D):D=e[27];let A;e[28]===Symbol.for("react.memo_cache_sentinel")?(A=t.jsx(x,{className:"text-xs",children:"Designation *"}),e[28]=A):A=e[28];let m;e[29]!==s.id||e[30]!==a?(m=h=>a(s.id,"designation",h.target.value),e[29]=s.id,e[30]=a,e[31]=m):m=e[31];let g;e[32]!==s.designation||e[33]!==m?(g=t.jsxs("div",{className:"space-y-1",children:[A,t.jsx(T,{value:s.designation,onChange:m,placeholder:"e.g., Chairman, Member"})]}),e[32]=s.designation,e[33]=m,e[34]=g):g=e[34];let O;e[35]===Symbol.for("react.memo_cache_sentinel")?(O=t.jsx(x,{className:"text-xs",children:"Role"}),e[35]=O):O=e[35];let $;e[36]!==s.id||e[37]!==a?($=h=>a(s.id,"role",h.target.value),e[36]=s.id,e[37]=a,e[38]=$):$=e[38];let p;e[39]!==s.role||e[40]!==$?(p=t.jsxs("div",{className:"space-y-1",children:[O,t.jsx(T,{value:s.role,onChange:$,placeholder:"e.g., Parent Representative"})]}),e[39]=s.role,e[40]=$,e[41]=p):p=e[41];let Z;e[42]===Symbol.for("react.memo_cache_sentinel")?(Z=t.jsx(x,{className:"text-xs",children:"Organization"}),e[42]=Z):Z=e[42];let j;e[43]!==s.id||e[44]!==a?(j=h=>a(s.id,"organization",h.target.value),e[43]=s.id,e[44]=a,e[45]=j):j=e[45];let v;e[46]!==s.organization||e[47]!==j?(v=t.jsxs("div",{className:"space-y-1",children:[Z,t.jsx(T,{value:s.organization,onChange:j,placeholder:"Company or institution"})]}),e[46]=s.organization,e[47]=j,e[48]=v):v=e[48];let ee;e[49]===Symbol.for("react.memo_cache_sentinel")?(ee=t.jsx(x,{className:"text-xs",children:"Email"}),e[49]=ee):ee=e[49];let E;e[50]!==s.id||e[51]!==a?(E=h=>a(s.id,"email",h.target.value),e[50]=s.id,e[51]=a,e[52]=E):E=e[52];let b;e[53]!==s.email||e[54]!==E?(b=t.jsxs("div",{className:"space-y-1",children:[ee,t.jsx(T,{type:"email",value:s.email,onChange:E})]}),e[53]=s.email,e[54]=E,e[55]=b):b=e[55];let M;e[56]===Symbol.for("react.memo_cache_sentinel")?(M=t.jsx(x,{className:"text-xs",children:"Phone"}),e[56]=M):M=e[56];let U;e[57]!==s.id||e[58]!==a?(U=h=>a(s.id,"phone",h.target.value),e[57]=s.id,e[58]=a,e[59]=U):U=e[59];let R;e[60]!==s.phone||e[61]!==U?(R=t.jsxs("div",{className:"space-y-1",children:[M,t.jsx(T,{value:s.phone,onChange:U})]}),e[60]=s.phone,e[61]=U,e[62]=R):R=e[62];let N;e[63]!==D||e[64]!==g||e[65]!==p||e[66]!==v||e[67]!==b||e[68]!==R?(N=t.jsxs("div",{className:"flex-1 grid gap-3 sm:grid-cols-2",children:[D,g,p,v,b,R]}),e[63]=D,e[64]=g,e[65]=p,e[66]=v,e[67]=b,e[68]=R,e[69]=N):N=e[69];let u;e[70]!==k||e[71]!==N?(u=t.jsxs("div",{className:"flex gap-4 mb-4",children:[k,N]}),e[70]=k,e[71]=N,e[72]=u):u=e[72];const I=!s.name||!s.designation;let H;e[73]===Symbol.for("react.memo_cache_sentinel")?(H=t.jsx(Ut,{className:"mr-2 h-4 w-4"}),e[73]=H):H=e[73];let y;e[74]!==W||e[75]!==I?(y=t.jsx("div",{className:"flex justify-end pt-2 border-t",children:t.jsxs(ve,{size:"sm",onClick:W,disabled:I,className:"bg-green-600 hover:bg-green-700",children:[H,"Save Member"]})}),e[74]=W,e[75]=I,e[76]=y):y=e[76];let z;return e[77]!==F||e[78]!==u||e[79]!==y?(z=t.jsxs("div",{className:"relative border rounded-lg p-4 bg-green-50/50 dark:bg-green-950/20",children:[F,u,y]}),e[77]=F,e[78]=u,e[79]=y,e[80]=z):z=e[80],z}export{si as default};
