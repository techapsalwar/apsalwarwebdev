import{c as Be,r as Le,u as Re,j as t,H as ke,a as He}from"./app-lLew-mq0.js";import{A as Me}from"./app-layout-KzQEyLiQ.js";import{B as Te}from"./button-DTZ67Z4b.js";import{C as we,a as Ue,b as Ee,c as Pe,d as Ie}from"./card-DWcOyhKP.js";import{I as V}from"./input-C9VfnsW_.js";import{L as W}from"./label-BTNSqOD-.js";import{F as Xe}from"./x-CV1yhBJZ.js";import{F as qe}from"./file-check-UDYRRxCK.js";import{U as ze}from"./upload-BrYG0zcL.js";/* empty css            */import"./index-BiNrCjIr.js";import"./index-CMRMG5Mo.js";import"./index-B9jue-Th.js";import"./index-CZQ422QV.js";import"./Combination-BEW_kzWa.js";import"./index-BzAksq8r.js";import"./index-BOY9t191.js";import"./index-CxACbU5U.js";import"./index-C7YjzNVQ.js";import"./index-DI1PiJH0.js";import"./index-CbiHmYlh.js";import"./index-DTTikWjI.js";import"./avatar-DYrdvPax.js";import"./index-BTFUtR64.js";import"./index-DHA2i0B2.js";import"./image-CHvhAmHJ.js";import"./link-D-JBfegL.js";import"./quote-DLUiA_F1.js";import"./newspaper-D3mdqZcT.js";import"./megaphone-BG2hP5oS.js";import"./indian-rupee-Bj1qYK0P.js";import"./folder-l-97kfum.js";import"./handshake-V1wEucA7.js";import"./school-BjNRgEiN.js";function St(Ae){const e=Be.c(145),{tcRecord:s}=Ae,[n,$e]=Le.useState("");let Y;e[0]!==s.admission_number||e[1]!==s.class||e[2]!==s.date_of_issue||e[3]!==s.father_name||e[4]!==s.student_name||e[5]!==s.tc_number?(Y={_method:"PUT",tc_number:s.tc_number,student_name:s.student_name,father_name:s.father_name,admission_number:s.admission_number,class:s.class,date_of_issue:s.date_of_issue,pdf:null},e[0]=s.admission_number,e[1]=s.class,e[2]=s.date_of_issue,e[3]=s.father_name,e[4]=s.student_name,e[5]=s.tc_number,e[6]=Y):Y=e[6];const{data:i,setData:l,post:ge,processing:Z,errors:a,progress:ee}=Re(Y);let te,se;e[7]===Symbol.for("react.memo_cache_sentinel")?(te={title:"Dashboard",href:"/dashboard"},se={title:"Transfer Certificates",href:"/admin/tc-records"},e[7]=te,e[8]=se):(te=e[7],se=e[8]);const ye=`/admin/tc-records/${s.id}/edit`;let ae;e[9]!==ye?(ae=[te,se,{title:"Edit",href:ye}],e[9]=ye,e[10]=ae):ae=e[10];const Ne=ae;let le;e[11]!==ge||e[12]!==s.id?(le=r=>{r.preventDefault(),ge(`/admin/tc-records/${s.id}`,{forceFormData:!0})},e[11]=ge,e[12]=s.id,e[13]=le):le=e[13];const ve=le;let ie;e[14]!==l?(ie=r=>{const De=r.target.files?.[0];De&&(l("pdf",De),$e(De.name))},e[14]=l,e[15]=ie):ie=e[15];const Ce=ie;let re;e[16]===Symbol.for("react.memo_cache_sentinel")?(re=t.jsx(ke,{title:"Edit Transfer Certificate"}),e[16]=re):re=e[16];let ne;e[17]===Symbol.for("react.memo_cache_sentinel")?(ne=t.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[t.jsx(qe,{className:"h-6 w-6"}),"Edit Transfer Certificate"]}),e[17]=ne):ne=e[17];let m;e[18]!==s.student_name?(m=t.jsxs("div",{className:"mb-6",children:[ne,t.jsxs("p",{className:"text-gray-500",children:["Update TC details for ",s.student_name]})]}),e[18]=s.student_name,e[19]=m):m=e[19];let me;e[20]===Symbol.for("react.memo_cache_sentinel")?(me=t.jsxs(we,{children:[t.jsx(Ue,{children:"Student Information"}),t.jsx(Ee,{children:"Update the student details"})]}),e[20]=me):me=e[20];let de;e[21]===Symbol.for("react.memo_cache_sentinel")?(de=t.jsx(W,{htmlFor:"tc_number",children:"TC Number *"}),e[21]=de):de=e[21];let d;e[22]!==l?(d=r=>l("tc_number",r.target.value),e[22]=l,e[23]=d):d=e[23];let c;e[24]!==i.tc_number||e[25]!==d?(c=t.jsx(V,{id:"tc_number",value:i.tc_number,onChange:d,placeholder:"e.g., TC-2025-001"}),e[24]=i.tc_number,e[25]=d,e[26]=c):c=e[26];let o;e[27]!==a.tc_number?(o=a.tc_number&&t.jsx("p",{className:"text-sm text-red-500",children:a.tc_number}),e[27]=a.tc_number,e[28]=o):o=e[28];let f;e[29]!==c||e[30]!==o?(f=t.jsxs("div",{className:"space-y-2",children:[de,c,o]}),e[29]=c,e[30]=o,e[31]=f):f=e[31];let ce;e[32]===Symbol.for("react.memo_cache_sentinel")?(ce=t.jsx(W,{htmlFor:"admission_number",children:"Admission Number *"}),e[32]=ce):ce=e[32];let h;e[33]!==l?(h=r=>l("admission_number",r.target.value),e[33]=l,e[34]=h):h=e[34];let u;e[35]!==i.admission_number||e[36]!==h?(u=t.jsx(V,{id:"admission_number",value:i.admission_number,onChange:h,placeholder:"e.g., ADM-2020-001"}),e[35]=i.admission_number,e[36]=h,e[37]=u):u=e[37];let p;e[38]!==a.admission_number?(p=a.admission_number&&t.jsx("p",{className:"text-sm text-red-500",children:a.admission_number}),e[38]=a.admission_number,e[39]=p):p=e[39];let _;e[40]!==u||e[41]!==p?(_=t.jsxs("div",{className:"space-y-2",children:[ce,u,p]}),e[40]=u,e[41]=p,e[42]=_):_=e[42];let x;e[43]!==f||e[44]!==_?(x=t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[f,_]}),e[43]=f,e[44]=_,e[45]=x):x=e[45];let oe;e[46]===Symbol.for("react.memo_cache_sentinel")?(oe=t.jsx(W,{htmlFor:"student_name",children:"Student Name *"}),e[46]=oe):oe=e[46];let j;e[47]!==l?(j=r=>l("student_name",r.target.value),e[47]=l,e[48]=j):j=e[48];let b;e[49]!==i.student_name||e[50]!==j?(b=t.jsx(V,{id:"student_name",value:i.student_name,onChange:j,placeholder:"Full name as on records"}),e[49]=i.student_name,e[50]=j,e[51]=b):b=e[51];let g;e[52]!==a.student_name?(g=a.student_name&&t.jsx("p",{className:"text-sm text-red-500",children:a.student_name}),e[52]=a.student_name,e[53]=g):g=e[53];let y;e[54]!==b||e[55]!==g?(y=t.jsxs("div",{className:"space-y-2",children:[oe,b,g]}),e[54]=b,e[55]=g,e[56]=y):y=e[56];let fe;e[57]===Symbol.for("react.memo_cache_sentinel")?(fe=t.jsx(W,{htmlFor:"father_name",children:"Father's Name *"}),e[57]=fe):fe=e[57];let N;e[58]!==l?(N=r=>l("father_name",r.target.value),e[58]=l,e[59]=N):N=e[59];let v;e[60]!==i.father_name||e[61]!==N?(v=t.jsx(V,{id:"father_name",value:i.father_name,onChange:N,placeholder:"Father's full name"}),e[60]=i.father_name,e[61]=N,e[62]=v):v=e[62];let C;e[63]!==a.father_name?(C=a.father_name&&t.jsx("p",{className:"text-sm text-red-500",children:a.father_name}),e[63]=a.father_name,e[64]=C):C=e[64];let F;e[65]!==v||e[66]!==C?(F=t.jsxs("div",{className:"space-y-2",children:[fe,v,C]}),e[65]=v,e[66]=C,e[67]=F):F=e[67];let he;e[68]===Symbol.for("react.memo_cache_sentinel")?(he=t.jsx(W,{htmlFor:"class",children:"Class at Time of Leaving *"}),e[68]=he):he=e[68];let S;e[69]!==l?(S=r=>l("class",r.target.value),e[69]=l,e[70]=S):S=e[70];let D;e[71]!==i.class||e[72]!==S?(D=t.jsx(V,{id:"class",value:i.class,onChange:S,placeholder:"e.g., XII"}),e[71]=i.class,e[72]=S,e[73]=D):D=e[73];let T;e[74]!==a.class?(T=a.class&&t.jsx("p",{className:"text-sm text-red-500",children:a.class}),e[74]=a.class,e[75]=T):T=e[75];let w;e[76]!==D||e[77]!==T?(w=t.jsxs("div",{className:"space-y-2",children:[he,D,T]}),e[76]=D,e[77]=T,e[78]=w):w=e[78];let ue;e[79]===Symbol.for("react.memo_cache_sentinel")?(ue=t.jsx(W,{htmlFor:"date_of_issue",children:"Date of Issue *"}),e[79]=ue):ue=e[79];let U;e[80]!==l?(U=r=>l("date_of_issue",r.target.value),e[80]=l,e[81]=U):U=e[81];let E;e[82]!==i.date_of_issue||e[83]!==U?(E=t.jsx(V,{id:"date_of_issue",type:"date",value:i.date_of_issue,onChange:U}),e[82]=i.date_of_issue,e[83]=U,e[84]=E):E=e[84];let P;e[85]!==a.date_of_issue?(P=a.date_of_issue&&t.jsx("p",{className:"text-sm text-red-500",children:a.date_of_issue}),e[85]=a.date_of_issue,e[86]=P):P=e[86];let I;e[87]!==E||e[88]!==P?(I=t.jsxs("div",{className:"space-y-2",children:[ue,E,P]}),e[87]=E,e[88]=P,e[89]=I):I=e[89];let A;e[90]!==w||e[91]!==I?(A=t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[w,I]}),e[90]=w,e[91]=I,e[92]=A):A=e[92];let $;e[93]!==x||e[94]!==y||e[95]!==F||e[96]!==A?($=t.jsxs(Pe,{children:[me,t.jsxs(Ie,{className:"space-y-4",children:[x,y,F,A]})]}),e[93]=x,e[94]=y,e[95]=F,e[96]=A,e[97]=$):$=e[97];let pe;e[98]===Symbol.for("react.memo_cache_sentinel")?(pe=t.jsx(Ue,{children:"TC Document"}),e[98]=pe):pe=e[98];const Fe=s.pdf_path?"A PDF is already uploaded. Upload a new file only if you want to replace it.":"Upload the scanned copy of the transfer certificate (PDF only, max 5MB)";let B;e[99]!==Fe?(B=t.jsxs(we,{children:[pe,t.jsx(Ee,{children:Fe})]}),e[99]=Fe,e[100]=B):B=e[100];let L;e[101]!==n||e[102]!==s.id||e[103]!==s.pdf_path?(L=s.pdf_path&&!n&&t.jsxs("div",{className:"flex items-center gap-3 p-3 bg-green-50 rounded-lg border border-green-200",children:[t.jsx(Xe,{className:"h-8 w-8 text-green-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-green-800",children:"Current PDF Uploaded"}),t.jsx("a",{href:`/admin/tc-records/${s.id}/download`,className:"text-sm text-green-600 hover:underline",children:"Download current file"})]})]}),e[101]=n,e[102]=s.id,e[103]=s.pdf_path,e[104]=L):L=e[104];let R;e[105]!==Ce?(R=t.jsx("input",{type:"file",id:"pdf",accept:".pdf",onChange:Ce,className:"hidden"}),e[105]=Ce,e[106]=R):R=e[106];let _e;e[107]===Symbol.for("react.memo_cache_sentinel")?(_e=t.jsx(ze,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),e[107]=_e):_e=e[107];let k;e[108]!==n?(k=t.jsx("p",{className:"text-sm text-gray-600",children:n?t.jsx("span",{className:"text-green-600 font-medium",children:n}):t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"text-primary font-medium",children:"Click to upload"})," a new PDF"]})}),e[108]=n,e[109]=k):k=e[109];let xe;e[110]===Symbol.for("react.memo_cache_sentinel")?(xe=t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PDF file only (max 5MB)"}),e[110]=xe):xe=e[110];let H;e[111]!==k?(H=t.jsxs("label",{htmlFor:"pdf",className:"cursor-pointer",children:[_e,k,xe]}),e[111]=k,e[112]=H):H=e[112];let M;e[113]!==R||e[114]!==H?(M=t.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[R,H]}),e[113]=R,e[114]=H,e[115]=M):M=e[115];let X;e[116]!==a.pdf?(X=a.pdf&&t.jsx("p",{className:"text-sm text-red-500",children:a.pdf}),e[116]=a.pdf,e[117]=X):X=e[117];let q;e[118]!==ee?(q=ee&&t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:t.jsx("div",{className:"bg-primary h-2.5 rounded-full transition-all",style:{width:`${ee.percentage}%`}})}),e[118]=ee,e[119]=q):q=e[119];let z;e[120]!==L||e[121]!==M||e[122]!==X||e[123]!==q?(z=t.jsx(Ie,{children:t.jsxs("div",{className:"space-y-4",children:[L,M,X,q]})}),e[120]=L,e[121]=M,e[122]=X,e[123]=q,e[124]=z):z=e[124];let G;e[125]!==B||e[126]!==z?(G=t.jsxs(Pe,{children:[B,z]}),e[125]=B,e[126]=z,e[127]=G):G=e[127];let je;e[128]===Symbol.for("react.memo_cache_sentinel")?(je=t.jsx(Te,{type:"button",variant:"outline",onClick:Ge,children:"Cancel"}),e[128]=je):je=e[128];const Se=Z?"Saving...":"Update Transfer Certificate";let J;e[129]!==Z||e[130]!==Se?(J=t.jsxs("div",{className:"flex gap-4 justify-end",children:[je,t.jsx(Te,{type:"submit",disabled:Z,children:Se})]}),e[129]=Z,e[130]=Se,e[131]=J):J=e[131];let K;e[132]!==$||e[133]!==G||e[134]!==J?(K=t.jsxs("div",{className:"space-y-6",children:[$,G,J]}),e[132]=$,e[133]=G,e[134]=J,e[135]=K):K=e[135];let O;e[136]!==ve||e[137]!==K?(O=t.jsx("form",{onSubmit:ve,children:K}),e[136]=ve,e[137]=K,e[138]=O):O=e[138];let Q;e[139]!==m||e[140]!==O?(Q=t.jsxs("div",{className:"max-w-2xl mx-auto p-6",children:[m,O]}),e[139]=m,e[140]=O,e[141]=Q):Q=e[141];let be;return e[142]!==Ne||e[143]!==Q?(be=t.jsxs(Me,{breadcrumbs:Ne,children:[re,Q]}),e[142]=Ne,e[143]=Q,e[144]=be):be=e[144],be}function Ge(){return He.get("/admin/tc-records")}export{St as default};
