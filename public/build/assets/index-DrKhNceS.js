import{r as p,j as t,c as It,a as k,H as Vs}from"./app-lLew-mq0.js";import{A as Bs}from"./app-layout-KzQEyLiQ.js";import{c as ns,u as Et,a as is,B as b}from"./button-DTZ67Z4b.js";import{C as Ls,a as zs,c as Mt,d as Vt}from"./card-DWcOyhKP.js";import{S as Ne,b as be,c as Ce,d as Se,a as P}from"./select-QGsFE1Nt.js";import{B as os}from"./badge-CUnar9Fe.js";import{S as Hs}from"./switch-CGXN52OW.js";import{a as $s,b as _t,e as u,T as qs,c as w,d as Ks}from"./table-C0gRaZsl.js";import{A as Bt,a as Lt,b as zt,c as Ht,d as $t,e as qt,f as Kt,g as Ut,h as Xt}from"./alert-dialog-fuDA2Sgs.js";import{f as Yt,a as Wt,D as Jt,b as Qt,d as Zt,e as es,c as Us}from"./dialog-ClflWXfj.js";import{L as Fe}from"./label-BTNSqOD-.js";import{u as Xs,c as Tt}from"./index-CMRMG5Mo.js";import{c as cs}from"./index-B9jue-Th.js";import{P as bt}from"./index-BzAksq8r.js";import{c as ds,R as Ys,I as Ws}from"./index-DTTikWjI.js";import{u as Js}from"./index-CbiHmYlh.js";import{u as Qs}from"./index-DI1PiJH0.js";import{u as Zs}from"./index-t_bT_gQV.js";import{P as ea}from"./index-CxACbU5U.js";import{I as v}from"./input-C9VfnsW_.js";import{T as ta}from"./textarea-Bf0Ya8pK.js";import{E as sa}from"./eye-Bcj5dXTF.js";import{E as aa}from"./eye-off-CqhjnCEj.js";import{T as ts}from"./trash-2-BgucR-O9.js";import{C as ss}from"./check-DGLhpy4l.js";import{X as as}from"./x-CV1yhBJZ.js";import{P as ra}from"./pencil-BKu9S9px.js";import{I as la}from"./indian-rupee-Bj1qYK0P.js";import{P as na}from"./plus-e9gYXact.js";/* empty css            */import"./index-BiNrCjIr.js";import"./index-CZQ422QV.js";import"./Combination-BEW_kzWa.js";import"./index-BOY9t191.js";import"./index-C7YjzNVQ.js";import"./avatar-DYrdvPax.js";import"./index-BTFUtR64.js";import"./index-DHA2i0B2.js";import"./image-CHvhAmHJ.js";import"./link-D-JBfegL.js";import"./quote-DLUiA_F1.js";import"./newspaper-D3mdqZcT.js";import"./megaphone-BG2hP5oS.js";import"./file-check-UDYRRxCK.js";import"./folder-l-97kfum.js";import"./handshake-V1wEucA7.js";import"./school-BjNRgEiN.js";import"./chevron-up-Bv-H0xE7.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ia=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],oa=ns("Circle",ia);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],rs=ns("Columns3",ca);var Pt="Radio",[da,ms]=cs(Pt),[ma,ua]=da(Pt),us=p.forwardRef((r,e)=>{const{__scopeRadio:a,name:c,checked:l=!1,required:n,disabled:d,value:x="on",onCheck:S,form:C,...m}=r,[g,_]=p.useState(null),y=Et(e,h=>_(h)),f=p.useRef(!1),R=g?C||!!g.closest("form"):!0;return t.jsxs(ma,{scope:a,checked:l,disabled:d,children:[t.jsx(bt.button,{type:"button",role:"radio","aria-checked":l,"data-state":fs(l),"data-disabled":d?"":void 0,disabled:d,value:x,...m,ref:y,onClick:Tt(r.onClick,h=>{l||S?.(),R&&(f.current=h.isPropagationStopped(),f.current||h.stopPropagation())})}),R&&t.jsx(xs,{control:g,bubbles:!f.current,name:c,value:x,checked:l,required:n,disabled:d,form:C,style:{transform:"translateX(-100%)"}})]})});us.displayName=Pt;var hs="RadioIndicator",ps=p.forwardRef((r,e)=>{const{__scopeRadio:a,forceMount:c,...l}=r,n=ua(hs,a);return t.jsx(ea,{present:c||n.checked,children:t.jsx(bt.span,{"data-state":fs(n.checked),"data-disabled":n.disabled?"":void 0,...l,ref:e})})});ps.displayName=hs;var ha="RadioBubbleInput",xs=p.forwardRef(({__scopeRadio:r,control:e,checked:a,bubbles:c=!0,...l},n)=>{const d=p.useRef(null),x=Et(d,n),S=Zs(a),C=Qs(e);return p.useEffect(()=>{const m=d.current;if(!m)return;const g=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(g,"checked").set;if(S!==a&&y){const f=new Event("click",{bubbles:c});y.call(m,a),m.dispatchEvent(f)}},[S,a,c]),t.jsx(bt.input,{type:"radio","aria-hidden":!0,defaultChecked:a,...l,tabIndex:-1,ref:x,style:{...l.style,...C,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});xs.displayName=ha;function fs(r){return r?"checked":"unchecked"}var pa=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Ct="RadioGroup",[xa,Tr]=cs(Ct,[ds,ms]),gs=ds(),js=ms(),[fa,ga]=xa(Ct),ys=p.forwardRef((r,e)=>{const{__scopeRadioGroup:a,name:c,defaultValue:l,value:n,required:d=!1,disabled:x=!1,orientation:S,dir:C,loop:m=!0,onValueChange:g,..._}=r,y=gs(a),f=Js(C),[R,h]=Xs({prop:n,defaultProp:l??null,onChange:g,caller:Ct});return t.jsx(fa,{scope:a,name:c,required:d,disabled:x,value:R,onValueChange:h,children:t.jsx(Ys,{asChild:!0,...y,orientation:S,dir:f,loop:m,children:t.jsx(bt.div,{role:"radiogroup","aria-required":d,"aria-orientation":S,"data-disabled":x?"":void 0,dir:f,..._,ref:e})})})});ys.displayName=Ct;var vs="RadioGroupItem",_s=p.forwardRef((r,e)=>{const{__scopeRadioGroup:a,disabled:c,...l}=r,n=ga(vs,a),d=n.disabled||c,x=gs(a),S=js(a),C=p.useRef(null),m=Et(e,C),g=n.value===l.value,_=p.useRef(!1);return p.useEffect(()=>{const y=R=>{pa.includes(R.key)&&(_.current=!0)},f=()=>_.current=!1;return document.addEventListener("keydown",y),document.addEventListener("keyup",f),()=>{document.removeEventListener("keydown",y),document.removeEventListener("keyup",f)}},[]),t.jsx(Ws,{asChild:!0,...x,focusable:!d,active:g,children:t.jsx(us,{disabled:d,required:n.required,checked:g,...S,...l,name:n.name,ref:m,onCheck:()=>n.onValueChange(l.value),onKeyDown:Tt(y=>{y.key==="Enter"&&y.preventDefault()}),onFocus:Tt(l.onFocus,()=>{_.current&&C.current?.click()})})})});_s.displayName=vs;var ja="RadioGroupIndicator",Ns=p.forwardRef((r,e)=>{const{__scopeRadioGroup:a,...c}=r,l=js(a);return t.jsx(ps,{...l,...c,ref:e})});Ns.displayName=ja;var bs=ys,Cs=_s,ya=Ns;const Ss=p.forwardRef((r,e)=>{const a=It.c(9);let c,l;a[0]!==r?({className:c,...l}=r,a[0]=r,a[1]=c,a[2]=l):(c=a[1],l=a[2]);let n;a[3]!==c?(n=is("grid gap-2",c),a[3]=c,a[4]=n):n=a[4];let d;return a[5]!==l||a[6]!==e||a[7]!==n?(d=t.jsx(bs,{className:n,...l,ref:e}),a[5]=l,a[6]=e,a[7]=n,a[8]=d):d=a[8],d});Ss.displayName=bs.displayName;const Dt=p.forwardRef((r,e)=>{const a=It.c(10);let c,l;a[0]!==r?({className:c,...l}=r,a[0]=r,a[1]=c,a[2]=l):(c=a[1],l=a[2]);let n;a[3]!==c?(n=is("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",c),a[3]=c,a[4]=n):n=a[4];let d;a[5]===Symbol.for("react.memo_cache_sentinel")?(d=t.jsx(ya,{className:"flex items-center justify-center",children:t.jsx(oa,{className:"h-2.5 w-2.5 fill-current text-current"})}),a[5]=d):d=a[5];let x;return a[6]!==l||a[7]!==e||a[8]!==n?(x=t.jsx(Cs,{ref:e,className:n,...l,children:d}),a[6]=l,a[7]=e,a[8]=n,a[9]=x):x=a[9],x});Dt.displayName=Cs.displayName;const E=r=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(r),va=(r,e)=>{const a={officers:"bg-blue-100 text-blue-800",jco:"bg-green-100 text-green-800",or:"bg-orange-100 text-orange-800",civilian:"bg-purple-100 text-purple-800"};return t.jsx(os,{variant:"outline",className:a[r]||"bg-gray-100 text-gray-800",children:e[r]||r})},Nt={category:"",class_range:"",registration_fee:0,admission_fee:0,security_deposit:0,annual_fee:0,tuition_fee:0,computer_fee:0,science_fee:0,other_fees:{}},ls={name:"",type:"one_time",description:""};function Dr(r){const e=It.c(168),{feeStructures:a,feeTypes:c,filters:l,categories:n,classRanges:d}=r,[x,S]=p.useState(null);let C;e[0]===Symbol.for("react.memo_cache_sentinel")?(C={},e[0]=C):C=e[0];const[m,g]=p.useState(C),[_,y]=p.useState(!1),[f,R]=p.useState(!1),[h,G]=p.useState(Nt),[we,St]=p.useState(!1),[j,ke]=p.useState(ls),[M,Ot]=p.useState(!1),[Re,ws]=p.useState(!1);let V,B,L,z,H,$,A,q,K,U,X,T,Y,D,I;if(e[1]!==n||e[2]!==d||e[3]!==m||e[4]!==x||e[5]!==a.data||e[6]!==a.total||e[7]!==c||e[8]!==l||e[9]!==we||e[10]!==f||e[11]!==Re||e[12]!==j||e[13]!==h||e[14]!==_||e[15]!==M){const Te=c.filter(Oa);let De;e[31]===Symbol.for("react.memo_cache_sentinel")?(De=[{title:"Dashboard",href:"/dashboard"},{title:"Fee Structures",href:"/admin/fee-structures"}],e[31]=De):De=e[31];const Rs=De;let Ie;e[32]!==l?(Ie=(s,i)=>{k.get("/admin/fee-structures",{...l,[s]:i==="all"?void 0:i},{preserveState:!0})},e[32]=l,e[33]=Ie):Ie=e[33];const ae=Ie,Fs=Pa,ks=Ea;let Ee;e[34]===Symbol.for("react.memo_cache_sentinel")?(Ee=s=>{S(s.id),g({academic_year:s.academic_year,category:s.category,class_range:s.class_range,registration_fee:s.registration_fee,admission_fee:s.admission_fee,security_deposit:s.security_deposit,annual_fee:s.annual_fee,tuition_fee:s.tuition_fee,computer_fee:s.computer_fee,science_fee:s.science_fee,other_fees:s.other_fees||{}})},e[34]=Ee):Ee=e[34];const As=Ee;let Pe;e[35]===Symbol.for("react.memo_cache_sentinel")?(Pe=()=>{S(null),g({})},e[35]=Pe):Pe=e[35];const Ts=Pe;let Oe;e[36]===Symbol.for("react.memo_cache_sentinel")?(Oe=(s,i)=>{const o=i===""?0:parseFloat(i);g(N=>({...N,[s]:isNaN(o)?0:o}))},e[36]=Oe):Oe=e[36];const O=Oe;let Ge;e[37]===Symbol.for("react.memo_cache_sentinel")?(Ge=(s,i)=>{const o=i===""?0:parseFloat(i);g(N=>({...N,other_fees:{...N.other_fees||{},[s]:isNaN(o)?0:o}}))},e[37]=Ge):Ge=e[37];const Ds=Ge;let Me;e[38]!==m?(Me=s=>{y(!0),k.put(`/admin/fee-structures/${s}`,m,{preserveState:!0,preserveScroll:!0,onSuccess:()=>{S(null),g({})},onError:Ia,onFinish:()=>y(!1)})},e[38]=m,e[39]=Me):Me=e[39];const Is=Me;let Ve;e[40]===Symbol.for("react.memo_cache_sentinel")?(Ve=(s,i)=>{if(s==="category"||s==="class_range")G(o=>({...o,[s]:i}));else{const o=i===""?0:parseFloat(i);G(N=>({...N,[s]:isNaN(o)?0:o}))}},e[40]=Ve):Ve=e[40];const F=Ve;let Be;e[41]===Symbol.for("react.memo_cache_sentinel")?(Be=(s,i)=>{const o=i===""?0:parseFloat(i);G(N=>({...N,other_fees:{...N.other_fees,[s]:isNaN(o)?0:o}}))},e[41]=Be):Be=e[41];const Es=Be;let Le;e[42]===Symbol.for("react.memo_cache_sentinel")?(Le=()=>{R(!0),G(Nt)},e[42]=Le):Le=e[42];const Gt=Le;let ze;e[43]===Symbol.for("react.memo_cache_sentinel")?(ze=()=>{R(!1),G(Nt)},e[43]=ze):ze=e[43];const Ps=ze;let He;e[44]!==h?(He=()=>{if(!h.category||!h.class_range){alert("Please select Category and Class Range");return}y(!0),k.post("/admin/fee-structures",{...h,academic_year:new Date().getFullYear(),is_active:!0},{preserveState:!0,preserveScroll:!0,onSuccess:()=>{R(!1),G(Nt)},onError:Da,onFinish:()=>y(!1)})},e[44]=h,e[45]=He):He=e[45];const Os=He;let $e;e[46]!==j?($e=()=>{if(!j.name.trim()){alert("Please enter a fee name");return}Ot(!0),k.post("/admin/fee-types",j,{preserveState:!0,preserveScroll:!0,onSuccess:()=>{St(!1),ke(ls)},onError:Ta,onFinish:()=>Ot(!1)})},e[46]=j,e[47]=$e):$e=e[47];const wt=$e,Gs=Aa,Ms=ka;H=Bs,$=Rs,e[48]===Symbol.for("react.memo_cache_sentinel")?(A=t.jsx(Vs,{title:"Fee Structure Management"}),e[48]=A):A=e[48],Y="space-y-6 p-6";let qe;e[49]===Symbol.for("react.memo_cache_sentinel")?(qe=t.jsxs("div",{children:[t.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[t.jsx(la,{className:"h-6 w-6"}),"Fee Structure"]}),t.jsx("p",{className:"text-gray-500",children:"Manage fee structures for different categories and classes"})]}),e[49]=qe):qe=e[49];let Ke;e[50]===Symbol.for("react.memo_cache_sentinel")?(Ke=t.jsx(Yt,{asChild:!0,children:t.jsxs(b,{variant:"outline",children:[t.jsx(rs,{className:"h-4 w-4 mr-2"}),"Manage Columns"]})}),e[50]=Ke):Ke=e[50];let Ue;e[51]===Symbol.for("react.memo_cache_sentinel")?(Ue=t.jsxs(Wt,{children:[t.jsx(Jt,{children:"Manage Fee Columns"}),t.jsx(Qt,{children:"Toggle visibility or delete custom fee columns."})]}),e[51]=Ue):Ue=e[51];let re;e[52]!==c?(re=c.length===0?t.jsx("p",{className:"text-gray-500 text-center py-4",children:"No custom columns added yet"}):c.map(s=>t.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-medium",children:s.name}),t.jsx(os,{variant:s.type==="recurring"?"default":"secondary",className:"text-xs",children:s.type==="recurring"?"Monthly":"One-time"})]}),s.description&&t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:s.description})]}),t.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[t.jsx(b,{size:"icon",variant:"ghost",className:s.is_active?"text-green-600":"text-gray-400",onClick:()=>Gs(s.id),title:s.is_active?"Hide column":"Show column",children:s.is_active?t.jsx(sa,{className:"h-4 w-4"}):t.jsx(aa,{className:"h-4 w-4"})}),t.jsxs(Bt,{children:[t.jsx(Lt,{asChild:!0,children:t.jsx(b,{size:"icon",variant:"ghost",className:"text-red-600 hover:text-red-700",children:t.jsx(ts,{className:"h-4 w-4"})})}),t.jsxs(zt,{children:[t.jsxs(Ht,{children:[t.jsxs($t,{children:['Delete "',s.name,'" Column?']}),t.jsx(qt,{children:"This will permanently delete this fee column and remove all associated fee values from existing fee structures."})]}),t.jsxs(Kt,{children:[t.jsx(Ut,{children:"Cancel"}),t.jsx(Xt,{onClick:()=>Ms(s.id),className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})]})]})]},s.id)),e[52]=c,e[53]=re):re=e[53];let le;e[54]!==re?(le=t.jsxs(Zt,{className:"max-w-md",children:[Ue,t.jsx("div",{className:"space-y-3 max-h-[400px] overflow-y-auto py-4",children:re})]}),e[54]=re,e[55]=le):le=e[55];let ne;e[56]!==Re||e[57]!==le?(ne=t.jsxs(es,{open:Re,onOpenChange:ws,children:[Ke,le]}),e[56]=Re,e[57]=le,e[58]=ne):ne=e[58];let Xe;e[59]===Symbol.for("react.memo_cache_sentinel")?(Xe=t.jsx(Yt,{asChild:!0,children:t.jsxs(b,{variant:"outline",children:[t.jsx(rs,{className:"h-4 w-4 mr-2"}),"Add Column"]})}),e[59]=Xe):Xe=e[59];let Ye;e[60]===Symbol.for("react.memo_cache_sentinel")?(Ye=t.jsxs(Wt,{children:[t.jsx(Jt,{children:"Add New Fee Column"}),t.jsx(Qt,{children:"Create a new fee type column. Choose whether it's a one-time fee or a recurring monthly fee."})]}),e[60]=Ye):Ye=e[60];let We;e[61]===Symbol.for("react.memo_cache_sentinel")?(We=t.jsx(Fe,{htmlFor:"fee-name",children:"Fee Name *"}),e[61]=We):We=e[61];let Je;e[62]===Symbol.for("react.memo_cache_sentinel")?(Je=s=>ke(i=>({...i,name:s.target.value})),e[62]=Je):Je=e[62];let ie;e[63]!==j.name?(ie=t.jsxs("div",{className:"space-y-2",children:[We,t.jsx(v,{id:"fee-name",placeholder:"e.g., Transport Fee, Lab Fee",value:j.name,onChange:Je})]}),e[63]=j.name,e[64]=ie):ie=e[64];let Qe;e[65]===Symbol.for("react.memo_cache_sentinel")?(Qe=t.jsx(Fe,{children:"Fee Type *"}),e[65]=Qe):Qe=e[65];let Ze;e[66]===Symbol.for("react.memo_cache_sentinel")?(Ze=s=>ke(i=>({...i,type:s})),e[66]=Ze):Ze=e[66];let et;e[67]===Symbol.for("react.memo_cache_sentinel")?(et=t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Dt,{value:"one_time",id:"one_time"}),t.jsx(Fe,{htmlFor:"one_time",className:"font-normal cursor-pointer",children:"One-time (paid once per year)"})]}),e[67]=et):et=e[67];let tt;e[68]===Symbol.for("react.memo_cache_sentinel")?(tt=t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Dt,{value:"recurring",id:"recurring"}),t.jsx(Fe,{htmlFor:"recurring",className:"font-normal cursor-pointer",children:"Recurring (monthly fee)"})]}),e[68]=tt):tt=e[68];let oe;e[69]!==j.type?(oe=t.jsxs("div",{className:"space-y-2",children:[Qe,t.jsxs(Ss,{value:j.type,onValueChange:Ze,className:"flex gap-4",children:[et,tt]})]}),e[69]=j.type,e[70]=oe):oe=e[70];let st;e[71]===Symbol.for("react.memo_cache_sentinel")?(st=t.jsx(Fe,{htmlFor:"fee-desc",children:"Description (optional)"}),e[71]=st):st=e[71];let at;e[72]===Symbol.for("react.memo_cache_sentinel")?(at=s=>ke(i=>({...i,description:s.target.value})),e[72]=at):at=e[72];let ce;e[73]!==j.description?(ce=t.jsxs("div",{className:"space-y-2",children:[st,t.jsx(ta,{id:"fee-desc",placeholder:"Brief description of this fee",value:j.description,onChange:at,rows:2})]}),e[73]=j.description,e[74]=ce):ce=e[74];let de;e[75]!==ie||e[76]!==oe||e[77]!==ce?(de=t.jsxs("div",{className:"space-y-4 py-4",children:[ie,oe,ce]}),e[75]=ie,e[76]=oe,e[77]=ce,e[78]=de):de=e[78];let rt;e[79]===Symbol.for("react.memo_cache_sentinel")?(rt=t.jsx(b,{variant:"outline",onClick:()=>St(!1),children:"Cancel"}),e[79]=rt):rt=e[79];let me;e[80]!==j.name||e[81]!==M?(me=M||!j.name.trim(),e[80]=j.name,e[81]=M,e[82]=me):me=e[82];const Rt=M?"Adding...":"Add Column";let ue;e[83]!==wt||e[84]!==me||e[85]!==Rt?(ue=t.jsxs(Us,{children:[rt,t.jsx(b,{onClick:wt,disabled:me,children:Rt})]}),e[83]=wt,e[84]=me,e[85]=Rt,e[86]=ue):ue=e[86];let he;e[87]!==de||e[88]!==ue?(he=t.jsxs(Zt,{children:[Ye,de,ue]}),e[87]=de,e[88]=ue,e[89]=he):he=e[89];let pe;e[90]!==we||e[91]!==he?(pe=t.jsxs(es,{open:we,onOpenChange:St,children:[Xe,he]}),e[90]=we,e[91]=he,e[92]=pe):pe=e[92];const Ft=f||x!==null;let lt;e[93]===Symbol.for("react.memo_cache_sentinel")?(lt=t.jsx(na,{className:"h-4 w-4 mr-2"}),e[93]=lt):lt=e[93];let xe;e[94]!==Ft?(xe=t.jsxs(b,{onClick:Gt,disabled:Ft,children:[lt,"Add New Row"]}),e[94]=Ft,e[95]=xe):xe=e[95],e[96]!==ne||e[97]!==pe||e[98]!==xe?(D=t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[qe,t.jsxs("div",{className:"flex gap-2",children:[ne,pe,xe]})]}),e[96]=ne,e[97]=pe,e[98]=xe,e[99]=D):D=e[99];const kt=l.category||"all";let fe;e[100]!==ae?(fe=s=>ae("category",s),e[100]=ae,e[101]=fe):fe=e[101];let nt;e[102]===Symbol.for("react.memo_cache_sentinel")?(nt=t.jsx(Ce,{className:"w-[180px]",children:t.jsx(Se,{placeholder:"Category"})}),e[102]=nt):nt=e[102];let it;e[103]===Symbol.for("react.memo_cache_sentinel")?(it=t.jsx(P,{value:"all",children:"All Categories"}),e[103]=it):it=e[103];let ge;e[104]!==n?(ge=t.jsxs(Ne,{children:[it,Object.entries(n).map(Fa)]}),e[104]=n,e[105]=ge):ge=e[105];let je;e[106]!==kt||e[107]!==fe||e[108]!==ge?(je=t.jsxs(be,{value:kt,onValueChange:fe,children:[nt,ge]}),e[106]=kt,e[107]=fe,e[108]=ge,e[109]=je):je=e[109];const At=l.class_range||"all";let ye;e[110]!==ae?(ye=s=>ae("class_range",s),e[110]=ae,e[111]=ye):ye=e[111];let ot;e[112]===Symbol.for("react.memo_cache_sentinel")?(ot=t.jsx(Ce,{className:"w-[180px]",children:t.jsx(Se,{placeholder:"Class Range"})}),e[112]=ot):ot=e[112];let ct;e[113]===Symbol.for("react.memo_cache_sentinel")?(ct=t.jsx(P,{value:"all",children:"All Classes"}),e[113]=ct):ct=e[113];let ve;e[114]!==d?(ve=t.jsxs(Ne,{children:[ct,Object.entries(d).map(Ra)]}),e[114]=d,e[115]=ve):ve=e[115];let _e;e[116]!==At||e[117]!==ye||e[118]!==ve?(_e=t.jsxs(be,{value:At,onValueChange:ye,children:[ot,ve]}),e[116]=At,e[117]=ye,e[118]=ve,e[119]=_e):_e=e[119],e[120]!==je||e[121]!==_e?(I=t.jsx(Mt,{children:t.jsx(Vt,{className:"p-4",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[je,_e]})})}),e[120]=je,e[121]=_e,e[122]=I):I=e[122],z=Mt,e[123]!==a.total?(T=t.jsx(Ls,{children:t.jsxs(zs,{children:["Fee Structures (",a.total,")"]})}),e[123]=a.total,e[124]=T):T=e[124],L=Vt,X="overflow-x-auto",B=qs;let dt,mt,ut,ht,pt,xt,ft,gt,jt;e[125]===Symbol.for("react.memo_cache_sentinel")?(dt=t.jsx(w,{children:"Category"}),mt=t.jsx(w,{children:"Class"}),ut=t.jsx(w,{className:"text-right",children:"Registration"}),ht=t.jsx(w,{className:"text-right",children:"Admission"}),pt=t.jsx(w,{className:"text-right",children:"Security"}),xt=t.jsx(w,{className:"text-right",children:"Annual"}),ft=t.jsx(w,{className:"text-right",children:"Tuition/mo"}),gt=t.jsx(w,{className:"text-right",children:"Computer/mo"}),jt=t.jsx(w,{className:"text-right",children:"Science/mo"}),e[125]=dt,e[126]=mt,e[127]=ut,e[128]=ht,e[129]=pt,e[130]=xt,e[131]=ft,e[132]=gt,e[133]=jt):(dt=e[125],mt=e[126],ut=e[127],ht=e[128],pt=e[129],xt=e[130],ft=e[131],gt=e[132],jt=e[133]);let yt,vt;e[134]===Symbol.for("react.memo_cache_sentinel")?(yt=t.jsx(w,{children:"Active"}),vt=t.jsx(w,{className:"text-right",children:"Actions"}),e[134]=yt,e[135]=vt):(yt=e[134],vt=e[135]),U=t.jsx($s,{children:t.jsxs(_t,{children:[dt,mt,ut,ht,pt,xt,ft,gt,jt,Te.map(wa),yt,vt]})}),V=Ks,q=f&&t.jsxs(_t,{className:"bg-green-50",children:[t.jsx(u,{children:t.jsxs(be,{value:h.category,onValueChange:s=>F("category",s),children:[t.jsx(Ce,{className:"w-[130px] h-8",children:t.jsx(Se,{placeholder:"Select"})}),t.jsx(Ne,{children:Object.entries(n).map(Sa)})]})}),t.jsx(u,{children:t.jsxs(be,{value:h.class_range,onValueChange:s=>F("class_range",s),children:[t.jsx(Ce,{className:"w-[120px] h-8",children:t.jsx(Se,{placeholder:"Select"})}),t.jsx(Ne,{children:Object.entries(d).map(Ca)})]})}),t.jsx(u,{children:t.jsx(v,{type:"number",value:h.registration_fee,onChange:s=>F("registration_fee",s.target.value),className:"w-20 text-right h-8"})}),t.jsx(u,{children:t.jsx(v,{type:"number",value:h.admission_fee,onChange:s=>F("admission_fee",s.target.value),className:"w-20 text-right h-8"})}),t.jsx(u,{children:t.jsx(v,{type:"number",value:h.security_deposit,onChange:s=>F("security_deposit",s.target.value),className:"w-20 text-right h-8"})}),t.jsx(u,{children:t.jsx(v,{type:"number",value:h.annual_fee,onChange:s=>F("annual_fee",s.target.value),className:"w-20 text-right h-8"})}),t.jsx(u,{children:t.jsx(v,{type:"number",value:h.tuition_fee,onChange:s=>F("tuition_fee",s.target.value),className:"w-20 text-right h-8"})}),t.jsx(u,{children:t.jsx(v,{type:"number",value:h.computer_fee,onChange:s=>F("computer_fee",s.target.value),className:"w-20 text-right h-8"})}),t.jsx(u,{children:t.jsx(v,{type:"number",value:h.science_fee,onChange:s=>F("science_fee",s.target.value),className:"w-20 text-right h-8"})}),Te.map(s=>t.jsx(u,{children:t.jsx(v,{type:"number",value:h.other_fees[s.key]||0,onChange:i=>Es(s.key,i.target.value),className:"w-20 text-right h-8"})},s.id)),t.jsx(u,{children:"-"}),t.jsx(u,{className:"text-right",children:t.jsxs("div",{className:"flex gap-1 justify-end",children:[t.jsx(b,{size:"icon",variant:"ghost",className:"text-green-600 hover:text-green-700 hover:bg-green-100",onClick:Os,disabled:_,children:t.jsx(ss,{className:"h-4 w-4"})}),t.jsx(b,{size:"icon",variant:"ghost",className:"text-gray-600 hover:text-gray-700",onClick:Ps,disabled:_,children:t.jsx(as,{className:"h-4 w-4"})})]})})]}),K=a.data.length===0&&!f?t.jsx(_t,{children:t.jsxs(u,{colSpan:11+Te.length,className:"text-center py-8",children:[t.jsx("p",{className:"text-gray-500",children:"No fee structures found"}),t.jsx(b,{variant:"link",className:"mt-2",onClick:Gt,children:"Add your first fee structure"})]})}):a.data.map(s=>{const i=x===s.id;return t.jsxs(_t,{className:i?"bg-blue-50":"",children:[t.jsx(u,{children:i?t.jsxs(be,{value:m.category,onValueChange:o=>g(N=>({...N,category:o})),children:[t.jsx(Ce,{className:"w-[130px] h-8",children:t.jsx(Se,{})}),t.jsx(Ne,{children:Object.entries(n).map(ba)})]}):va(s.category,n)}),t.jsx(u,{children:i?t.jsxs(be,{value:m.class_range,onValueChange:o=>g(N=>({...N,class_range:o})),children:[t.jsx(Ce,{className:"w-[120px] h-8",children:t.jsx(Se,{})}),t.jsx(Ne,{children:Object.entries(d).map(Na)})]}):d[s.class_range]||s.class_range}),t.jsx(u,{className:"text-right",children:i?t.jsx(v,{type:"number",value:m.registration_fee??0,onChange:o=>O("registration_fee",o.target.value),className:"w-20 text-right h-8"}):E(s.registration_fee)}),t.jsx(u,{className:"text-right",children:i?t.jsx(v,{type:"number",value:m.admission_fee??0,onChange:o=>O("admission_fee",o.target.value),className:"w-20 text-right h-8"}):E(s.admission_fee)}),t.jsx(u,{className:"text-right",children:i?t.jsx(v,{type:"number",value:m.security_deposit??0,onChange:o=>O("security_deposit",o.target.value),className:"w-20 text-right h-8"}):E(s.security_deposit)}),t.jsx(u,{className:"text-right",children:i?t.jsx(v,{type:"number",value:m.annual_fee??0,onChange:o=>O("annual_fee",o.target.value),className:"w-20 text-right h-8"}):E(s.annual_fee)}),t.jsx(u,{className:"text-right",children:i?t.jsx(v,{type:"number",value:m.tuition_fee??0,onChange:o=>O("tuition_fee",o.target.value),className:"w-20 text-right h-8"}):E(s.tuition_fee)}),t.jsx(u,{className:"text-right",children:i?t.jsx(v,{type:"number",value:m.computer_fee??0,onChange:o=>O("computer_fee",o.target.value),className:"w-20 text-right h-8"}):E(s.computer_fee)}),t.jsx(u,{className:"text-right",children:i?t.jsx(v,{type:"number",value:m.science_fee??0,onChange:o=>O("science_fee",o.target.value),className:"w-20 text-right h-8"}):E(s.science_fee)}),Te.map(o=>t.jsx(u,{className:"text-right",children:i?t.jsx(v,{type:"number",value:m.other_fees?.[o.key]??0,onChange:N=>Ds(o.key,N.target.value),className:"w-20 text-right h-8"}):E(s.other_fees?.[o.key]||0)},o.id)),t.jsx(u,{children:t.jsx(Hs,{checked:s.is_active,onCheckedChange:()=>Fs(s.id),disabled:i})}),t.jsx(u,{className:"text-right",children:t.jsx("div",{className:"flex gap-1 justify-end",children:i?t.jsxs(t.Fragment,{children:[t.jsx(b,{size:"icon",variant:"ghost",className:"text-green-600 hover:text-green-700 hover:bg-green-50",onClick:()=>Is(s.id),disabled:_,children:t.jsx(ss,{className:"h-4 w-4"})}),t.jsx(b,{size:"icon",variant:"ghost",className:"text-gray-600 hover:text-gray-700",onClick:Ts,disabled:_,children:t.jsx(as,{className:"h-4 w-4"})})]}):t.jsxs(t.Fragment,{children:[t.jsx(b,{size:"icon",variant:"ghost",onClick:()=>As(s),disabled:x!==null||f,children:t.jsx(ra,{className:"h-4 w-4"})}),t.jsxs(Bt,{children:[t.jsx(Lt,{asChild:!0,children:t.jsx(b,{size:"icon",variant:"ghost",className:"text-red-600 hover:text-red-700",disabled:x!==null||f,children:t.jsx(ts,{className:"h-4 w-4"})})}),t.jsxs(zt,{children:[t.jsxs(Ht,{children:[t.jsx($t,{children:"Delete Fee Structure?"}),t.jsxs(qt,{children:["This will permanently delete the fee structure for ",n[s.category]," - ",d[s.class_range],"."]})]}),t.jsxs(Kt,{children:[t.jsx(Ut,{children:"Cancel"}),t.jsx(Xt,{onClick:()=>ks(s.id),className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})]})]})})})]},s.id)}),e[1]=n,e[2]=d,e[3]=m,e[4]=x,e[5]=a.data,e[6]=a.total,e[7]=c,e[8]=l,e[9]=we,e[10]=f,e[11]=Re,e[12]=j,e[13]=h,e[14]=_,e[15]=M,e[16]=V,e[17]=B,e[18]=L,e[19]=z,e[20]=H,e[21]=$,e[22]=A,e[23]=q,e[24]=K,e[25]=U,e[26]=X,e[27]=T,e[28]=Y,e[29]=D,e[30]=I}else V=e[16],B=e[17],L=e[18],z=e[19],H=e[20],$=e[21],A=e[22],q=e[23],K=e[24],U=e[25],X=e[26],T=e[27],Y=e[28],D=e[29],I=e[30];let W;e[136]!==V||e[137]!==q||e[138]!==K?(W=t.jsxs(V,{children:[q,K]}),e[136]=V,e[137]=q,e[138]=K,e[139]=W):W=e[139];let J;e[140]!==B||e[141]!==W||e[142]!==U?(J=t.jsxs(B,{children:[U,W]}),e[140]=B,e[141]=W,e[142]=U,e[143]=J):J=e[143];let Q;e[144]!==J||e[145]!==X?(Q=t.jsx("div",{className:X,children:J}),e[144]=J,e[145]=X,e[146]=Q):Q=e[146];let Z;e[147]!==a.last_page||e[148]!==a.links?(Z=a.last_page>1&&t.jsx("div",{className:"flex items-center justify-center gap-2 mt-6",children:a.links.map(_a)}),e[147]=a.last_page,e[148]=a.links,e[149]=Z):Z=e[149];let ee;e[150]!==L||e[151]!==Q||e[152]!==Z?(ee=t.jsxs(L,{children:[Q,Z]}),e[150]=L,e[151]=Q,e[152]=Z,e[153]=ee):ee=e[153];let te;e[154]!==z||e[155]!==ee||e[156]!==T?(te=t.jsxs(z,{children:[T,ee]}),e[154]=z,e[155]=ee,e[156]=T,e[157]=te):te=e[157];let se;e[158]!==te||e[159]!==Y||e[160]!==D||e[161]!==I?(se=t.jsxs("div",{className:Y,children:[D,I,te]}),e[158]=te,e[159]=Y,e[160]=D,e[161]=I,e[162]=se):se=e[162];let Ae;return e[163]!==H||e[164]!==$||e[165]!==A||e[166]!==se?(Ae=t.jsxs(H,{breadcrumbs:$,children:[A,se]}),e[163]=H,e[164]=$,e[165]=A,e[166]=se,e[167]=Ae):Ae=e[167],Ae}function _a(r,e){return t.jsx(b,{variant:r.active?"default":"outline",size:"sm",disabled:!r.url,onClick:()=>r.url&&k.get(r.url),dangerouslySetInnerHTML:{__html:r.label}},e)}function Na(r){const[e,a]=r;return t.jsx(P,{value:e,children:a},e)}function ba(r){const[e,a]=r;return t.jsx(P,{value:e,children:a},e)}function Ca(r){const[e,a]=r;return t.jsx(P,{value:e,children:a},e)}function Sa(r){const[e,a]=r;return t.jsx(P,{value:e,children:a},e)}function wa(r){return t.jsx(w,{className:"text-right",children:t.jsxs("span",{title:r.description||r.name,children:[r.name,r.type==="recurring"&&"/mo"]})},r.id)}function Ra(r){const[e,a]=r;return t.jsx(P,{value:e,children:a},e)}function Fa(r){const[e,a]=r;return t.jsx(P,{value:e,children:a},e)}function ka(r){k.delete(`/admin/fee-types/${r}`,{preserveState:!0,preserveScroll:!0})}function Aa(r){k.post(`/admin/fee-types/${r}/toggle-active`,{},{preserveState:!0,preserveScroll:!0})}function Ta(r){console.error("Failed to create fee type:",r)}function Da(r){console.error("Failed to create fee structure:",r)}function Ia(r){console.error("Failed to update fee structure:",r)}function Ea(r){k.delete(`/admin/fee-structures/${r}`)}function Pa(r){k.post(`/admin/fee-structures/${r}/toggle-active`,{},{preserveState:!0})}function Oa(r){return r.is_active}export{Dr as default};
