import{c as Je,u as Ke,r as Te,j as t,a as Qe,H as We,L as Ye}from"./app-lLew-mq0.js";import{A as Ze}from"./app-layout-KzQEyLiQ.js";import{B as Y}from"./button-DTZ67Z4b.js";import{I as d}from"./input-C9VfnsW_.js";import{L as c}from"./label-BTNSqOD-.js";import{T as qe}from"./textarea-Bf0Ya8pK.js";import{S as et}from"./switch-CGXN52OW.js";import{d as ke,C as Pe,a as De,b as He,c as Ie}from"./card-DWcOyhKP.js";import{c as tt,d as st,S as it,b as at,a as lt}from"./select-QGsFE1Nt.js";import{A as rt,a as ot,b as nt}from"./avatar-DYrdvPax.js";import{U as ct}from"./user-Bo55nJGb.js";import{X as mt}from"./x-CV1yhBJZ.js";import{A as dt}from"./arrow-left-Bw3DDjFc.js";import{P as pt}from"./plus-e9gYXact.js";import{U as ht}from"./upload-BrYG0zcL.js";import{S as ft}from"./save-D77rFDZ-.js";/* empty css            */import"./index-BiNrCjIr.js";import"./index-CMRMG5Mo.js";import"./index-B9jue-Th.js";import"./index-CZQ422QV.js";import"./Combination-BEW_kzWa.js";import"./index-BzAksq8r.js";import"./index-BOY9t191.js";import"./index-CxACbU5U.js";import"./index-C7YjzNVQ.js";import"./index-DI1PiJH0.js";import"./index-CbiHmYlh.js";import"./index-DTTikWjI.js";import"./index-DHA2i0B2.js";import"./image-CHvhAmHJ.js";import"./link-D-JBfegL.js";import"./quote-DLUiA_F1.js";import"./newspaper-D3mdqZcT.js";import"./megaphone-BG2hP5oS.js";import"./indian-rupee-Bj1qYK0P.js";import"./file-check-UDYRRxCK.js";import"./folder-l-97kfum.js";import"./handshake-V1wEucA7.js";import"./school-BjNRgEiN.js";import"./index-t_bT_gQV.js";import"./chevron-up-Bv-H0xE7.js";import"./check-DGLhpy4l.js";import"./index-BTFUtR64.js";const xt=[{title:"Dashboard",href:"/dashboard"},{title:"Committees",href:"/admin/committees"},{title:"Create",href:"/admin/committees/create"}];function ut(p){return p?p.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2):"M"}function ns(p){const e=Je.c(143),{types:Me}=p;let Z;e[0]===Symbol.for("react.memo_cache_sentinel")?(Z={name:"",type:"smc",description:"",session:"",functions:"",image:null,is_active:!0,order:0},e[0]=Z):Z=e[0];const{data:s,setData:r,processing:ee,errors:h}=Ke(Z);let te;e[1]===Symbol.for("react.memo_cache_sentinel")?(te=[],e[1]=te):te=e[1];const[n,se]=Te.useState(te),[f,Oe]=Te.useState(null),Ve=Te.useRef(null);let ie;e[2]!==s.description||e[3]!==s.functions||e[4]!==s.image||e[5]!==s.is_active||e[6]!==s.name||e[7]!==s.order||e[8]!==s.session||e[9]!==s.type||e[10]!==n?(ie=i=>{i.preventDefault();const l=new FormData;l.append("name",s.name),l.append("type",s.type),l.append("description",s.description),l.append("session",s.session),l.append("functions",s.functions),l.append("is_active",s.is_active?"1":"0"),l.append("order",s.order.toString()),s.image&&l.append("image",s.image),n.forEach((a,o)=>{l.append(`members[${o}][name]`,a.name),l.append(`members[${o}][designation]`,a.designation),l.append(`members[${o}][role]`,a.role),l.append(`members[${o}][email]`,a.email),l.append(`members[${o}][phone]`,a.phone),l.append(`members[${o}][organization]`,a.organization),l.append(`members[${o}][bio]`,a.bio),l.append(`members[${o}][order]`,o.toString()),a.photo&&l.append(`members[${o}][photo]`,a.photo)}),Qe.post("/admin/committees",l,{forceFormData:!0})},e[2]=s.description,e[3]=s.functions,e[4]=s.image,e[5]=s.is_active,e[6]=s.name,e[7]=s.order,e[8]=s.session,e[9]=s.type,e[10]=n,e[11]=ie):ie=e[11];const Re=ie;let ae;e[12]!==r?(ae=i=>{const l=i.target.files?.[0];if(l){r("image",l);const a=new FileReader;a.onloadend=()=>{Oe(a.result)},a.readAsDataURL(l)}},e[12]=r,e[13]=ae):ae=e[13];const ze=ae;let le;e[14]!==n?(le=()=>{se([...n,{id:Math.random().toString(36).slice(2),name:"",designation:"",role:"",email:"",phone:"",organization:"",bio:"",photo:null,photoPreview:null}])},e[14]=n,e[15]=le):le=e[15];const Le=le;let re;e[16]!==n?(re=i=>{se(n.filter(l=>l.id!==i))},e[16]=n,e[17]=re):re=e[17];const $e=re;let oe;e[18]!==n?(oe=(i,l,a)=>{se(n.map(o=>{if(o.id!==i)return o;if(l==="photo"&&a instanceof File){const Be=new FileReader;return Be.onloadend=()=>{se(Ge=>Ge.map(Ee=>Ee.id===i?{...Ee,photo:a,photoPreview:Be.result}:Ee))},Be.readAsDataURL(a),{...o,photo:a}}return{...o,[l]:a}}))},e[18]=n,e[19]=oe):oe=e[19];const m=oe;let ne;e[20]===Symbol.for("react.memo_cache_sentinel")?(ne=t.jsx(We,{title:"Create Committee - APS Alwar Admin"}),e[20]=ne):ne=e[20];let ce;e[21]===Symbol.for("react.memo_cache_sentinel")?(ce=t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(Y,{variant:"ghost",size:"icon",asChild:!0,children:t.jsx(Ye,{href:"/admin/committees",children:t.jsx(dt,{className:"h-4 w-4"})})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Create Committee"}),t.jsx("p",{className:"text-muted-foreground",children:"Add a new committee with its members."})]})]}),e[21]=ce):ce=e[21];let me;e[22]===Symbol.for("react.memo_cache_sentinel")?(me=t.jsxs(Pe,{children:[t.jsx(De,{children:"Committee Details"}),t.jsx(He,{children:"Basic information about the committee."})]}),e[22]=me):me=e[22];let de;e[23]===Symbol.for("react.memo_cache_sentinel")?(de=t.jsx(c,{htmlFor:"name",children:"Committee Name *"}),e[23]=de):de=e[23];let x;e[24]!==r?(x=i=>r("name",i.target.value),e[24]=r,e[25]=x):x=e[25];let u;e[26]!==s.name||e[27]!==x?(u=t.jsx(d,{id:"name",value:s.name,onChange:x,placeholder:"e.g., School Management Committee",required:!0}),e[26]=s.name,e[27]=x,e[28]=u):u=e[28];let j;e[29]!==h.name?(j=h.name&&t.jsx("p",{className:"text-sm text-destructive",children:h.name}),e[29]=h.name,e[30]=j):j=e[30];let g;e[31]!==u||e[32]!==j?(g=t.jsxs("div",{className:"space-y-2",children:[de,u,j]}),e[31]=u,e[32]=j,e[33]=g):g=e[33];let pe;e[34]===Symbol.for("react.memo_cache_sentinel")?(pe=t.jsx(c,{htmlFor:"type",children:"Type *"}),e[34]=pe):pe=e[34];const Xe=s.type;let v;e[35]!==r?(v=i=>r("type",i),e[35]=r,e[36]=v):v=e[36];let he;e[37]===Symbol.for("react.memo_cache_sentinel")?(he=t.jsx(tt,{children:t.jsx(st,{placeholder:"Select type"})}),e[37]=he):he=e[37];let b;e[38]!==Me?(b=Me.map(jt),e[38]=Me,e[39]=b):b=e[39];let y;e[40]!==b?(y=t.jsx(it,{children:b}),e[40]=b,e[41]=y):y=e[41];let N;e[42]!==s.type||e[43]!==v||e[44]!==y?(N=t.jsxs(at,{value:Xe,onValueChange:v,children:[he,y]}),e[42]=s.type,e[43]=v,e[44]=y,e[45]=N):N=e[45];let C;e[46]!==h.type?(C=h.type&&t.jsx("p",{className:"text-sm text-destructive",children:h.type}),e[46]=h.type,e[47]=C):C=e[47];let S;e[48]!==N||e[49]!==C?(S=t.jsxs("div",{className:"space-y-2",children:[pe,N,C]}),e[48]=N,e[49]=C,e[50]=S):S=e[50];let _;e[51]!==g||e[52]!==S?(_=t.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[g,S]}),e[51]=g,e[52]=S,e[53]=_):_=e[53];let fe;e[54]===Symbol.for("react.memo_cache_sentinel")?(fe=t.jsx(c,{htmlFor:"session",children:"Session"}),e[54]=fe):fe=e[54];let w;e[55]!==r?(w=i=>r("session",i.target.value),e[55]=r,e[56]=w):w=e[56];let A;e[57]!==s.session||e[58]!==w?(A=t.jsxs("div",{className:"space-y-2",children:[fe,t.jsx(d,{id:"session",value:s.session,onChange:w,placeholder:"e.g., 2024-25"})]}),e[57]=s.session,e[58]=w,e[59]=A):A=e[59];let xe;e[60]===Symbol.for("react.memo_cache_sentinel")?(xe=t.jsx(c,{htmlFor:"description",children:"Description"}),e[60]=xe):xe=e[60];let F;e[61]!==r?(F=i=>r("description",i.target.value),e[61]=r,e[62]=F):F=e[62];let k;e[63]!==s.description||e[64]!==F?(k=t.jsxs("div",{className:"space-y-2",children:[xe,t.jsx(qe,{id:"description",value:s.description,onChange:F,placeholder:"Brief description of the committee's purpose...",rows:3})]}),e[63]=s.description,e[64]=F,e[65]=k):k=e[65];let ue;e[66]===Symbol.for("react.memo_cache_sentinel")?(ue=t.jsx(c,{htmlFor:"functions",children:"Functions (one per line)"}),e[66]=ue):ue=e[66];let P;e[67]!==r?(P=i=>r("functions",i.target.value),e[67]=r,e[68]=P):P=e[68];let D;e[69]!==s.functions||e[70]!==P?(D=t.jsx(qe,{id:"functions",value:s.functions,onChange:P,placeholder:"Enter each function on a new line...",rows:4}),e[69]=s.functions,e[70]=P,e[71]=D):D=e[71];let je;e[72]===Symbol.for("react.memo_cache_sentinel")?(je=t.jsx("p",{className:"text-xs text-muted-foreground",children:"List the key responsibilities and functions of this committee."}),e[72]=je):je=e[72];let I;e[73]!==D?(I=t.jsxs("div",{className:"space-y-2",children:[ue,D,je]}),e[73]=D,e[74]=I):I=e[74];let M;e[75]!==_||e[76]!==A||e[77]!==k||e[78]!==I?(M=t.jsxs(Ie,{children:[me,t.jsxs(ke,{className:"space-y-4",children:[_,A,k,I]})]}),e[75]=_,e[76]=A,e[77]=k,e[78]=I,e[79]=M):M=e[79];let ge;e[80]===Symbol.for("react.memo_cache_sentinel")?(ge=t.jsxs("div",{children:[t.jsx(De,{children:"Committee Members"}),t.jsx(He,{children:"Add members to this committee."})]}),e[80]=ge):ge=e[80];let ve;e[81]===Symbol.for("react.memo_cache_sentinel")?(ve=t.jsx(pt,{className:"mr-2 h-4 w-4"}),e[81]=ve):ve=e[81];let R;e[82]!==Le?(R=t.jsx(Pe,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[ge,t.jsxs(Y,{type:"button",onClick:Le,variant:"outline",size:"sm",children:[ve,"Add Member"]})]})}),e[82]=Le,e[83]=R):R=e[83];let z;e[84]!==n||e[85]!==$e||e[86]!==m?(z=t.jsx(ke,{children:n.length===0?t.jsxs("div",{className:"text-center py-8 text-muted-foreground border-2 border-dashed rounded-lg",children:[t.jsx(ct,{className:"h-10 w-10 mx-auto mb-3 opacity-50"}),t.jsx("p",{className:"font-medium",children:"No members added yet"}),t.jsx("p",{className:"text-sm",children:'Click "Add Member" to start adding committee members.'})]}):t.jsx("div",{className:"space-y-6",children:n.map((i,l)=>t.jsxs("div",{className:"relative border rounded-lg p-4 bg-muted/30",children:[t.jsx(Y,{type:"button",variant:"ghost",size:"icon",className:"absolute top-2 right-2 h-6 w-6",onClick:()=>$e(i.id),children:t.jsx(mt,{className:"h-4 w-4"})}),t.jsxs("div",{className:"flex gap-4 mb-4",children:[t.jsxs("div",{className:"flex flex-col items-center gap-2",children:[t.jsxs(rt,{className:"h-16 w-16",children:[i.photoPreview?t.jsx(ot,{src:i.photoPreview}):null,t.jsx(nt,{className:"bg-amber-100 text-amber-700",children:ut(i.name)})]}),t.jsxs("label",{className:"cursor-pointer",children:[t.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:a=>{const o=a.target.files?.[0];o&&m(i.id,"photo",o)}}),t.jsx("span",{className:"text-xs text-primary hover:underline",children:"Upload Photo"})]})]}),t.jsxs("div",{className:"flex-1 grid gap-3 sm:grid-cols-2",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsx(c,{className:"text-xs",children:"Name *"}),t.jsx(d,{value:i.name,onChange:a=>m(i.id,"name",a.target.value),placeholder:"Full name",required:!0})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(c,{className:"text-xs",children:"Designation *"}),t.jsx(d,{value:i.designation,onChange:a=>m(i.id,"designation",a.target.value),placeholder:"e.g., Chairman, Member",required:!0})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(c,{className:"text-xs",children:"Role"}),t.jsx(d,{value:i.role,onChange:a=>m(i.id,"role",a.target.value),placeholder:"e.g., Parent Representative"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(c,{className:"text-xs",children:"Organization"}),t.jsx(d,{value:i.organization,onChange:a=>m(i.id,"organization",a.target.value),placeholder:"Company or institution"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(c,{className:"text-xs",children:"Email"}),t.jsx(d,{type:"email",value:i.email,onChange:a=>m(i.id,"email",a.target.value),placeholder:"email@example.com"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(c,{className:"text-xs",children:"Phone"}),t.jsx(d,{value:i.phone,onChange:a=>m(i.id,"phone",a.target.value),placeholder:"+91 98765 43210"})]})]})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(c,{className:"text-xs",children:"Bio"}),t.jsx(qe,{value:i.bio,onChange:a=>m(i.id,"bio",a.target.value),placeholder:"Brief background about this member...",rows:2})]})]},i.id))})}),e[84]=n,e[85]=$e,e[86]=m,e[87]=z):z=e[87];let L;e[88]!==R||e[89]!==z?(L=t.jsxs(Ie,{children:[R,z]}),e[88]=R,e[89]=z,e[90]=L):L=e[90];let $;e[91]!==M||e[92]!==L?($=t.jsxs("div",{className:"space-y-6 lg:col-span-2",children:[M,L]}),e[91]=M,e[92]=L,e[93]=$):$=e[93];let be;e[94]===Symbol.for("react.memo_cache_sentinel")?(be=t.jsx(Pe,{children:t.jsx(De,{children:"Publish"})}),e[94]=be):be=e[94];let ye;e[95]===Symbol.for("react.memo_cache_sentinel")?(ye=t.jsx(c,{htmlFor:"is_active",children:"Active"}),e[95]=ye):ye=e[95];let U;e[96]!==r?(U=i=>r("is_active",i),e[96]=r,e[97]=U):U=e[97];let B;e[98]!==s.is_active||e[99]!==U?(B=t.jsxs("div",{className:"flex items-center justify-between",children:[ye,t.jsx(et,{id:"is_active",checked:s.is_active,onCheckedChange:U})]}),e[98]=s.is_active,e[99]=U,e[100]=B):B=e[100];let Ne;e[101]===Symbol.for("react.memo_cache_sentinel")?(Ne=t.jsx("p",{className:"text-xs text-muted-foreground",children:"Inactive committees won't be visible on the website."}),e[101]=Ne):Ne=e[101];let Ce;e[102]===Symbol.for("react.memo_cache_sentinel")?(Ce=t.jsx(c,{htmlFor:"order",children:"Display Order"}),e[102]=Ce):Ce=e[102];let E;e[103]!==r?(E=i=>r("order",parseInt(i.target.value)||0),e[103]=r,e[104]=E):E=e[104];let T;e[105]!==s.order||e[106]!==E?(T=t.jsx(d,{id:"order",type:"number",value:s.order,onChange:E,min:0}),e[105]=s.order,e[106]=E,e[107]=T):T=e[107];let Se;e[108]===Symbol.for("react.memo_cache_sentinel")?(Se=t.jsx("p",{className:"text-xs text-muted-foreground",children:"Lower numbers appear first."}),e[108]=Se):Se=e[108];let q;e[109]!==T?(q=t.jsxs("div",{className:"space-y-2",children:[Ce,T,Se]}),e[109]=T,e[110]=q):q=e[110];let H;e[111]!==B||e[112]!==q?(H=t.jsxs(Ie,{children:[be,t.jsxs(ke,{className:"space-y-4",children:[B,Ne,q]})]}),e[111]=B,e[112]=q,e[113]=H):H=e[113];let _e;e[114]===Symbol.for("react.memo_cache_sentinel")?(_e=t.jsxs(Pe,{children:[t.jsx(De,{children:"Committee Image"}),t.jsx(He,{children:"Optional banner image for the committee."})]}),e[114]=_e):_e=e[114];let we;e[115]===Symbol.for("react.memo_cache_sentinel")?(we=()=>Ve.current?.click(),e[115]=we):we=e[115];let O;e[116]!==f?(O=f?t.jsx("img",{src:f,alt:"Preview",className:"max-h-40 mx-auto rounded-lg"}):t.jsxs(t.Fragment,{children:[t.jsx(ht,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Click to upload image"})]}),e[116]=f,e[117]=O):O=e[117];let V;e[118]!==ze?(V=t.jsx("input",{ref:Ve,type:"file",accept:"image/*",className:"hidden",onChange:ze}),e[118]=ze,e[119]=V):V=e[119];let X;e[120]!==O||e[121]!==V?(X=t.jsxs("div",{className:"border-2 border-dashed rounded-lg p-6 text-center cursor-pointer hover:bg-muted/50 transition-colors",onClick:we,children:[O,V]}),e[120]=O,e[121]=V,e[122]=X):X=e[122];let G;e[123]!==f||e[124]!==r?(G=f&&t.jsx(Y,{type:"button",variant:"ghost",size:"sm",className:"mt-2 w-full",onClick:()=>{r("image",null),Oe(null)},children:"Remove Image"}),e[123]=f,e[124]=r,e[125]=G):G=e[125];let J;e[126]!==X||e[127]!==G?(J=t.jsxs(Ie,{children:[_e,t.jsxs(ke,{children:[X,G]})]}),e[126]=X,e[127]=G,e[128]=J):J=e[128];let Ae;e[129]===Symbol.for("react.memo_cache_sentinel")?(Ae=t.jsx(ft,{className:"mr-2 h-4 w-4"}),e[129]=Ae):Ae=e[129];const Ue=ee?"Creating...":"Create Committee";let K;e[130]!==ee||e[131]!==Ue?(K=t.jsxs(Y,{type:"submit",className:"w-full bg-amber-600 hover:bg-amber-700",disabled:ee,children:[Ae,Ue]}),e[130]=ee,e[131]=Ue,e[132]=K):K=e[132];let Q;e[133]!==H||e[134]!==J||e[135]!==K?(Q=t.jsxs("div",{className:"space-y-6",children:[H,J,K]}),e[133]=H,e[134]=J,e[135]=K,e[136]=Q):Q=e[136];let W;e[137]!==$||e[138]!==Q?(W=t.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[$,Q]}),e[137]=$,e[138]=Q,e[139]=W):W=e[139];let Fe;return e[140]!==Re||e[141]!==W?(Fe=t.jsxs(Ze,{breadcrumbs:xt,children:[ne,t.jsxs("div",{className:"flex flex-col gap-6 p-6",children:[ce,t.jsx("form",{onSubmit:Re,children:W})]})]}),e[140]=Re,e[141]=W,e[142]=Fe):Fe=e[142],Fe}function jt(p){return t.jsx(lt,{value:p.value,children:p.label},p.value)}export{ns as default};
