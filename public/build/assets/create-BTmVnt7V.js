import{c as pt,u as ut,j as t,H as jt,L as ht}from"./app-lLew-mq0.js";import{A as _t}from"./app-layout-KzQEyLiQ.js";import{B as Re}from"./button-DTZ67Z4b.js";import{I as de}from"./input-C9VfnsW_.js";import{L as r}from"./label-BTNSqOD-.js";import{T as yt}from"./textarea-Bf0Ya8pK.js";import{S as xt}from"./switch-CGXN52OW.js";import{S as nt,b as ct,c as ot,d as mt,a as c}from"./select-QGsFE1Nt.js";import{C as $e,a as Je,b as dt,c as qe,d as Ke}from"./card-DWcOyhKP.js";import{B as gt}from"./badge-CUnar9Fe.js";import{P as ft}from"./paperclip--ToHxv-H.js";import{X as vt}from"./x-CV1yhBJZ.js";import{A as bt}from"./arrow-left-Bw3DDjFc.js";import{L as Nt}from"./link-D-JBfegL.js";import{L as St}from"./loader-circle-BZ_66dYJ.js";import{S as Ct}from"./save-D77rFDZ-.js";/* empty css            */import"./index-BiNrCjIr.js";import"./index-CMRMG5Mo.js";import"./index-B9jue-Th.js";import"./index-CZQ422QV.js";import"./Combination-BEW_kzWa.js";import"./index-BzAksq8r.js";import"./index-BOY9t191.js";import"./index-CxACbU5U.js";import"./index-C7YjzNVQ.js";import"./index-DI1PiJH0.js";import"./index-CbiHmYlh.js";import"./index-DTTikWjI.js";import"./avatar-DYrdvPax.js";import"./index-BTFUtR64.js";import"./index-DHA2i0B2.js";import"./image-CHvhAmHJ.js";import"./quote-DLUiA_F1.js";import"./newspaper-D3mdqZcT.js";import"./megaphone-BG2hP5oS.js";import"./indian-rupee-Bj1qYK0P.js";import"./file-check-UDYRRxCK.js";import"./folder-l-97kfum.js";import"./handshake-V1wEucA7.js";import"./school-BjNRgEiN.js";import"./index-t_bT_gQV.js";import"./chevron-up-Bv-H0xE7.js";import"./check-DGLhpy4l.js";const wt=[{title:"Dashboard",href:"/dashboard"},{title:"Announcements",href:"/admin/announcements"},{title:"Create",href:"/admin/announcements/create"}],kt={critical:"bg-red-100 border-l-4 border-l-red-500",high:"bg-orange-100 border-l-4 border-l-orange-500",medium:"bg-yellow-100 border-l-4 border-l-yellow-500",low:"bg-green-100 border-l-4 border-l-green-500"};function gs(me){const e=pt.c(188),{types:n,priorities:Qe}=me;let he;e[0]===Symbol.for("react.memo_cache_sentinel")?(he=new Date().toISOString().slice(0,10),e[0]=he):he=e[0];let xe;e[1]===Symbol.for("react.memo_cache_sentinel")?(xe={title:"",content:"",type:"general",priority:"medium",is_active:!0,show_in_ticker:!1,start_date:he,end_date:"",target_audience:"all",link:"",attachment:null},e[1]=xe):xe=e[1];const{data:l,setData:i,post:Ue,processing:o,errors:s}=ut(xe);let fe;e[2]!==Ue?(fe=a=>{a.preventDefault(),Ue("/admin/announcements",{forceFormData:!0})},e[2]=Ue,e[3]=fe):fe=e[3];const We=fe;let pe;e[4]!==i?(pe=a=>{a.target.files&&a.target.files[0]&&i("attachment",a.target.files[0])},e[4]=i,e[5]=pe):pe=e[5];const Ye=pe;let ue;e[6]!==i?(ue=()=>{i("attachment",null)},e[6]=i,e[7]=ue):ue=e[7];const Ze=ue;let je;e[8]===Symbol.for("react.memo_cache_sentinel")?(je=t.jsx(jt,{title:"Create Announcement - APS Alwar Admin"}),e[8]=je):je=e[8];let _e;e[9]===Symbol.for("react.memo_cache_sentinel")?(_e=t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(Re,{variant:"ghost",size:"icon",asChild:!0,children:t.jsx(ht,{href:"/admin/announcements",children:t.jsx(bt,{className:"h-4 w-4"})})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Create Announcement"}),t.jsx("p",{className:"text-muted-foreground",children:"Add a new announcement or notice."})]})]}),e[9]=_e):_e=e[9];let ye;e[10]===Symbol.for("react.memo_cache_sentinel")?(ye=t.jsxs($e,{children:[t.jsx(Je,{children:"Announcement Details"}),t.jsx(dt,{children:"Enter the announcement information."})]}),e[10]=ye):ye=e[10];let ge;e[11]===Symbol.for("react.memo_cache_sentinel")?(ge=t.jsx(r,{htmlFor:"title",children:"Title *"}),e[11]=ge):ge=e[11];let m;e[12]!==i?(m=a=>i("title",a.target.value),e[12]=i,e[13]=m):m=e[13];const et=s.title?"border-destructive":"";let d;e[14]!==l.title||e[15]!==m||e[16]!==et?(d=t.jsx(de,{id:"title",value:l.title,onChange:m,placeholder:"Enter announcement title",className:et}),e[14]=l.title,e[15]=m,e[16]=et,e[17]=d):d=e[17];let h;e[18]!==s.title?(h=s.title&&t.jsx("p",{className:"text-sm text-destructive",children:s.title}),e[18]=s.title,e[19]=h):h=e[19];let x;e[20]!==d||e[21]!==h?(x=t.jsxs("div",{className:"space-y-2",children:[ge,d,h]}),e[20]=d,e[21]=h,e[22]=x):x=e[22];let ve;e[23]===Symbol.for("react.memo_cache_sentinel")?(ve=t.jsx(r,{htmlFor:"type",children:"Type *"}),e[23]=ve):ve=e[23];let f;e[24]!==i?(f=a=>i("type",a),e[24]=i,e[25]=f):f=e[25];let be;e[26]===Symbol.for("react.memo_cache_sentinel")?(be=t.jsx(ot,{children:t.jsx(mt,{placeholder:"Select type"})}),e[26]=be):be=e[26];let p;e[27]!==n?(p=t.jsx(nt,{children:Object.entries(n).map(Ft)}),e[27]=n,e[28]=p):p=e[28];let u;e[29]!==l.type||e[30]!==f||e[31]!==p?(u=t.jsxs(ct,{value:l.type,onValueChange:f,children:[be,p]}),e[29]=l.type,e[30]=f,e[31]=p,e[32]=u):u=e[32];let j;e[33]!==s.type?(j=s.type&&t.jsx("p",{className:"text-sm text-destructive",children:s.type}),e[33]=s.type,e[34]=j):j=e[34];let _;e[35]!==u||e[36]!==j?(_=t.jsxs("div",{className:"space-y-2",children:[ve,u,j]}),e[35]=u,e[36]=j,e[37]=_):_=e[37];let Ne;e[38]===Symbol.for("react.memo_cache_sentinel")?(Ne=t.jsx(r,{htmlFor:"target_audience",children:"Target Audience"}),e[38]=Ne):Ne=e[38];let y;e[39]!==i?(y=a=>i("target_audience",a),e[39]=i,e[40]=y):y=e[40];let Se;e[41]===Symbol.for("react.memo_cache_sentinel")?(Se=t.jsx(ot,{children:t.jsx(mt,{placeholder:"Select audience"})}),e[41]=Se):Se=e[41];let Ce;e[42]===Symbol.for("react.memo_cache_sentinel")?(Ce=t.jsxs(nt,{children:[t.jsx(c,{value:"all",children:"All"}),t.jsx(c,{value:"students",children:"Students"}),t.jsx(c,{value:"parents",children:"Parents"}),t.jsx(c,{value:"teachers",children:"Teachers"}),t.jsx(c,{value:"staff",children:"Staff"})]}),e[42]=Ce):Ce=e[42];let g;e[43]!==l.target_audience||e[44]!==y?(g=t.jsxs(ct,{value:l.target_audience,onValueChange:y,children:[Se,Ce]}),e[43]=l.target_audience,e[44]=y,e[45]=g):g=e[45];let v;e[46]!==s.target_audience?(v=s.target_audience&&t.jsx("p",{className:"text-sm text-destructive",children:s.target_audience}),e[46]=s.target_audience,e[47]=v):v=e[47];let b;e[48]!==g||e[49]!==v?(b=t.jsxs("div",{className:"space-y-2",children:[Ne,g,v]}),e[48]=g,e[49]=v,e[50]=b):b=e[50];let N;e[51]!==_||e[52]!==b?(N=t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_,b]}),e[51]=_,e[52]=b,e[53]=N):N=e[53];let we;e[54]===Symbol.for("react.memo_cache_sentinel")?(we=t.jsx(r,{htmlFor:"content",children:"Content *"}),e[54]=we):we=e[54];let S;e[55]!==i?(S=a=>i("content",a.target.value),e[55]=i,e[56]=S):S=e[56];const tt=s.content?"border-destructive":"";let C;e[57]!==l.content||e[58]!==S||e[59]!==tt?(C=t.jsx(yt,{id:"content",value:l.content,onChange:S,placeholder:"Enter announcement content...",rows:8,className:tt}),e[57]=l.content,e[58]=S,e[59]=tt,e[60]=C):C=e[60];let w;e[61]!==s.content?(w=s.content&&t.jsx("p",{className:"text-sm text-destructive",children:s.content}),e[61]=s.content,e[62]=w):w=e[62];let k;e[63]!==C||e[64]!==w?(k=t.jsxs("div",{className:"space-y-2",children:[we,C,w]}),e[63]=C,e[64]=w,e[65]=k):k=e[65];let A;e[66]!==x||e[67]!==N||e[68]!==k?(A=t.jsxs(qe,{children:[ye,t.jsxs(Ke,{className:"space-y-4",children:[x,N,k]})]}),e[66]=x,e[67]=N,e[68]=k,e[69]=A):A=e[69];let ke;e[70]===Symbol.for("react.memo_cache_sentinel")?(ke=t.jsxs($e,{children:[t.jsx(Je,{children:"Schedule"}),t.jsx(dt,{children:"Set when the announcement should be visible."})]}),e[70]=ke):ke=e[70];let Ae;e[71]===Symbol.for("react.memo_cache_sentinel")?(Ae=t.jsx(r,{htmlFor:"start_date",children:"Start Date *"}),e[71]=Ae):Ae=e[71];let F;e[72]!==i?(F=a=>i("start_date",a.target.value),e[72]=i,e[73]=F):F=e[73];const st=s.start_date?"border-destructive":"";let D;e[74]!==l.start_date||e[75]!==F||e[76]!==st?(D=t.jsx(de,{id:"start_date",type:"date",value:l.start_date,onChange:F,className:st}),e[74]=l.start_date,e[75]=F,e[76]=st,e[77]=D):D=e[77];let L;e[78]!==s.start_date?(L=s.start_date&&t.jsx("p",{className:"text-sm text-destructive",children:s.start_date}),e[78]=s.start_date,e[79]=L):L=e[79];let P;e[80]!==D||e[81]!==L?(P=t.jsxs("div",{className:"space-y-2",children:[Ae,D,L]}),e[80]=D,e[81]=L,e[82]=P):P=e[82];let Fe;e[83]===Symbol.for("react.memo_cache_sentinel")?(Fe=t.jsx(r,{htmlFor:"end_date",children:"End Date"}),e[83]=Fe):Fe=e[83];let T;e[84]!==i?(T=a=>i("end_date",a.target.value),e[84]=i,e[85]=T):T=e[85];const lt=s.end_date?"border-destructive":"";let E;e[86]!==l.end_date||e[87]!==T||e[88]!==lt?(E=t.jsx(de,{id:"end_date",type:"date",value:l.end_date,onChange:T,className:lt}),e[86]=l.end_date,e[87]=T,e[88]=lt,e[89]=E):E=e[89];let B;e[90]!==s.end_date?(B=s.end_date&&t.jsx("p",{className:"text-sm text-destructive",children:s.end_date}),e[90]=s.end_date,e[91]=B):B=e[91];let De;e[92]===Symbol.for("react.memo_cache_sentinel")?(De=t.jsx("p",{className:"text-xs text-muted-foreground",children:"Leave empty for no expiry."}),e[92]=De):De=e[92];let O;e[93]!==E||e[94]!==B?(O=t.jsxs("div",{className:"space-y-2",children:[Fe,E,B,De]}),e[93]=E,e[94]=B,e[95]=O):O=e[95];let X;e[96]!==P||e[97]!==O?(X=t.jsxs(qe,{children:[ke,t.jsx(Ke,{className:"space-y-4",children:t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[P,O]})})]}),e[96]=P,e[97]=O,e[98]=X):X=e[98];let Le;e[99]===Symbol.for("react.memo_cache_sentinel")?(Le=t.jsxs($e,{children:[t.jsx(Je,{children:"Attachments"}),t.jsx(dt,{children:"Add a file attachment or external link to this announcement."})]}),e[99]=Le):Le=e[99];let Pe;e[100]===Symbol.for("react.memo_cache_sentinel")?(Pe=t.jsxs(r,{htmlFor:"link",className:"flex items-center gap-2",children:[t.jsx(Nt,{className:"h-4 w-4"}),"External Link"]}),e[100]=Pe):Pe=e[100];let I;e[101]!==i?(I=a=>i("link",a.target.value),e[101]=i,e[102]=I):I=e[102];const it=s.link?"border-destructive":"";let V;e[103]!==l.link||e[104]!==I||e[105]!==it?(V=t.jsx(de,{id:"link",type:"url",value:l.link,onChange:I,placeholder:"https://example.com/document",className:it}),e[103]=l.link,e[104]=I,e[105]=it,e[106]=V):V=e[106];let z;e[107]!==s.link?(z=s.link&&t.jsx("p",{className:"text-sm text-destructive",children:s.link}),e[107]=s.link,e[108]=z):z=e[108];let Te;e[109]===Symbol.for("react.memo_cache_sentinel")?(Te=t.jsx("p",{className:"text-xs text-muted-foreground",children:"Add a link to Google Drive, Dropbox, or any external resource."}),e[109]=Te):Te=e[109];let G;e[110]!==V||e[111]!==z?(G=t.jsxs("div",{className:"space-y-2",children:[Pe,V,z,Te]}),e[110]=V,e[111]=z,e[112]=G):G=e[112];let Ee;e[113]===Symbol.for("react.memo_cache_sentinel")?(Ee=t.jsxs(r,{htmlFor:"attachment",className:"flex items-center gap-2",children:[t.jsx(ft,{className:"h-4 w-4"}),"File Attachment"]}),e[113]=Ee):Ee=e[113];const at=s.attachment?"border-destructive":"";let H;e[114]!==Ye||e[115]!==at?(H=t.jsx(de,{id:"attachment",type:"file",accept:".pdf,.doc,.docx,.xls,.xlsx,.jpg,.jpeg,.png",onChange:Ye,className:at}),e[114]=Ye,e[115]=at,e[116]=H):H=e[116];let M;e[117]!==s.attachment?(M=s.attachment&&t.jsx("p",{className:"text-sm text-destructive",children:s.attachment}),e[117]=s.attachment,e[118]=M):M=e[118];let Be;e[119]===Symbol.for("react.memo_cache_sentinel")?(Be=t.jsx("p",{className:"text-xs text-muted-foreground",children:"Allowed: PDF, DOC, DOCX, XLS, XLSX, JPG, PNG (max 10MB)"}),e[119]=Be):Be=e[119];let R;e[120]!==H||e[121]!==M?(R=t.jsxs("div",{className:"space-y-2",children:[Ee,H,M,Be]}),e[120]=H,e[121]=M,e[122]=R):R=e[122];let $;e[123]!==l.attachment||e[124]!==Ze?($=l.attachment&&t.jsxs("div",{className:"flex items-center justify-between rounded-lg border bg-muted/50 p-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ft,{className:"h-4 w-4 text-muted-foreground"}),t.jsx("span",{className:"text-sm font-medium truncate max-w-xs",children:l.attachment.name}),t.jsxs(gt,{variant:"outline",className:"text-xs",children:[(l.attachment.size/1024/1024).toFixed(2)," MB"]})]}),t.jsx(Re,{type:"button",variant:"ghost",size:"icon",onClick:Ze,children:t.jsx(vt,{className:"h-4 w-4"})})]}),e[123]=l.attachment,e[124]=Ze,e[125]=$):$=e[125];let J;e[126]!==G||e[127]!==R||e[128]!==$?(J=t.jsxs(qe,{children:[Le,t.jsxs(Ke,{className:"space-y-4",children:[G,R,$]})]}),e[126]=G,e[127]=R,e[128]=$,e[129]=J):J=e[129];let q;e[130]!==A||e[131]!==X||e[132]!==J?(q=t.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[A,X,J]}),e[130]=A,e[131]=X,e[132]=J,e[133]=q):q=e[133];let Oe;e[134]===Symbol.for("react.memo_cache_sentinel")?(Oe=t.jsx($e,{children:t.jsx(Je,{children:"Priority & Status"})}),e[134]=Oe):Oe=e[134];let Xe;e[135]===Symbol.for("react.memo_cache_sentinel")?(Xe=t.jsx(r,{htmlFor:"priority",children:"Priority Level *"}),e[135]=Xe):Xe=e[135];let K;e[136]!==i?(K=a=>i("priority",a),e[136]=i,e[137]=K):K=e[137];let Ie;e[138]===Symbol.for("react.memo_cache_sentinel")?(Ie=t.jsx(ot,{children:t.jsx(mt,{placeholder:"Select priority"})}),e[138]=Ie):Ie=e[138];let Q;e[139]!==Qe?(Q=t.jsx(nt,{children:Object.entries(Qe).map(At)}),e[139]=Qe,e[140]=Q):Q=e[140];let U;e[141]!==l.priority||e[142]!==K||e[143]!==Q?(U=t.jsxs(ct,{value:l.priority,onValueChange:K,children:[Ie,Q]}),e[141]=l.priority,e[142]=K,e[143]=Q,e[144]=U):U=e[144];let W;e[145]!==s.priority?(W=s.priority&&t.jsx("p",{className:"text-sm text-destructive",children:s.priority}),e[145]=s.priority,e[146]=W):W=e[146];let Y;e[147]!==U||e[148]!==W?(Y=t.jsxs("div",{className:"space-y-2",children:[Xe,U,W]}),e[147]=U,e[148]=W,e[149]=Y):Y=e[149];const rt=`p-3 rounded-lg ${kt[l.priority]}`;let Ve;e[150]===Symbol.for("react.memo_cache_sentinel")?(Ve=t.jsx("p",{className:"text-sm font-medium",children:"Preview:"}),e[150]=Ve):Ve=e[150];let Z;e[151]!==l.priority?(Z=t.jsxs("p",{className:"text-sm text-muted-foreground",children:["This is how the announcement will appear with ",l.priority," priority."]}),e[151]=l.priority,e[152]=Z):Z=e[152];let ee;e[153]!==rt||e[154]!==Z?(ee=t.jsxs("div",{className:rt,children:[Ve,Z]}),e[153]=rt,e[154]=Z,e[155]=ee):ee=e[155];let ze;e[156]===Symbol.for("react.memo_cache_sentinel")?(ze=t.jsxs("div",{children:[t.jsx(r,{htmlFor:"is_active",children:"Active"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Show this announcement"})]}),e[156]=ze):ze=e[156];let te;e[157]!==i?(te=a=>i("is_active",a),e[157]=i,e[158]=te):te=e[158];let se;e[159]!==l.is_active||e[160]!==te?(se=t.jsxs("div",{className:"flex items-center justify-between pt-2",children:[ze,t.jsx(xt,{id:"is_active",checked:l.is_active,onCheckedChange:te})]}),e[159]=l.is_active,e[160]=te,e[161]=se):se=e[161];let Ge;e[162]===Symbol.for("react.memo_cache_sentinel")?(Ge=t.jsxs("div",{children:[t.jsx(r,{htmlFor:"show_in_ticker",children:"Show in Ticker"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Display in scrolling ticker"})]}),e[162]=Ge):Ge=e[162];let le;e[163]!==i?(le=a=>i("show_in_ticker",a),e[163]=i,e[164]=le):le=e[164];let ie;e[165]!==l.show_in_ticker||e[166]!==le?(ie=t.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[Ge,t.jsx(xt,{id:"show_in_ticker",checked:l.show_in_ticker,onCheckedChange:le})]}),e[165]=l.show_in_ticker,e[166]=le,e[167]=ie):ie=e[167];let ae;e[168]!==Y||e[169]!==ee||e[170]!==se||e[171]!==ie?(ae=t.jsxs(qe,{children:[Oe,t.jsxs(Ke,{className:"space-y-4",children:[Y,ee,se,ie]})]}),e[168]=Y,e[169]=ee,e[170]=se,e[171]=ie,e[172]=ae):ae=e[172];let re;e[173]!==o?(re=o?t.jsxs(t.Fragment,{children:[t.jsx(St,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Ct,{className:"mr-2 h-4 w-4"}),"Create Announcement"]}),e[173]=o,e[174]=re):re=e[174];let ne;e[175]!==o||e[176]!==re?(ne=t.jsx(Re,{type:"submit",disabled:o,className:"bg-amber-600 hover:bg-amber-700",children:re}),e[175]=o,e[176]=re,e[177]=ne):ne=e[177];let He;e[178]===Symbol.for("react.memo_cache_sentinel")?(He=t.jsx(Re,{type:"button",variant:"outline",asChild:!0,children:t.jsx(ht,{href:"/admin/announcements",children:"Cancel"})}),e[178]=He):He=e[178];let ce;e[179]!==ne?(ce=t.jsxs("div",{className:"flex flex-col gap-2",children:[ne,He]}),e[179]=ne,e[180]=ce):ce=e[180];let oe;e[181]!==ae||e[182]!==ce?(oe=t.jsxs("div",{className:"space-y-6",children:[ae,ce]}),e[181]=ae,e[182]=ce,e[183]=oe):oe=e[183];let Me;return e[184]!==We||e[185]!==q||e[186]!==oe?(Me=t.jsxs(_t,{breadcrumbs:wt,children:[je,t.jsxs("div",{className:"flex flex-col gap-6 p-6",children:[_e,t.jsxs("form",{onSubmit:We,className:"grid gap-6 lg:grid-cols-3",children:[q,oe]})]})]}),e[184]=We,e[185]=q,e[186]=oe,e[187]=Me):Me=e[187],Me}function At(me){const[e,n]=me;return t.jsx(c,{value:e,children:n},e)}function Ft(me){const[e,n]=me;return t.jsx(c,{value:e,children:n},e)}export{gs as default};
