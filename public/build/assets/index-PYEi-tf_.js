import{c as Ne,j as s,L as xe,a as J,H as _e}from"./app-lLew-mq0.js";import{A as ve}from"./app-layout-KzQEyLiQ.js";import{B as T}from"./button-DTZ67Z4b.js";import{b as le,c as A,C as ae,a as re,d as pe}from"./card-DWcOyhKP.js";import{B as ie}from"./badge-CUnar9Fe.js";import{c as ce,d as ne,a as n,S as oe,b as de}from"./select-QGsFE1Nt.js";import{A as ye,a as Se,b as Ce,c as Ae,d as Te,e as we,f as De,g as Re,h as Pe}from"./alert-dialog-fuDA2Sgs.js";import{b as me,e as i,a as Be,c,T as Ee,d as He}from"./table-C0gRaZsl.js";import{G as je,U as Ie,A as ze,T as Fe}from"./x-CV1yhBJZ.js";import{E as Le}from"./eye-off-CqhjnCEj.js";import{E as fe}from"./eye-Bcj5dXTF.js";import{S as Ue}from"./square-pen-DN8IncVt.js";import{T as Ve}from"./trash-2-BgucR-O9.js";import{P as Xe}from"./plus-e9gYXact.js";import{T as $e}from"./trending-up-DfL8VYEu.js";/* empty css            */import"./index-BiNrCjIr.js";import"./index-CMRMG5Mo.js";import"./index-B9jue-Th.js";import"./index-CZQ422QV.js";import"./Combination-BEW_kzWa.js";import"./index-BzAksq8r.js";import"./index-BOY9t191.js";import"./index-CxACbU5U.js";import"./index-C7YjzNVQ.js";import"./index-DI1PiJH0.js";import"./index-CbiHmYlh.js";import"./index-DTTikWjI.js";import"./avatar-DYrdvPax.js";import"./index-BTFUtR64.js";import"./index-DHA2i0B2.js";import"./image-CHvhAmHJ.js";import"./link-D-JBfegL.js";import"./quote-DLUiA_F1.js";import"./newspaper-D3mdqZcT.js";import"./megaphone-BG2hP5oS.js";import"./indian-rupee-Bj1qYK0P.js";import"./file-check-UDYRRxCK.js";import"./folder-l-97kfum.js";import"./handshake-V1wEucA7.js";import"./school-BjNRgEiN.js";import"./index-t_bT_gQV.js";import"./chevron-up-Bv-H0xE7.js";import"./check-DGLhpy4l.js";function Us(l){const e=Ne.c(69),{results:a,years:K,filters:o}=l;let w;e[0]===Symbol.for("react.memo_cache_sentinel")?(w=[{title:"Dashboard",href:"/dashboard"},{title:"Board Results",href:"/admin/board-results"}],e[0]=w):w=e[0];const ue=w;let D;e[1]!==o?(D=(t,he)=>{J.get("/admin/board-results",{...o,[t]:he==="all"?null:he},{preserveState:!0,preserveScroll:!0})},e[1]=o,e[2]=D):D=e[2];const r=D,be=Oe,ge=qe,Q=a.total;let R;e[3]!==a.data?(R=a.data.filter(Me),e[3]=a.data,e[4]=R):R=e[4];const W=R.length;let P;e[5]!==a.data?(P=a.data.length>0?(a.data.reduce(Ge,0)/a.data.length).toFixed(1):"0",e[5]=a.data,e[6]=P):P=e[6];const Z=P;let B;e[7]===Symbol.for("react.memo_cache_sentinel")?(B=s.jsx(_e,{title:"Board Results"}),e[7]=B):B=e[7];let E;e[8]===Symbol.for("react.memo_cache_sentinel")?(E=s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[s.jsx(Fe,{className:"h-6 w-6 text-amber-500"}),"Board Results"]}),s.jsx("p",{className:"text-gray-500",children:"Manage CBSE board examination results"})]}),e[8]=E):E=e[8];let H;e[9]===Symbol.for("react.memo_cache_sentinel")?(H=s.jsxs("div",{className:"flex items-center justify-between",children:[E,s.jsx(T,{asChild:!0,children:s.jsxs(xe,{href:"/admin/board-results/create",children:[s.jsx(Xe,{className:"h-4 w-4 mr-2"}),"Add Result"]})})]}),e[9]=H):H=e[9];let I;e[10]===Symbol.for("react.memo_cache_sentinel")?(I=s.jsx(le,{children:"Total Records"}),e[10]=I):I=e[10];let z;e[11]===Symbol.for("react.memo_cache_sentinel")?(z=s.jsx(je,{className:"h-5 w-5 text-blue-500"}),e[11]=z):z=e[11];let d;e[12]!==Q?(d=s.jsx(A,{children:s.jsxs(ae,{className:"pb-2",children:[I,s.jsxs(re,{className:"text-2xl flex items-center gap-2",children:[z,Q]})]})}),e[12]=Q,e[13]=d):d=e[13];let F;e[14]===Symbol.for("react.memo_cache_sentinel")?(F=s.jsx(le,{children:"Published"}),e[14]=F):F=e[14];let L;e[15]===Symbol.for("react.memo_cache_sentinel")?(L=s.jsx(fe,{className:"h-5 w-5 text-green-500"}),e[15]=L):L=e[15];let m;e[16]!==W?(m=s.jsx(A,{children:s.jsxs(ae,{className:"pb-2",children:[F,s.jsxs(re,{className:"text-2xl flex items-center gap-2",children:[L,W]})]})}),e[16]=W,e[17]=m):m=e[17];let U;e[18]===Symbol.for("react.memo_cache_sentinel")?(U=s.jsx(le,{children:"Avg Pass Rate"}),e[18]=U):U=e[18];let V;e[19]===Symbol.for("react.memo_cache_sentinel")?(V=s.jsx($e,{className:"h-5 w-5 text-amber-500"}),e[19]=V):V=e[19];let h;e[20]!==Z?(h=s.jsx(A,{children:s.jsxs(ae,{className:"pb-2",children:[U,s.jsxs(re,{className:"text-2xl flex items-center gap-2",children:[V,Z,"%"]})]})}),e[20]=Z,e[21]=h):h=e[21];let x;e[22]!==d||e[23]!==m||e[24]!==h?(x=s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d,m,h]}),e[22]=d,e[23]=m,e[24]=h,e[25]=x):x=e[25];const ee=o.year||"all";let p;e[26]!==r?(p=t=>r("year",t),e[26]=r,e[27]=p):p=e[27];let X;e[28]===Symbol.for("react.memo_cache_sentinel")?(X=s.jsx(ce,{className:"w-40",children:s.jsx(ne,{placeholder:"Academic Year"})}),e[28]=X):X=e[28];let $;e[29]===Symbol.for("react.memo_cache_sentinel")?($=s.jsx(n,{value:"all",children:"All Years"}),e[29]=$):$=e[29];let j;e[30]!==K?(j=K.map(Ye),e[30]=K,e[31]=j):j=e[31];let f;e[32]!==j?(f=s.jsxs(oe,{children:[$,j]}),e[32]=j,e[33]=f):f=e[33];let u;e[34]!==ee||e[35]!==p||e[36]!==f?(u=s.jsxs(de,{value:ee,onValueChange:p,children:[X,f]}),e[34]=ee,e[35]=p,e[36]=f,e[37]=u):u=e[37];const se=o.class||"all";let b;e[38]!==r?(b=t=>r("class",t),e[38]=r,e[39]=b):b=e[39];let k;e[40]===Symbol.for("react.memo_cache_sentinel")?(k=s.jsx(ce,{className:"w-40",children:s.jsx(ne,{placeholder:"Class"})}),e[40]=k):k=e[40];let Y;e[41]===Symbol.for("react.memo_cache_sentinel")?(Y=s.jsxs(oe,{children:[s.jsx(n,{value:"all",children:"All Classes"}),s.jsx(n,{value:"X",children:"Class X"}),s.jsx(n,{value:"XII",children:"Class XII"})]}),e[41]=Y):Y=e[41];let g;e[42]!==se||e[43]!==b?(g=s.jsxs(de,{value:se,onValueChange:b,children:[k,Y]}),e[42]=se,e[43]=b,e[44]=g):g=e[44];const te=o.published||"all";let N;e[45]!==r?(N=t=>r("published",t),e[45]=r,e[46]=N):N=e[46];let G;e[47]===Symbol.for("react.memo_cache_sentinel")?(G=s.jsx(ce,{className:"w-40",children:s.jsx(ne,{placeholder:"Status"})}),e[47]=G):G=e[47];let M;e[48]===Symbol.for("react.memo_cache_sentinel")?(M=s.jsxs(oe,{children:[s.jsx(n,{value:"all",children:"All Status"}),s.jsx(n,{value:"1",children:"Published"}),s.jsx(n,{value:"0",children:"Draft"})]}),e[48]=M):M=e[48];let _;e[49]!==te||e[50]!==N?(_=s.jsxs(de,{value:te,onValueChange:N,children:[G,M]}),e[49]=te,e[50]=N,e[51]=_):_=e[51];let v;e[52]!==u||e[53]!==g||e[54]!==_?(v=s.jsx(A,{children:s.jsx(pe,{className:"p-4",children:s.jsxs("div",{className:"flex flex-wrap gap-4",children:[u,g,_]})})}),e[52]=u,e[53]=g,e[54]=_,e[55]=v):v=e[55];let q;e[56]===Symbol.for("react.memo_cache_sentinel")?(q=s.jsx(Be,{children:s.jsxs(me,{children:[s.jsx(c,{children:"Year"}),s.jsx(c,{children:"Class"}),s.jsx(c,{className:"text-center",children:"Students"}),s.jsx(c,{className:"text-center",children:"Pass %"}),s.jsx(c,{className:"text-center",children:"Distinction"}),s.jsx(c,{children:"Topper"}),s.jsx(c,{className:"text-center",children:"Status"}),s.jsx(c,{className:"text-right",children:"Actions"})]})}),e[56]=q):q=e[56];let y;e[57]!==a.data?(y=a.data.length===0?s.jsx(me,{children:s.jsx(i,{colSpan:8,className:"text-center py-8 text-gray-500",children:"No board results found. Add your first result."})}):a.data.map(t=>s.jsxs(me,{children:[s.jsx(i,{className:"font-medium",children:t.academic_year}),s.jsx(i,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(je,{className:"h-4 w-4 text-gray-400"}),"Class ",t.class,t.stream&&s.jsx(ie,{variant:"outline",className:"text-xs",children:t.stream})]})}),s.jsx(i,{className:"text-center",children:s.jsxs("div",{className:"flex items-center justify-center gap-1",children:[s.jsx(Ie,{className:"h-4 w-4 text-gray-400"}),t.passed,"/",t.appeared]})}),s.jsx(i,{className:"text-center",children:s.jsxs(ie,{className:t.pass_percentage>=90?"bg-green-100 text-green-800":t.pass_percentage>=75?"bg-blue-100 text-blue-800":"bg-amber-100 text-amber-800",children:[t.pass_percentage,"%"]})}),s.jsx(i,{className:"text-center",children:t.above_90_percent!==null?s.jsxs("div",{className:"flex items-center justify-center gap-1",children:[s.jsx(ze,{className:"h-4 w-4 text-amber-500"}),t.above_90_percent]}):s.jsx("span",{className:"text-gray-400",children:"-"})}),s.jsx(i,{children:t.overall_topper_name?s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-sm",children:t.overall_topper_name}),t.overall_topper_percentage&&s.jsxs("div",{className:"text-xs text-amber-600 font-semibold",children:[t.overall_topper_percentage,"%"]})]}):s.jsx("span",{className:"text-gray-400 text-sm",children:"Not set"})}),s.jsx(i,{className:"text-center",children:s.jsx(ie,{variant:t.is_published?"default":"secondary",children:t.is_published?"Published":"Draft"})}),s.jsx(i,{className:"text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx(T,{variant:"ghost",size:"icon",onClick:()=>be(t),title:t.is_published?"Unpublish":"Publish",children:t.is_published?s.jsx(Le,{className:"h-4 w-4"}):s.jsx(fe,{className:"h-4 w-4"})}),s.jsx(T,{variant:"ghost",size:"icon",asChild:!0,children:s.jsx(xe,{href:`/admin/board-results/${t.id}/edit`,children:s.jsx(Ue,{className:"h-4 w-4"})})}),s.jsxs(ye,{children:[s.jsx(Se,{asChild:!0,children:s.jsx(T,{variant:"ghost",size:"icon",className:"text-red-600",children:s.jsx(Ve,{className:"h-4 w-4"})})}),s.jsxs(Ce,{children:[s.jsxs(Ae,{children:[s.jsx(Te,{children:"Delete Result?"}),s.jsxs(we,{children:["This will permanently delete the ",t.academic_year," Class ",t.class," result. This action cannot be undone."]})]}),s.jsxs(De,{children:[s.jsx(Re,{children:"Cancel"}),s.jsx(Pe,{onClick:()=>ge(t),className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})]})]})})]},t.id)),e[57]=a.data,e[58]=y):y=e[58];let S;e[59]!==y?(S=s.jsx(A,{children:s.jsx(pe,{className:"p-0",children:s.jsxs(Ee,{children:[q,s.jsx(He,{children:y})]})})}),e[59]=y,e[60]=S):S=e[60];let C;e[61]!==a.last_page||e[62]!==a.links?(C=a.last_page>1&&s.jsx("div",{className:"flex items-center justify-center gap-2",children:a.links.map(ke)}),e[61]=a.last_page,e[62]=a.links,e[63]=C):C=e[63];let O;return e[64]!==x||e[65]!==v||e[66]!==S||e[67]!==C?(O=s.jsxs(ve,{breadcrumbs:ue,children:[B,s.jsxs("div",{className:"space-y-6 p-6",children:[H,x,v,S,C]})]}),e[64]=x,e[65]=v,e[66]=S,e[67]=C,e[68]=O):O=e[68],O}function ke(l,e){return s.jsx(T,{variant:l.active?"default":"outline",size:"sm",disabled:!l.url,onClick:()=>l.url&&J.get(l.url),dangerouslySetInnerHTML:{__html:l.label}},e)}function Ye(l){return s.jsx(n,{value:l,children:l},l)}function Ge(l,e){return l+parseFloat(String(e.pass_percentage))}function Me(l){return l.is_published}function qe(l){J.delete(`/admin/board-results/${l.id}`,{preserveScroll:!0})}function Oe(l){J.post(`/admin/board-results/${l.id}/toggle-publish`,{},{preserveScroll:!0})}export{Us as default};
