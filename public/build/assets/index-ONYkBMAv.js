import{c as R,r as F,j as t,L as I,a as k,H as q}from"./app-lLew-mq0.js";import{A as G}from"./app-layout-KzQEyLiQ.js";import{B as u}from"./button-DTZ67Z4b.js";import{I as J}from"./input-C9VfnsW_.js";import{B as L}from"./badge-CUnar9Fe.js";import{b as P,e as p,a as K,c as f,T as O,d as Q}from"./table-C0gRaZsl.js";import{c as U,d as W,S as X,a as T,b as Y}from"./select-QGsFE1Nt.js";import{A as Z,a as ee,b as te,c as se,d as re,e as ae,f as le,g as ie,h as ne}from"./alert-dialog-fuDA2Sgs.js";import{E as oe}from"./eye-Bcj5dXTF.js";import{S as ce}from"./square-pen-DN8IncVt.js";import{T as de}from"./trash-2-BgucR-O9.js";import{P as me}from"./plus-e9gYXact.js";import{S as he}from"./search-D9utk87M.js";import{F as xe}from"./filter-DIBLFJE5.js";/* empty css            */import"./index-BiNrCjIr.js";import"./index-CMRMG5Mo.js";import"./index-B9jue-Th.js";import"./index-CZQ422QV.js";import"./Combination-BEW_kzWa.js";import"./index-BzAksq8r.js";import"./index-BOY9t191.js";import"./index-CxACbU5U.js";import"./x-CV1yhBJZ.js";import"./index-C7YjzNVQ.js";import"./index-DI1PiJH0.js";import"./index-CbiHmYlh.js";import"./index-DTTikWjI.js";import"./avatar-DYrdvPax.js";import"./index-BTFUtR64.js";import"./index-DHA2i0B2.js";import"./image-CHvhAmHJ.js";import"./link-D-JBfegL.js";import"./quote-DLUiA_F1.js";import"./newspaper-D3mdqZcT.js";import"./megaphone-BG2hP5oS.js";import"./indian-rupee-Bj1qYK0P.js";import"./file-check-UDYRRxCK.js";import"./folder-l-97kfum.js";import"./handshake-V1wEucA7.js";import"./school-BjNRgEiN.js";import"./index-t_bT_gQV.js";import"./chevron-up-Bv-H0xE7.js";import"./check-DGLhpy4l.js";const pe=[{title:"Dashboard",href:"/dashboard"},{title:"News",href:"/admin/news"}],ue={draft:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300",published:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",archived:"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300"};function ct(a){const e=R.c(39),{items:s,filters:B}=a,[l,M]=F.useState(B.search||""),[i,z]=F.useState(B.status||"all");let g;e[0]!==l||e[1]!==i?(g=r=>{r.preventDefault(),k.get("/admin/news",{search:l,status:i!=="all"?i:void 0},{preserveState:!0,preserveScroll:!0})},e[0]=l,e[1]=i,e[2]=g):g=e[2];const E=g;let j;e[3]!==l?(j=r=>{z(r),k.get("/admin/news",{search:l,status:r!=="all"?r:void 0},{preserveState:!0,preserveScroll:!0})},e[3]=l,e[4]=j):j=e[4];const H=j,V=je,$=ge;let b;e[5]===Symbol.for("react.memo_cache_sentinel")?(b=t.jsx(q,{title:"News Management - APS Alwar Admin"}),e[5]=b):b=e[5];let N;e[6]===Symbol.for("react.memo_cache_sentinel")?(N=t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"News Management"}),t.jsx("p",{className:"text-muted-foreground",children:"Manage news articles and updates for the school website."})]}),e[6]=N):N=e[6];let w;e[7]===Symbol.for("react.memo_cache_sentinel")?(w=t.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[N,t.jsx(u,{asChild:!0,className:"bg-amber-600 hover:bg-amber-700",children:t.jsxs(I,{href:"/admin/news/create",children:[t.jsx(me,{className:"mr-2 h-4 w-4"}),"Add News"]})})]}),e[7]=w):w=e[7];let S;e[8]===Symbol.for("react.memo_cache_sentinel")?(S=t.jsx(he,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),e[8]=S):S=e[8];let v;e[9]===Symbol.for("react.memo_cache_sentinel")?(v=r=>M(r.target.value),e[9]=v):v=e[9];let n;e[10]!==l?(n=t.jsxs("div",{className:"relative flex-1 max-w-sm",children:[S,t.jsx(J,{placeholder:"Search news...",value:l,onChange:v,className:"pl-9"})]}),e[10]=l,e[11]=n):n=e[11];let _;e[12]===Symbol.for("react.memo_cache_sentinel")?(_=t.jsx(u,{type:"submit",variant:"secondary",children:"Search"}),e[12]=_):_=e[12];let o;e[13]!==E||e[14]!==n?(o=t.jsxs("form",{onSubmit:E,className:"flex flex-1 gap-2",children:[n,_]}),e[13]=E,e[14]=n,e[15]=o):o=e[15];let y;e[16]===Symbol.for("react.memo_cache_sentinel")?(y=t.jsxs(U,{className:"w-[150px]",children:[t.jsx(xe,{className:"mr-2 h-4 w-4"}),t.jsx(W,{placeholder:"Status"})]}),e[16]=y):y=e[16];let A;e[17]===Symbol.for("react.memo_cache_sentinel")?(A=t.jsxs(X,{children:[t.jsx(T,{value:"all",children:"All Status"}),t.jsx(T,{value:"draft",children:"Draft"}),t.jsx(T,{value:"published",children:"Published"}),t.jsx(T,{value:"archived",children:"Archived"})]}),e[17]=A):A=e[17];let c;e[18]!==H||e[19]!==i?(c=t.jsxs(Y,{value:i,onValueChange:H,children:[y,A]}),e[18]=H,e[19]=i,e[20]=c):c=e[20];let d;e[21]!==o||e[22]!==c?(d=t.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center",children:[o,c]}),e[21]=o,e[22]=c,e[23]=d):d=e[23];let D;e[24]===Symbol.for("react.memo_cache_sentinel")?(D=t.jsx(K,{children:t.jsxs(P,{children:[t.jsx(f,{className:"w-[40%]",children:"Title"}),t.jsx(f,{children:"Status"}),t.jsx(f,{children:"Featured"}),t.jsx(f,{children:"Published"}),t.jsx(f,{className:"text-right",children:"Actions"})]})}),e[24]=D):D=e[24];let m;e[25]!==s.data?(m=s.data.length===0?t.jsx(P,{children:t.jsx(p,{colSpan:5,className:"text-center py-8 text-muted-foreground",children:"No news articles found."})}):s.data.map(r=>t.jsxs(P,{children:[t.jsx(p,{children:t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:r.title}),r.excerpt&&t.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1",children:r.excerpt})]})}),t.jsx(p,{children:t.jsx(L,{className:ue[r.status],children:r.status})}),t.jsx(p,{children:r.is_featured?t.jsx(L,{variant:"outline",className:"text-amber-600 border-amber-600",children:"Featured"}):t.jsx("span",{className:"text-muted-foreground",children:"-"})}),t.jsx(p,{children:$(r.published_at)}),t.jsx(p,{className:"text-right",children:t.jsxs("div",{className:"flex items-center justify-end gap-1",children:[t.jsx(u,{variant:"ghost",size:"icon",asChild:!0,title:"View",children:t.jsxs(I,{href:`/admin/news/${r.id}`,children:[t.jsx(oe,{className:"h-4 w-4 text-blue-600"}),t.jsx("span",{className:"sr-only",children:"View"})]})}),t.jsx(u,{variant:"ghost",size:"icon",asChild:!0,title:"Edit",children:t.jsxs(I,{href:`/admin/news/${r.id}/edit`,children:[t.jsx(ce,{className:"h-4 w-4 text-amber-600"}),t.jsx("span",{className:"sr-only",children:"Edit"})]})}),t.jsxs(Z,{children:[t.jsx(ee,{asChild:!0,children:t.jsxs(u,{variant:"ghost",size:"icon",title:"Delete",children:[t.jsx(de,{className:"h-4 w-4 text-destructive"}),t.jsx("span",{className:"sr-only",children:"Delete"})]})}),t.jsxs(te,{children:[t.jsxs(se,{children:[t.jsx(re,{children:"Delete News Article"}),t.jsxs(ae,{children:['Are you sure you want to delete "',r.title,'"? This action cannot be undone.']})]}),t.jsxs(le,{children:[t.jsx(ie,{children:"Cancel"}),t.jsx(ne,{onClick:()=>V(r.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})]})]})})]},r.id)),e[25]=s.data,e[26]=m):m=e[26];let h;e[27]!==m?(h=t.jsx("div",{className:"rounded-lg border bg-card",children:t.jsxs(O,{children:[D,t.jsx(Q,{children:m})]})}),e[27]=m,e[28]=h):h=e[28];let x;e[29]!==s.current_page||e[30]!==s.last_page||e[31]!==s.links||e[32]!==s.per_page||e[33]!==s.total?(x=s.last_page>1&&t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",(s.current_page-1)*s.per_page+1," to"," ",Math.min(s.current_page*s.per_page,s.total)," of ",s.total," results"]}),t.jsx("div",{className:"flex gap-2",children:s.links.map(fe)})]}),e[29]=s.current_page,e[30]=s.last_page,e[31]=s.links,e[32]=s.per_page,e[33]=s.total,e[34]=x):x=e[34];let C;return e[35]!==d||e[36]!==h||e[37]!==x?(C=t.jsxs(G,{breadcrumbs:pe,children:[b,t.jsxs("div",{className:"flex flex-col gap-6 p-6",children:[w,d,h,x]})]}),e[35]=d,e[36]=h,e[37]=x,e[38]=C):C=e[38],C}function fe(a,e){return t.jsx(u,{variant:a.active?"default":"outline",size:"sm",disabled:!a.url,onClick:()=>a.url&&k.get(a.url),dangerouslySetInnerHTML:{__html:a.label}},e)}function ge(a){return a?new Date(a).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"-"}function je(a){k.delete(`/admin/news/${a}`,{preserveScroll:!0})}export{ct as default};
