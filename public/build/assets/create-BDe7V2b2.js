import{c as je,r as ne,u as _e,j as t,H as ye,L as ge}from"./app-lLew-mq0.js";import{A as be}from"./app-layout-KzQEyLiQ.js";import{B as de}from"./button-DTZ67Z4b.js";import{C as oe,a as ce,c as Z,d as ee}from"./card-DWcOyhKP.js";import{I as fe}from"./input-C9VfnsW_.js";import{L as te}from"./label-BTNSqOD-.js";import{S as Ne,b as Se,c as ve,d as Ce,a as De}from"./select-QGsFE1Nt.js";import{S as we}from"./switch-CGXN52OW.js";import{A as Fe}from"./arrow-left-Bw3DDjFc.js";import{U as he}from"./upload-BrYG0zcL.js";import{S as Ae}from"./save-D77rFDZ-.js";/* empty css            */import"./index-BiNrCjIr.js";import"./index-CMRMG5Mo.js";import"./index-B9jue-Th.js";import"./index-CZQ422QV.js";import"./Combination-BEW_kzWa.js";import"./index-BzAksq8r.js";import"./index-BOY9t191.js";import"./index-CxACbU5U.js";import"./x-CV1yhBJZ.js";import"./index-C7YjzNVQ.js";import"./index-DI1PiJH0.js";import"./index-CbiHmYlh.js";import"./index-DTTikWjI.js";import"./avatar-DYrdvPax.js";import"./index-BTFUtR64.js";import"./index-DHA2i0B2.js";import"./image-CHvhAmHJ.js";import"./link-D-JBfegL.js";import"./quote-DLUiA_F1.js";import"./newspaper-D3mdqZcT.js";import"./megaphone-BG2hP5oS.js";import"./indian-rupee-Bj1qYK0P.js";import"./file-check-UDYRRxCK.js";import"./folder-l-97kfum.js";import"./handshake-V1wEucA7.js";import"./school-BjNRgEiN.js";import"./index-t_bT_gQV.js";import"./chevron-up-Bv-H0xE7.js";import"./check-DGLhpy4l.js";function _t(se){const e=je.c(88),{categories:k}=se,[L,pe]=ne.useState(null),me=ne.useRef(null);let I;e[0]===Symbol.for("react.memo_cache_sentinel")?(I=[{title:"Dashboard",href:"/admin"},{title:"Mandatory Disclosures",href:"/admin/mandatory-disclosures"},{title:"Add",href:"/admin/mandatory-disclosures/create"}],e[0]=I):I=e[0];const xe=I;let M;e[1]===Symbol.for("react.memo_cache_sentinel")?(M={title:"",category:"",file:null,sort_order:0,is_active:!0},e[1]=M):M=e[1];const{data:r,setData:s,post:le,processing:U,errors:l}=_e(M);let R;e[2]!==le?(R=i=>{i.preventDefault(),le("/admin/mandatory-disclosures",{forceFormData:!0})},e[2]=le,e[3]=R):R=e[3];const re=R;let B;e[4]!==r.title||e[5]!==s?(B=i=>{const Y=i.target.files?.[0];if(Y&&(s("file",Y),pe(Y.name),!r.title)){const ue=Y.name.replace(/\.[^/.]+$/,"").replace(/[-_]/g," ");s("title",ue)}},e[4]=r.title,e[5]=s,e[6]=B):B=e[6];const ie=B;let E;e[7]===Symbol.for("react.memo_cache_sentinel")?(E=t.jsx(ye,{title:"Add Mandatory Disclosure"}),e[7]=E):E=e[7];let H;e[8]===Symbol.for("react.memo_cache_sentinel")?(H=t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(de,{variant:"ghost",size:"icon",asChild:!0,children:t.jsx(ge,{href:"/admin/mandatory-disclosures",children:t.jsx(Fe,{className:"h-4 w-4"})})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold",children:"Add Mandatory Disclosure"}),t.jsx("p",{className:"text-muted-foreground",children:"Upload a new disclosure document"})]})]}),e[8]=H):H=e[8];let P;e[9]===Symbol.for("react.memo_cache_sentinel")?(P=t.jsx(oe,{children:t.jsx(ce,{children:"PDF Document *"})}),e[9]=P):P=e[9];let T;e[10]===Symbol.for("react.memo_cache_sentinel")?(T=()=>me.current?.click(),e[10]=T):T=e[10];let a;e[11]!==L?(a=t.jsx("div",{className:"border-2 border-dashed rounded-lg p-8 text-center cursor-pointer hover:border-primary transition-colors",onClick:T,children:L?t.jsxs("div",{className:"space-y-2",children:[t.jsx(he,{className:"h-10 w-10 mx-auto text-green-500"}),t.jsx("p",{className:"font-medium",children:L}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Click to change file"})]}):t.jsxs("div",{className:"space-y-2",children:[t.jsx(he,{className:"h-10 w-10 mx-auto text-muted-foreground"}),t.jsx("p",{children:"Click to upload PDF document"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"PDF files only, max 10MB"})]})}),e[11]=L,e[12]=a):a=e[12];let o;e[13]!==ie?(o=t.jsx("input",{ref:me,type:"file",accept:".pdf",className:"hidden",onChange:ie}),e[13]=ie,e[14]=o):o=e[14];let c;e[15]!==l.file?(c=l.file&&t.jsx("p",{className:"text-sm text-red-500 mt-2",children:l.file}),e[15]=l.file,e[16]=c):c=e[16];let m;e[17]!==o||e[18]!==c||e[19]!==a?(m=t.jsxs(Z,{children:[P,t.jsxs(ee,{children:[a,o,c]})]}),e[17]=o,e[18]=c,e[19]=a,e[20]=m):m=e[20];let O;e[21]===Symbol.for("react.memo_cache_sentinel")?(O=t.jsx(oe,{children:t.jsx(ce,{children:"Document Details"})}),e[21]=O):O=e[21];let V;e[22]===Symbol.for("react.memo_cache_sentinel")?(V=t.jsx(te,{htmlFor:"title",children:"Title *"}),e[22]=V):V=e[22];let n;e[23]!==s?(n=i=>s("title",i.target.value),e[23]=s,e[24]=n):n=e[24];let d;e[25]!==r.title||e[26]!==n?(d=t.jsx(fe,{id:"title",value:r.title,onChange:n,placeholder:"e.g., School Infrastructure Details",required:!0}),e[25]=r.title,e[26]=n,e[27]=d):d=e[27];let f;e[28]!==l.title?(f=l.title&&t.jsx("p",{className:"text-sm text-red-500",children:l.title}),e[28]=l.title,e[29]=f):f=e[29];let h;e[30]!==d||e[31]!==f?(h=t.jsxs("div",{className:"space-y-2",children:[V,d,f]}),e[30]=d,e[31]=f,e[32]=h):h=e[32];let $;e[33]===Symbol.for("react.memo_cache_sentinel")?($=t.jsx(te,{htmlFor:"category",children:"Category"}),e[33]=$):$=e[33];let p;e[34]!==s?(p=i=>s("category",i),e[34]=s,e[35]=p):p=e[35];let q;e[36]===Symbol.for("react.memo_cache_sentinel")?(q=t.jsx(ve,{children:t.jsx(Ce,{placeholder:"Select category"})}),e[36]=q):q=e[36];let x;e[37]!==k?(x=t.jsx(Ne,{children:Object.entries(k).map(ke)}),e[37]=k,e[38]=x):x=e[38];let u;e[39]!==r.category||e[40]!==p||e[41]!==x?(u=t.jsxs(Se,{value:r.category,onValueChange:p,children:[q,x]}),e[39]=r.category,e[40]=p,e[41]=x,e[42]=u):u=e[42];let j;e[43]!==l.category?(j=l.category&&t.jsx("p",{className:"text-sm text-red-500",children:l.category}),e[43]=l.category,e[44]=j):j=e[44];let _;e[45]!==u||e[46]!==j?(_=t.jsxs("div",{className:"space-y-2",children:[$,u,j]}),e[45]=u,e[46]=j,e[47]=_):_=e[47];let z;e[48]===Symbol.for("react.memo_cache_sentinel")?(z=t.jsx(te,{htmlFor:"sort_order",children:"Sort Order"}),e[48]=z):z=e[48];let y;e[49]!==s?(y=i=>s("sort_order",parseInt(i.target.value)||0),e[49]=s,e[50]=y):y=e[50];let g;e[51]!==r.sort_order||e[52]!==y?(g=t.jsx(fe,{id:"sort_order",type:"number",min:"0",value:r.sort_order,onChange:y,placeholder:"0"}),e[51]=r.sort_order,e[52]=y,e[53]=g):g=e[53];let G;e[54]===Symbol.for("react.memo_cache_sentinel")?(G=t.jsx("p",{className:"text-sm text-muted-foreground",children:"Lower numbers appear first"}),e[54]=G):G=e[54];let b;e[55]!==l.sort_order?(b=l.sort_order&&t.jsx("p",{className:"text-sm text-red-500",children:l.sort_order}),e[55]=l.sort_order,e[56]=b):b=e[56];let N;e[57]!==g||e[58]!==b?(N=t.jsxs("div",{className:"space-y-2",children:[z,g,G,b]}),e[57]=g,e[58]=b,e[59]=N):N=e[59];let S;e[60]!==h||e[61]!==_||e[62]!==N?(S=t.jsxs(Z,{children:[O,t.jsxs(ee,{className:"space-y-4",children:[h,_,N]})]}),e[60]=h,e[61]=_,e[62]=N,e[63]=S):S=e[63];let v;e[64]!==m||e[65]!==S?(v=t.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[m,S]}),e[64]=m,e[65]=S,e[66]=v):v=e[66];let J;e[67]===Symbol.for("react.memo_cache_sentinel")?(J=t.jsx(oe,{children:t.jsx(ce,{children:"Status"})}),e[67]=J):J=e[67];let K;e[68]===Symbol.for("react.memo_cache_sentinel")?(K=t.jsx(te,{htmlFor:"is_active",children:"Active"}),e[68]=K):K=e[68];let C;e[69]!==s?(C=i=>s("is_active",i),e[69]=s,e[70]=C):C=e[70];let D;e[71]!==r.is_active||e[72]!==C?(D=t.jsxs("div",{className:"flex items-center justify-between",children:[K,t.jsx(we,{id:"is_active",checked:r.is_active,onCheckedChange:C})]}),e[71]=r.is_active,e[72]=C,e[73]=D):D=e[73];let Q;e[74]===Symbol.for("react.memo_cache_sentinel")?(Q=t.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Active disclosures are visible on the website"}),e[74]=Q):Q=e[74];let w;e[75]!==D?(w=t.jsxs(Z,{children:[J,t.jsxs(ee,{children:[D,Q]})]}),e[75]=D,e[76]=w):w=e[76];let W;e[77]===Symbol.for("react.memo_cache_sentinel")?(W=t.jsx(Ae,{className:"h-4 w-4 mr-2"}),e[77]=W):W=e[77];const ae=U?"Uploading...":"Upload Disclosure";let F;e[78]!==U||e[79]!==ae?(F=t.jsx(Z,{children:t.jsx(ee,{className:"p-4",children:t.jsxs(de,{type:"submit",className:"w-full",disabled:U,children:[W,ae]})})}),e[78]=U,e[79]=ae,e[80]=F):F=e[80];let A;e[81]!==w||e[82]!==F?(A=t.jsxs("div",{className:"space-y-6",children:[w,F]}),e[81]=w,e[82]=F,e[83]=A):A=e[83];let X;return e[84]!==re||e[85]!==v||e[86]!==A?(X=t.jsxs(be,{breadcrumbs:xe,children:[E,t.jsxs("div",{className:"space-y-6 p-6",children:[H,t.jsxs("form",{onSubmit:re,className:"grid lg:grid-cols-3 gap-6",children:[v,A]})]})]}),e[84]=re,e[85]=v,e[86]=A,e[87]=X):X=e[87],X}function ke(se){const[e,k]=se;return t.jsx(De,{value:e,children:k},e)}export{_t as default};
