import{c as Ee,r as Fe,u as Le,j as t,H as Be,L as Ie}from"./app-Cmq9oDGi.js";import{A as $e}from"./app-layout-DoVO_vzw.js";import{B as De}from"./button-Cf4oe_XG.js";import{C as fe,a as he,c as T,d as U}from"./card-X8yrq1E7.js";import{I as ke}from"./input-CJJo5L_5.js";import{L as xe}from"./label-DJa8iKFL.js";import{S as Me,b as Re,c as Te,d as Ue,a as He}from"./select-MDq58P37.js";import{S as Oe}from"./switch-C474g68b.js";import{A as Pe}from"./arrow-left-D1AIGgPf.js";import{F as Ve}from"./x-HfyhX8Ju.js";import{U as ze}from"./upload-BhALOVoL.js";import{S as qe}from"./save-CXYQgcZY.js";/* empty css            */import"./index-CWF-aD8F.js";import"./index-uM6iNYTc.js";import"./index-7JW2xj0O.js";import"./index-DyFFqtbr.js";import"./Combination-NTvMx_hL.js";import"./index-BZSQ9xrA.js";import"./index-DvAkvJaB.js";import"./index-CJXivgjO.js";import"./index-C9wRH-1q.js";import"./index-D_u97ceG.js";import"./index-BQQBJX9w.js";import"./index-CghxG9km.js";import"./avatar-XGiuVYGe.js";import"./index-Caa2gN9W.js";import"./index-DHA2i0B2.js";import"./image-DO4yfKR-.js";import"./link-CZ3Nda4c.js";import"./quote-RHalnNgg.js";import"./newspaper-BNdRHAAi.js";import"./megaphone-D5LK33hs.js";import"./indian-rupee-n2MNJtU2.js";import"./file-check-Cs6It4z_.js";import"./folder-B56i9kPD.js";import"./handshake-TJFmC-Ix.js";import"./school-D_aABbcu.js";import"./index-CJgzQKWL.js";import"./chevron-up-08YVdQiA.js";import"./check-z4pC7DcM.js";const Ge=o=>{if(!o)return"N/A";const e=["B","KB","MB","GB"];let s=0;for(;o>=1024&&s<e.length-1;)o/=1024,s++;return`${o.toFixed(1)} ${e[s]}`};function It(o){const e=Ee.c(115),{disclosure:s,categories:pe}=o,[H,Ae]=Fe.useState(null),we=Fe.useRef(null);let O,P;e[0]===Symbol.for("react.memo_cache_sentinel")?(O={title:"Dashboard",href:"/admin"},P={title:"Mandatory Disclosures",href:"/admin/mandatory-disclosures"},e[0]=O,e[1]=P):(O=e[0],P=e[1]);const ue=`/admin/mandatory-disclosures/${s.id}/edit`;let V;e[2]!==ue?(V=[O,P,{title:"Edit",href:ue}],e[2]=ue,e[3]=V):V=e[3];const je=V,_e=s.category||"";let q;e[4]!==s.is_active||e[5]!==s.sort_order||e[6]!==s.title||e[7]!==_e?(q={_method:"PUT",title:s.title,category:_e,file:null,sort_order:s.sort_order,is_active:s.is_active},e[4]=s.is_active,e[5]=s.sort_order,e[6]=s.title,e[7]=_e,e[8]=q):q=e[8];const{data:i,setData:r,post:ge,processing:G,errors:l}=Le(q);let K;e[9]!==s.id||e[10]!==ge?(K=a=>{a.preventDefault(),ge(`/admin/mandatory-disclosures/${s.id}`,{forceFormData:!0})},e[9]=s.id,e[10]=ge,e[11]=K):K=e[11];const ye=K;let J;e[12]!==r?(J=a=>{const Ce=a.target.files?.[0];Ce&&(r("file",Ce),Ae(Ce.name))},e[12]=r,e[13]=J):J=e[13];const ve=J;let Q;e[14]===Symbol.for("react.memo_cache_sentinel")?(Q=t.jsx(Be,{title:"Edit Mandatory Disclosure"}),e[14]=Q):Q=e[14];let W;e[15]===Symbol.for("react.memo_cache_sentinel")?(W=t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(De,{variant:"ghost",size:"icon",asChild:!0,children:t.jsx(Ie,{href:"/admin/mandatory-disclosures",children:t.jsx(Pe,{className:"h-4 w-4"})})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold",children:"Edit Mandatory Disclosure"}),t.jsx("p",{className:"text-muted-foreground",children:"Update disclosure document details"})]})]}),e[15]=W):W=e[15];let X;e[16]===Symbol.for("react.memo_cache_sentinel")?(X=t.jsx(fe,{children:t.jsx(he,{children:"Current Document"})}),e[16]=X):X=e[16];let Y;e[17]===Symbol.for("react.memo_cache_sentinel")?(Y=t.jsx(Ve,{className:"h-10 w-10 text-red-500"}),e[17]=Y):Y=e[17];const Ne=s.file_name||s.title;let c;e[18]!==Ne?(c=t.jsx("p",{className:"font-medium",children:Ne}),e[18]=Ne,e[19]=c):c=e[19];let n;e[20]!==s.file_size?(n=Ge(s.file_size),e[20]=s.file_size,e[21]=n):n=e[21];let m;e[22]!==n?(m=t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Size: ",n]}),e[22]=n,e[23]=m):m=e[23];let d;e[24]!==c||e[25]!==m?(d=t.jsxs("div",{className:"flex-1",children:[c,m]}),e[24]=c,e[25]=m,e[26]=d):d=e[26];const Se=`/storage/${s.file_path}`;let f;e[27]!==Se?(f=t.jsx(De,{variant:"outline",size:"sm",asChild:!0,children:t.jsx("a",{href:Se,target:"_blank",rel:"noopener noreferrer",children:"View PDF"})}),e[27]=Se,e[28]=f):f=e[28];let h;e[29]!==d||e[30]!==f?(h=t.jsxs(T,{children:[X,t.jsx(U,{children:t.jsxs("div",{className:"flex items-center gap-4 p-4 bg-muted rounded-lg",children:[Y,d,f]})})]}),e[29]=d,e[30]=f,e[31]=h):h=e[31];let Z;e[32]===Symbol.for("react.memo_cache_sentinel")?(Z=t.jsx(fe,{children:t.jsx(he,{children:"Replace Document (Optional)"})}),e[32]=Z):Z=e[32];let ee;e[33]===Symbol.for("react.memo_cache_sentinel")?(ee=()=>we.current?.click(),e[33]=ee):ee=e[33];let x;e[34]!==H?(x=t.jsx("div",{className:"border-2 border-dashed rounded-lg p-6 text-center cursor-pointer hover:border-primary transition-colors",onClick:ee,children:H?t.jsxs("div",{className:"space-y-2",children:[t.jsx(ze,{className:"h-8 w-8 mx-auto text-green-500"}),t.jsx("p",{className:"font-medium",children:H}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Click to change file"})]}):t.jsxs("div",{className:"space-y-2",children:[t.jsx(ze,{className:"h-8 w-8 mx-auto text-muted-foreground"}),t.jsx("p",{className:"text-sm",children:"Click to upload a new PDF to replace the current one"})]})}),e[34]=H,e[35]=x):x=e[35];let p;e[36]!==ve?(p=t.jsx("input",{ref:we,type:"file",accept:".pdf",className:"hidden",onChange:ve}),e[36]=ve,e[37]=p):p=e[37];let u;e[38]!==l.file?(u=l.file&&t.jsx("p",{className:"text-sm text-red-500 mt-2",children:l.file}),e[38]=l.file,e[39]=u):u=e[39];let j;e[40]!==x||e[41]!==p||e[42]!==u?(j=t.jsxs(T,{children:[Z,t.jsxs(U,{children:[x,p,u]})]}),e[40]=x,e[41]=p,e[42]=u,e[43]=j):j=e[43];let te;e[44]===Symbol.for("react.memo_cache_sentinel")?(te=t.jsx(fe,{children:t.jsx(he,{children:"Document Details"})}),e[44]=te):te=e[44];let se;e[45]===Symbol.for("react.memo_cache_sentinel")?(se=t.jsx(xe,{htmlFor:"title",children:"Title *"}),e[45]=se):se=e[45];let _;e[46]!==r?(_=a=>r("title",a.target.value),e[46]=r,e[47]=_):_=e[47];let g;e[48]!==i.title||e[49]!==_?(g=t.jsx(ke,{id:"title",value:i.title,onChange:_,placeholder:"e.g., School Infrastructure Details",required:!0}),e[48]=i.title,e[49]=_,e[50]=g):g=e[50];let y;e[51]!==l.title?(y=l.title&&t.jsx("p",{className:"text-sm text-red-500",children:l.title}),e[51]=l.title,e[52]=y):y=e[52];let v;e[53]!==g||e[54]!==y?(v=t.jsxs("div",{className:"space-y-2",children:[se,g,y]}),e[53]=g,e[54]=y,e[55]=v):v=e[55];let le;e[56]===Symbol.for("react.memo_cache_sentinel")?(le=t.jsx(xe,{htmlFor:"category",children:"Category"}),e[56]=le):le=e[56];let N;e[57]!==r?(N=a=>r("category",a),e[57]=r,e[58]=N):N=e[58];let re;e[59]===Symbol.for("react.memo_cache_sentinel")?(re=t.jsx(Te,{children:t.jsx(Ue,{placeholder:"Select category"})}),e[59]=re):re=e[59];let S;e[60]!==pe?(S=t.jsx(Me,{children:Object.entries(pe).map(Ke)}),e[60]=pe,e[61]=S):S=e[61];let b;e[62]!==i.category||e[63]!==N||e[64]!==S?(b=t.jsxs(Re,{value:i.category,onValueChange:N,children:[re,S]}),e[62]=i.category,e[63]=N,e[64]=S,e[65]=b):b=e[65];let C;e[66]!==l.category?(C=l.category&&t.jsx("p",{className:"text-sm text-red-500",children:l.category}),e[66]=l.category,e[67]=C):C=e[67];let D;e[68]!==b||e[69]!==C?(D=t.jsxs("div",{className:"space-y-2",children:[le,b,C]}),e[68]=b,e[69]=C,e[70]=D):D=e[70];let ie;e[71]===Symbol.for("react.memo_cache_sentinel")?(ie=t.jsx(xe,{htmlFor:"sort_order",children:"Sort Order"}),e[71]=ie):ie=e[71];let w;e[72]!==r?(w=a=>r("sort_order",parseInt(a.target.value)||0),e[72]=r,e[73]=w):w=e[73];let F;e[74]!==i.sort_order||e[75]!==w?(F=t.jsx(ke,{id:"sort_order",type:"number",min:"0",value:i.sort_order,onChange:w,placeholder:"0"}),e[74]=i.sort_order,e[75]=w,e[76]=F):F=e[76];let ae;e[77]===Symbol.for("react.memo_cache_sentinel")?(ae=t.jsx("p",{className:"text-sm text-muted-foreground",children:"Lower numbers appear first"}),e[77]=ae):ae=e[77];let k;e[78]!==l.sort_order?(k=l.sort_order&&t.jsx("p",{className:"text-sm text-red-500",children:l.sort_order}),e[78]=l.sort_order,e[79]=k):k=e[79];let z;e[80]!==F||e[81]!==k?(z=t.jsxs("div",{className:"space-y-2",children:[ie,F,ae,k]}),e[80]=F,e[81]=k,e[82]=z):z=e[82];let A;e[83]!==v||e[84]!==D||e[85]!==z?(A=t.jsxs(T,{children:[te,t.jsxs(U,{className:"space-y-4",children:[v,D,z]})]}),e[83]=v,e[84]=D,e[85]=z,e[86]=A):A=e[86];let E;e[87]!==h||e[88]!==j||e[89]!==A?(E=t.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[h,j,A]}),e[87]=h,e[88]=j,e[89]=A,e[90]=E):E=e[90];let oe;e[91]===Symbol.for("react.memo_cache_sentinel")?(oe=t.jsx(fe,{children:t.jsx(he,{children:"Status"})}),e[91]=oe):oe=e[91];let ce;e[92]===Symbol.for("react.memo_cache_sentinel")?(ce=t.jsx(xe,{htmlFor:"is_active",children:"Active"}),e[92]=ce):ce=e[92];let L;e[93]!==r?(L=a=>r("is_active",a),e[93]=r,e[94]=L):L=e[94];let B;e[95]!==i.is_active||e[96]!==L?(B=t.jsxs("div",{className:"flex items-center justify-between",children:[ce,t.jsx(Oe,{id:"is_active",checked:i.is_active,onCheckedChange:L})]}),e[95]=i.is_active,e[96]=L,e[97]=B):B=e[97];let ne;e[98]===Symbol.for("react.memo_cache_sentinel")?(ne=t.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Active disclosures are visible on the website"}),e[98]=ne):ne=e[98];let I;e[99]!==B?(I=t.jsxs(T,{children:[oe,t.jsxs(U,{children:[B,ne]})]}),e[99]=B,e[100]=I):I=e[100];let me;e[101]===Symbol.for("react.memo_cache_sentinel")?(me=t.jsx(qe,{className:"h-4 w-4 mr-2"}),e[101]=me):me=e[101];const be=G?"Saving...":"Save Changes";let $;e[102]!==G||e[103]!==be?($=t.jsx(T,{children:t.jsx(U,{className:"p-4",children:t.jsxs(De,{type:"submit",className:"w-full",disabled:G,children:[me,be]})})}),e[102]=G,e[103]=be,e[104]=$):$=e[104];let M;e[105]!==I||e[106]!==$?(M=t.jsxs("div",{className:"space-y-6",children:[I,$]}),e[105]=I,e[106]=$,e[107]=M):M=e[107];let R;e[108]!==ye||e[109]!==E||e[110]!==M?(R=t.jsxs("div",{className:"space-y-6 p-6",children:[W,t.jsxs("form",{onSubmit:ye,className:"grid lg:grid-cols-3 gap-6",children:[E,M]})]}),e[108]=ye,e[109]=E,e[110]=M,e[111]=R):R=e[111];let de;return e[112]!==je||e[113]!==R?(de=t.jsxs($e,{breadcrumbs:je,children:[Q,R]}),e[112]=je,e[113]=R,e[114]=de):de=e[114],de}function Ke(o){const[e,s]=o;return t.jsx(He,{value:e,children:s},e)}export{It as default};
